<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ko6: /users/enseig/franck/ko6/src/soft/kernel/ksynchro.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo55.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ko6
   </div>
   <div id="projectbrief">ko6 (prononce it &#39;kit-O-sys&#39; O is  the letter not the number) is a small operating system for educationnal purpose</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_8785740846211ac34fd04c61a1fdd888.html">soft</a></li><li class="navelem"><a class="el" href="dir_f1add7e60d3117fa5e9acdff1c3c9be3.html">kernel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ksynchro.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="ksynchro_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*------------------------------------------------------------------------------------------------*\</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">   _     ___    __</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment">  | |__ /&#39;v&#39;\  / /      \date       2022-07-03</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">  | / /(     )/ _ \     \copyright  2021-2022 Sorbonne University</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment">  |_\_\ x___x \___/                 https://opensource.org/licenses/MIT</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">  \file     kernel/ksynchro.h</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment">  \author   Franck Wajsburt</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">  \brief    synchronization service function API for the user application</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">\*------------------------------------------------------------------------------------------------*/</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#ifndef _KSYNC_H_</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _KSYNC_H_</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment">//--------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment">// Mutex API</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment">//--------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="ksynchro_8h.html#ae7e296fd691b7e81249a311441936f79">   26</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structthread__mutex__s.html">thread_mutex_s</a> * <a class="code" href="ksynchro_8h.html#ae7e296fd691b7e81249a311441936f79">thread_mutex_t</a>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="ksynchro_8c.html#a2fbf4c52b56586ce18013333c7a1d37e">thread_mutex_init</a> (thread_mutex_t * mutex);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="ksynchro_8c.html#af85d5d2e4a36615955a7cfbae10eeec5">thread_mutex_destroy</a> (thread_mutex_t * mutex);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="ksynchro_8c.html#aa5d516e2832e4c1f4d222a79fabe76a2">thread_mutex_lock</a> (thread_mutex_t * mutex);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="ksynchro_8c.html#ad515bf71cd806fc2d1a5c4143aca3988">thread_mutex_unlock</a> (thread_mutex_t * mutex);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">//--------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">// Barrier API</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">//--------------------------------------------------------------------------------------------------</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno"><a class="line" href="ksynchro_8h.html#a130bec7a93458fc744ffe3d6b7c85e8c">   71</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="structthread__barrier__s.html">thread_barrier_s</a> * <a class="code" href="ksynchro_8h.html#a130bec7a93458fc744ffe3d6b7c85e8c">thread_barrier_t</a>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="ksynchro_8c.html#adea6885b17fdfc05ad0414fbaa41dd89">thread_barrier_init</a> (thread_barrier_t * <a class="code" href="barrier_2main_8c.html#a779bfbbb688cf46720cfb65109ea4858">barrier</a>, <span class="keywordtype">size_t</span> count);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="ksynchro_8c.html#aea6f07b8093fabd5e248aae8b7e64abb">thread_barrier_wait</a> (thread_barrier_t * <a class="code" href="barrier_2main_8c.html#a779bfbbb688cf46720cfb65109ea4858">barrier</a>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="keyword">extern</span> <span class="keywordtype">int</span> <a class="code" href="ksynchro_8c.html#a384a3caafcd4e7c672a583fc4183f983">thread_barrier_destroy</a> (thread_barrier_t * <a class="code" href="barrier_2main_8c.html#a779bfbbb688cf46720cfb65109ea4858">barrier</a>);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor">#endif//_KSYNC_H_</span></div>
<div class="ttc" id="ksynchro_8c_html_aa5d516e2832e4c1f4d222a79fabe76a2"><div class="ttname"><a href="ksynchro_8c.html#aa5d516e2832e4c1f4d222a79fabe76a2">thread_mutex_lock</a></div><div class="ttdeci">int thread_mutex_lock(thread_mutex_t *mutex)</div><div class="ttdoc">lock the referenced mutex, it is a blocking operation. If the mutex is already locked, the calling thread blocks until the mutex becomes available. If the mutex does not exist or is already locked, this is an error </div><div class="ttdef"><b>Definition:</b> ksynchro.c:75</div></div>
<div class="ttc" id="ksynchro_8c_html_a2fbf4c52b56586ce18013333c7a1d37e"><div class="ttname"><a href="ksynchro_8c.html#a2fbf4c52b56586ce18013333c7a1d37e">thread_mutex_init</a></div><div class="ttdeci">int thread_mutex_init(thread_mutex_t *mutex)</div><div class="ttdoc">creates a new mutex and initializes mutex variable with the new mutex (side effect) it is a nutex wit...</div><div class="ttdef"><b>Definition:</b> ksynchro.c:31</div></div>
<div class="ttc" id="ksynchro_8c_html_af85d5d2e4a36615955a7cfbae10eeec5"><div class="ttname"><a href="ksynchro_8c.html#af85d5d2e4a36615955a7cfbae10eeec5">thread_mutex_destroy</a></div><div class="ttdeci">int thread_mutex_destroy(thread_mutex_t *mutex)</div><div class="ttdoc">destroy the referenced mutex If the mutex is locked the destruction is not done, this is an error ...</div><div class="ttdef"><b>Definition:</b> ksynchro.c:46</div></div>
<div class="ttc" id="barrier_2main_8c_html_a779bfbbb688cf46720cfb65109ea4858"><div class="ttname"><a href="barrier_2main_8c.html#a779bfbbb688cf46720cfb65109ea4858">barrier</a></div><div class="ttdeci">pthread_barrier_t barrier</div><div class="ttdef"><b>Definition:</b> main.c:20</div></div>
<div class="ttc" id="ksynchro_8c_html_ad515bf71cd806fc2d1a5c4143aca3988"><div class="ttname"><a href="ksynchro_8c.html#ad515bf71cd806fc2d1a5c4143aca3988">thread_mutex_unlock</a></div><div class="ttdeci">int thread_mutex_unlock(thread_mutex_t *mutex)</div><div class="ttdoc">unlock the referenced mutex If the mutex does not exist or is not locked or has been locked by anothe...</div><div class="ttdef"><b>Definition:</b> ksynchro.c:107</div></div>
<div class="ttc" id="ksynchro_8c_html_adea6885b17fdfc05ad0414fbaa41dd89"><div class="ttname"><a href="ksynchro_8c.html#adea6885b17fdfc05ad0414fbaa41dd89">thread_barrier_init</a></div><div class="ttdeci">int thread_barrier_init(thread_barrier_t *barrier, size_t count)</div><div class="ttdoc">creates or initialize a barrier depending the value of barrier parameter </div><div class="ttdef"><b>Definition:</b> ksynchro.c:143</div></div>
<div class="ttc" id="ksynchro_8c_html_aea6f07b8093fabd5e248aae8b7e64abb"><div class="ttname"><a href="ksynchro_8c.html#aea6f07b8093fabd5e248aae8b7e64abb">thread_barrier_wait</a></div><div class="ttdeci">int thread_barrier_wait(thread_barrier_t *barrier)</div><div class="ttdoc">wait to the referenced barrier, it is a blocking operation for all thread but the last the last arriv...</div><div class="ttdef"><b>Definition:</b> ksynchro.c:175</div></div>
<div class="ttc" id="ksynchro_8h_html_a130bec7a93458fc744ffe3d6b7c85e8c"><div class="ttname"><a href="ksynchro_8h.html#a130bec7a93458fc744ffe3d6b7c85e8c">thread_barrier_t</a></div><div class="ttdeci">struct thread_barrier_s * thread_barrier_t</div><div class="ttdoc">hidden barrier type, the user do not what is in the barrier structure </div><div class="ttdef"><b>Definition:</b> ksynchro.h:71</div></div>
<div class="ttc" id="structthread__barrier__s_html"><div class="ttname"><a href="structthread__barrier__s.html">thread_barrier_s</a></div><div class="ttdef"><b>Definition:</b> ksynchro.c:135</div></div>
<div class="ttc" id="structthread__mutex__s_html"><div class="ttname"><a href="structthread__mutex__s.html">thread_mutex_s</a></div><div class="ttdef"><b>Definition:</b> ksynchro.c:21</div></div>
<div class="ttc" id="ksynchro_8h_html_ae7e296fd691b7e81249a311441936f79"><div class="ttname"><a href="ksynchro_8h.html#ae7e296fd691b7e81249a311441936f79">thread_mutex_t</a></div><div class="ttdeci">struct thread_mutex_s * thread_mutex_t</div><div class="ttdoc">hidden mutex type, the other modules do not what is in the mutex structure </div><div class="ttdef"><b>Definition:</b> ksynchro.h:26</div></div>
<div class="ttc" id="ksynchro_8c_html_a384a3caafcd4e7c672a583fc4183f983"><div class="ttname"><a href="ksynchro_8c.html#a384a3caafcd4e7c672a583fc4183f983">thread_barrier_destroy</a></div><div class="ttdeci">int thread_barrier_destroy(thread_barrier_t *barrier)</div><div class="ttdoc">destroy the referenced barrier If a thread is waiting at the barrier, then the destruction is not don...</div><div class="ttdef"><b>Definition:</b> ksynchro.c:201</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
