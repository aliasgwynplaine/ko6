<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ko6: /users/enseig/franck/ko6/src/soft/kernel/ksyscalls.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo55.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ko6
   </div>
   <div id="projectbrief">ko6 (prononce it &#39;kit-O-sys&#39; O is  the letter not the number) is a small operating system for educationnal purpose</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_8785740846211ac34fd04c61a1fdd888.html">soft</a></li><li class="navelem"><a class="el" href="dir_f1add7e60d3117fa5e9acdff1c3c9be3.html">kernel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">ksyscalls.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="dma_8h_source.html">hal/devices/dma.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="klibc_8h_source.html">kernel/klibc.h</a>&gt;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acc250850867ae5b7ad679ecbcbd85824"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ksyscalls_8c.html#acc250850867ae5b7ad679ecbcbd85824">unknown_syscall</a> (int <a class="el" href="riscv_2threada_8S.html#aaef62817c8f68f920ec8214f18b86a4c">a0</a>, int <a class="el" href="barrier_2main_8c.html#a877bbde9c70c0c406dc4750657939af6">a1</a>, int <a class="el" href="riscv_2kpanica_8S.html#aad0da287fb9a0e51b7226e5df3a8c56d">a2</a>, int <a class="el" href="riscv_2kpanica_8S.html#aef1c12591f59927336c38f63fabe8eca">a3</a>, int syscall_code)</td></tr>
<tr class="separator:acc250850867ae5b7ad679ecbcbd85824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3e1d79745fc92adae457ffd701fb4e1"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ksyscalls_8c.html#af3e1d79745fc92adae457ffd701fb4e1">dma_memcpy_user</a> (int *dest, int *src, size_t n)</td></tr>
<tr class="separator:af3e1d79745fc92adae457ffd701fb4e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88a7346c373739b293fc3c00462a8033"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ksyscalls_8c.html#a88a7346c373739b293fc3c00462a8033">dcache_buf_inval_user</a> (void *buf, size_t size)</td></tr>
<tr class="separator:a88a7346c373739b293fc3c00462a8033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afba304a121f2232247cabf3ef6cb9cde"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ksyscalls_8c.html#afba304a121f2232247cabf3ef6cb9cde">dcache_inval_user</a> (void *addr)</td></tr>
<tr class="separator:afba304a121f2232247cabf3ef6cb9cde"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac032bde1c16f368d24dbcde8d400a203"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ksyscalls_8c.html#ac032bde1c16f368d24dbcde8d400a203">SyscallVector</a> []</td></tr>
<tr class="separator:ac032bde1c16f368d24dbcde8d400a203"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a88a7346c373739b293fc3c00462a8033"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int dcache_buf_inval_user </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="riscv_2cache_8S.html#a55e097eac5768a878728c55450b75595">dcache_buf_invalidate</a>, <a class="el" href="errno_8h.html#a447416ba79b4777e7accabf3a8163cb3a156dcc38d9ba0765c6150544963ed267">EPERM</a>, and <a class="el" href="errno_8h.html#a447416ba79b4777e7accabf3a8163cb3ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)buf &gt;= 0x80000000) <span class="keywordflow">return</span> <a class="code" href="errno_8h.html#a447416ba79b4777e7accabf3a8163cb3a156dcc38d9ba0765c6150544963ed267">EPERM</a>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)buf+size &gt;= 0x80000000) <span class="keywordflow">return</span> <a class="code" href="errno_8h.html#a447416ba79b4777e7accabf3a8163cb3a156dcc38d9ba0765c6150544963ed267">EPERM</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="riscv_2cache_8S.html#a55e097eac5768a878728c55450b75595">dcache_buf_invalidate</a> (buf, size);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="errno_8h.html#a447416ba79b4777e7accabf3a8163cb3ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;}</div>
<div class="ttc" id="errno_8h_html_a447416ba79b4777e7accabf3a8163cb3a156dcc38d9ba0765c6150544963ed267"><div class="ttname"><a href="errno_8h.html#a447416ba79b4777e7accabf3a8163cb3a156dcc38d9ba0765c6150544963ed267">EPERM</a></div><div class="ttdef"><b>Definition:</b> errno.h:52</div></div>
<div class="ttc" id="errno_8h_html_a447416ba79b4777e7accabf3a8163cb3ac7f69f7c9e5aea9b8f54cf02870e2bf8"><div class="ttname"><a href="errno_8h.html#a447416ba79b4777e7accabf3a8163cb3ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a></div><div class="ttdef"><b>Definition:</b> errno.h:34</div></div>
<div class="ttc" id="riscv_2cache_8S_html_a55e097eac5768a878728c55450b75595"><div class="ttname"><a href="riscv_2cache_8S.html#a55e097eac5768a878728c55450b75595">dcache_buf_invalidate</a></div><div class="ttdeci">section text globl cachelinesize ret globl dcache_buf_invalidate globl dcache_invalidate dcache_buf_invalidate</div><div class="ttdef"><b>Definition:</b> cache.S:21</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afba304a121f2232247cabf3ef6cb9cde"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int dcache_inval_user </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="mips_2cache_8S.html#a6b1cee7dfcedefdfff3639527ddaca97">dcache_invalidate</a>, <a class="el" href="errno_8h.html#a447416ba79b4777e7accabf3a8163cb3a156dcc38d9ba0765c6150544963ed267">EPERM</a>, and <a class="el" href="errno_8h.html#a447416ba79b4777e7accabf3a8163cb3ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a>.</p>
<div class="fragment"><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)addr &gt;= 0x80000000) <span class="keywordflow">return</span> <a class="code" href="errno_8h.html#a447416ba79b4777e7accabf3a8163cb3a156dcc38d9ba0765c6150544963ed267">EPERM</a>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="mips_2cache_8S.html#a6b1cee7dfcedefdfff3639527ddaca97">dcache_invalidate</a> (addr);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="errno_8h.html#a447416ba79b4777e7accabf3a8163cb3ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;}</div>
<div class="ttc" id="errno_8h_html_a447416ba79b4777e7accabf3a8163cb3a156dcc38d9ba0765c6150544963ed267"><div class="ttname"><a href="errno_8h.html#a447416ba79b4777e7accabf3a8163cb3a156dcc38d9ba0765c6150544963ed267">EPERM</a></div><div class="ttdef"><b>Definition:</b> errno.h:52</div></div>
<div class="ttc" id="errno_8h_html_a447416ba79b4777e7accabf3a8163cb3ac7f69f7c9e5aea9b8f54cf02870e2bf8"><div class="ttname"><a href="errno_8h.html#a447416ba79b4777e7accabf3a8163cb3ac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a></div><div class="ttdef"><b>Definition:</b> errno.h:34</div></div>
<div class="ttc" id="mips_2cache_8S_html_a6b1cee7dfcedefdfff3639527ddaca97"><div class="ttname"><a href="mips_2cache_8S.html#a6b1cee7dfcedefdfff3639527ddaca97">dcache_invalidate</a></div><div class="ttdeci">section text globl cachelinesize cachelinesize_end dcache_inval_end dcache_inval_loop dcache_invalidate</div><div class="ttdef"><b>Definition:</b> cache.S:21</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af3e1d79745fc92adae457ffd701fb4e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* dma_memcpy_user </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="dma_8h.html#ab7b132ec5de4439a90137a52001a4801">dma_get</a>, <a class="el" href="structdma__ops__s.html#a4d6f4471ec92c929885e182d8efd1186">dma_ops_s::dma_memcpy</a>, <a class="el" href="cstd_8c.html#a40deeb5b928964e60d97b3b8fd8a9b33">memcpy()</a>, <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, and <a class="el" href="structdma__s.html#ac213f02a6ace026dfcd3de21f16347ba">dma_s::ops</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)src &gt;= 0x80000000) <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)dest &gt;= 0x80000000) <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)src+n &gt;= 0x80000000) <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)dest+n &gt;= 0x80000000) <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">if</span> (n &gt;= 0x80000000) <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="comment">// Get the DMA device</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keyword">struct </span><a class="code" href="structdma__s.html">dma_s</a> *dma = <a class="code" href="dma_8h.html#ab7b132ec5de4439a90137a52001a4801">dma_get</a>(0);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">if</span> (!dma)</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="comment">// If no DMA is available, do a reguler memcpy</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="comment">// TODO: verify this isn&#39;t dangerous</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="cstd_8c.html#a40deeb5b928964e60d97b3b8fd8a9b33">memcpy</a>((<span class="keywordtype">char</span>*) dest, (<span class="keywordtype">char</span>*) src, n * 4);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="keywordflow">return</span> dma-&gt;<a class="code" href="structdma__s.html#ac213f02a6ace026dfcd3de21f16347ba">ops</a>-&gt;<a class="code" href="structdma__ops__s.html#a4d6f4471ec92c929885e182d8efd1186">dma_memcpy</a> (dma, dest, src, n);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div>
<div class="ttc" id="cstd_8c_html_a40deeb5b928964e60d97b3b8fd8a9b33"><div class="ttname"><a href="cstd_8c.html#a40deeb5b928964e60d97b3b8fd8a9b33">memcpy</a></div><div class="ttdeci">void * memcpy(char *dest, const char *src, unsigned n)</div><div class="ttdoc">copies buffer src to the buffer dest (the buffers must be disjoints) </div><div class="ttdef"><b>Definition:</b> cstd.c:31</div></div>
<div class="ttc" id="structdma__s_html"><div class="ttname"><a href="structdma__s.html">dma_s</a></div><div class="ttdoc">DMA device specific information. </div><div class="ttdef"><b>Definition:</b> dma.h:44</div></div>
<div class="ttc" id="structdma__ops__s_html_a4d6f4471ec92c929885e182d8efd1186"><div class="ttname"><a href="structdma__ops__s.html#a4d6f4471ec92c929885e182d8efd1186">dma_ops_s::dma_memcpy</a></div><div class="ttdeci">void *(* dma_memcpy)(struct dma_s *dma, int *dst, int *src, unsigned n)</div><div class="ttdoc">Generic function that copy a buffer from a memory location to another using a DMA device...</div><div class="ttdef"><b>Definition:</b> dma.h:40</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
<div class="ttc" id="structdma__s_html_ac213f02a6ace026dfcd3de21f16347ba"><div class="ttname"><a href="structdma__s.html#ac213f02a6ace026dfcd3de21f16347ba">dma_s::ops</a></div><div class="ttdeci">struct dma_ops_s * ops</div><div class="ttdef"><b>Definition:</b> dma.h:46</div></div>
<div class="ttc" id="dma_8h_html_ab7b132ec5de4439a90137a52001a4801"><div class="ttname"><a href="dma_8h.html#ab7b132ec5de4439a90137a52001a4801">dma_get</a></div><div class="ttdeci">#define dma_get(no)</div><div class="ttdef"><b>Definition:</b> dma.h:49</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acc250850867ae5b7ad679ecbcbd85824"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int unknown_syscall </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>a3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>syscall_code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="errno_8h.html#a447416ba79b4777e7accabf3a8163cb3abd287bcdb80bb2a0c41269b9adcb9d77">ENOSYS</a>, and <a class="el" href="klibc_8c.html#ac4ae3bb8e59735d2b772e77186b52228">kprintf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;{</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <a class="code" href="klibc_8c.html#ac4ae3bb8e59735d2b772e77186b52228">kprintf</a> (<span class="stringliteral">&quot;Unknown Syscall : %d\n&quot;</span>, syscall_code);</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    <a class="code" href="klibc_8c.html#ac4ae3bb8e59735d2b772e77186b52228">kprintf</a> (<span class="stringliteral">&quot;a0 : 0x%p (%d)\n&quot;</span>, <a class="code" href="riscv_2atomic_8S.html#a3d9d4d3857e499e04ab8a29c34ab004d">a0</a>, <a class="code" href="riscv_2atomic_8S.html#a3d9d4d3857e499e04ab8a29c34ab004d">a0</a>);</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <a class="code" href="klibc_8c.html#ac4ae3bb8e59735d2b772e77186b52228">kprintf</a> (<span class="stringliteral">&quot;a1 : 0x%p (%d)\n&quot;</span>, <a class="code" href="riscv_2atomic_8S.html#a722b1add1d9781e2115fb2fcc9d5541a">a1</a>, <a class="code" href="riscv_2atomic_8S.html#a722b1add1d9781e2115fb2fcc9d5541a">a1</a>);</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    <a class="code" href="klibc_8c.html#ac4ae3bb8e59735d2b772e77186b52228">kprintf</a> (<span class="stringliteral">&quot;a2 : 0x%p (%d)\n&quot;</span>, <a class="code" href="riscv_2kpanica_8S.html#aad0da287fb9a0e51b7226e5df3a8c56d">a2</a>, <a class="code" href="riscv_2kpanica_8S.html#aad0da287fb9a0e51b7226e5df3a8c56d">a2</a>);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <a class="code" href="klibc_8c.html#ac4ae3bb8e59735d2b772e77186b52228">kprintf</a> (<span class="stringliteral">&quot;a3 : 0x%p (%d)\n&quot;</span>, <a class="code" href="riscv_2kpanica_8S.html#aef1c12591f59927336c38f63fabe8eca">a3</a>, <a class="code" href="riscv_2kpanica_8S.html#aef1c12591f59927336c38f63fabe8eca">a3</a>);</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="errno_8h.html#a447416ba79b4777e7accabf3a8163cb3abd287bcdb80bb2a0c41269b9adcb9d77">ENOSYS</a>;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;}</div>
<div class="ttc" id="riscv_2kpanica_8S_html_aef1c12591f59927336c38f63fabe8eca"><div class="ttname"><a href="riscv_2kpanica_8S.html#aef1c12591f59927336c38f63fabe8eca">a3</a></div><div class="ttdeci">globl kpanic sw sp la KPanicRegsVal sw KPANIC_RA *t0 sw KPANIC_GP *t0 sw KPANIC_TP *t0 sw KPANIC_T1 *t0 sw KPANIC_T2 *t0 sw KPANIC_S0 *t0 sw KPANIC_S1 *t0 sw KPANIC_A0 *t0 sw KPANIC_A1 *t0 sw KPANIC_A2 *t0 sw a3</div><div class="ttdef"><b>Definition:</b> kpanica.S:22</div></div>
<div class="ttc" id="errno_8h_html_a447416ba79b4777e7accabf3a8163cb3abd287bcdb80bb2a0c41269b9adcb9d77"><div class="ttname"><a href="errno_8h.html#a447416ba79b4777e7accabf3a8163cb3abd287bcdb80bb2a0c41269b9adcb9d77">ENOSYS</a></div><div class="ttdef"><b>Definition:</b> errno.h:49</div></div>
<div class="ttc" id="riscv_2atomic_8S_html_a3d9d4d3857e499e04ab8a29c34ab004d"><div class="ttname"><a href="riscv_2atomic_8S.html#a3d9d4d3857e499e04ab8a29c34ab004d">a0</a></div><div class="ttdeci">section text globl spin_lock bnez spin_lock_delay a0 la bnez spin_lock_delay sc w a0 bnez spin_lock ret globl spin_unlock a0 fence ret globl atomic_add a0 add a0</div><div class="ttdef"><b>Definition:</b> atomic.S:22</div></div>
<div class="ttc" id="klibc_8c_html_ac4ae3bb8e59735d2b772e77186b52228"><div class="ttname"><a href="klibc_8c.html#ac4ae3bb8e59735d2b772e77186b52228">kprintf</a></div><div class="ttdeci">int kprintf(char *fmt,...)</div><div class="ttdoc">print a formated string to the TTY0 this a simplified version which handles only: c...</div><div class="ttdef"><b>Definition:</b> klibc.c:37</div></div>
<div class="ttc" id="riscv_2kpanica_8S_html_aad0da287fb9a0e51b7226e5df3a8c56d"><div class="ttname"><a href="riscv_2kpanica_8S.html#aad0da287fb9a0e51b7226e5df3a8c56d">a2</a></div><div class="ttdeci">globl kpanic sw sp la KPanicRegsVal sw KPANIC_RA *t0 sw KPANIC_GP *t0 sw KPANIC_TP *t0 sw KPANIC_T1 *t0 sw KPANIC_T2 *t0 sw KPANIC_S0 *t0 sw KPANIC_S1 *t0 sw KPANIC_A0 *t0 sw KPANIC_A1 *t0 sw a2</div><div class="ttdef"><b>Definition:</b> kpanica.S:22</div></div>
<div class="ttc" id="riscv_2atomic_8S_html_a722b1add1d9781e2115fb2fcc9d5541a"><div class="ttname"><a href="riscv_2atomic_8S.html#a722b1add1d9781e2115fb2fcc9d5541a">a1</a></div><div class="ttdeci">section text globl spin_lock bnez spin_lock_delay a0 la bnez spin_lock_delay sc w a0 bnez spin_lock ret globl spin_unlock a0 fence ret globl atomic_add a1</div><div class="ttdef"><b>Definition:</b> atomic.S:22</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ac032bde1c16f368d24dbcde8d400a203"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* SyscallVector[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    [0 ... <a class="code" href="syscalls_8h.html#ac2c7a2e51ade374764c90e27cca50a57">SYSCALL_NR</a> - 1   ] = <a class="code" href="ksyscalls_8c.html#acc250850867ae5b7ad679ecbcbd85824">unknown_syscall</a>,   </div>
<div class="line">    [<a class="code" href="syscalls_8h.html#a6afe19f22c590d7cced68927ad3e37b3">SYSCALL_EXIT</a>           ] = <a class="code" href="klibc_8c.html#a55e99c539cf7723ec15e856b7e0a8cee">exit</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#ae5be81f63639b2e6928bce18ccda6acc">SYSCALL_READ</a>           ] = <a class="code" href="klibc_8c.html#a4e745df503033a3297f150e02f27fabb">tty_read</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#a7bf5d5477f99d0648e55674643559070">SYSCALL_WRITE</a>          ] = <a class="code" href="klibc_8c.html#a528bdbe20981259789b7663d15278ba4">tty_write</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#a1b284030b6f72253c3e7546fd551020f">SYSCALL_CLOCK</a>          ] = <a class="code" href="mips_2cpuregs_8S.html#af7e0f9f0eada9d28b46b4d1f7ae5b702">clock</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#a7d2b3d482703584b6be5cf155648344a">SYSCALL_DMA_MEMCPY</a>     ] = <a class="code" href="ksyscalls_8c.html#af3e1d79745fc92adae457ffd701fb4e1">dma_memcpy_user</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#aa01c11788b75eea69fa87959f6fac5b4">SYSCALL_CACHELINESIZE</a>  ] = <a class="code" href="mips_2cache_8S.html#a2ffad5962fec472ce41e46451bcd8f02">cachelinesize</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#a1fa616eba469314a5889d45524348a52">SYSCALL_DCACHEBUFINVAL</a> ] = <a class="code" href="ksyscalls_8c.html#a88a7346c373739b293fc3c00462a8033">dcache_buf_inval_user</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#a28679dcec3d60a8716d3e2ce024dcacd">SYSCALL_DCACHEINVAL</a>    ] = <a class="code" href="ksyscalls_8c.html#afba304a121f2232247cabf3ef6cb9cde">dcache_inval_user</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#a9d26167e6c82729ced6b3437400fb0de">SYSCALL_SBRK</a>           ] = <a class="code" href="kmemory_8c.html#ad3736b4c8c3376c224d8a70e39b1a017">sbrk</a>,</div>
<div class="line">    </div>
<div class="line">    [<a class="code" href="syscalls_8h.html#a63de1298da2951a6a80a60ba2e81f3cc">SYSCALL_THREAD_CREATE</a>  ] = <a class="code" href="kthread_8c.html#a2525e99272c4db4198bcea374d717620">thread_create</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#a26a363c5f0ee06e0eec9cc16ed64a2fd">SYSCALL_THREAD_YIELD</a>   ] = <a class="code" href="kthread_8c.html#affe2eebf6749bc36765d45ff48c926b1">thread_yield</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#ab38bbbfadd5c56dcd1a4bf2f2f108f8b">SYSCALL_THREAD_EXIT</a>    ] = <a class="code" href="kthread_8c.html#a19b16adf05364471bae2840aa564329a">thread_exit</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#ac3d987610a2daf21c3e994f890feecab">SYSCALL_SCHED_DUMP</a>     ] = <a class="code" href="kthread_8c.html#a02cfe68dc8f379c88d448172f997b09e">sched_dump</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#ad4d7571cbeb659d57fd4d92ae1924082">SYSCALL_THREAD_JOIN</a>    ] = <a class="code" href="kthread_8c.html#a4e54fc344bbd735b027c03629927abb9">thread_join</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#aa7c4dd1815b9890594a76a9c23db75e3">SYSCALL_MUTEX_INIT</a>     ] = <a class="code" href="ksynchro_8c.html#a2fbf4c52b56586ce18013333c7a1d37e">thread_mutex_init</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#ad83026e97bed8a463c5a955867011e8d">SYSCALL_MUTEX_LOCK</a>     ] = <a class="code" href="ksynchro_8c.html#aa5d516e2832e4c1f4d222a79fabe76a2">thread_mutex_lock</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#a71247681fc657059e83f9bcf64068fe7">SYSCALL_MUTEX_UNLOCK</a>   ] = <a class="code" href="ksynchro_8c.html#ad515bf71cd806fc2d1a5c4143aca3988">thread_mutex_unlock</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#ad87d7bb44b389a78ec06709fa5fbc23a">SYSCALL_MUTEX_DESTROY</a>  ] = <a class="code" href="ksynchro_8c.html#af85d5d2e4a36615955a7cfbae10eeec5">thread_mutex_destroy</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#a026c84ef7c3e101d665208d89b369b6c">SYSCALL_BARRIER_INIT</a>   ] = <a class="code" href="ksynchro_8c.html#adea6885b17fdfc05ad0414fbaa41dd89">thread_barrier_init</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#aa2c79dbb3d9d284094852336eead340a">SYSCALL_BARRIER_WAIT</a>   ] = <a class="code" href="ksynchro_8c.html#aea6f07b8093fabd5e248aae8b7e64abb">thread_barrier_wait</a>,</div>
<div class="line">    [<a class="code" href="syscalls_8h.html#a1381b417b795b6cd16ae37c078862a38">SYSCALL_BARRIER_DESTROY</a>] = <a class="code" href="ksynchro_8c.html#a384a3caafcd4e7c672a583fc4183f983">thread_barrier_destroy</a>,</div>
<div class="line">}</div>
<div class="ttc" id="mips_2cpuregs_8S_html_af7e0f9f0eada9d28b46b4d1f7ae5b702"><div class="ttname"><a href="mips_2cpuregs_8S.html#af7e0f9f0eada9d28b46b4d1f7ae5b702">clock</a></div><div class="ttdeci">globl clock clock</div><div class="ttdef"><b>Definition:</b> cpuregs.S:20</div></div>
<div class="ttc" id="ksyscalls_8c_html_afba304a121f2232247cabf3ef6cb9cde"><div class="ttname"><a href="ksyscalls_8c.html#afba304a121f2232247cabf3ef6cb9cde">dcache_inval_user</a></div><div class="ttdeci">static int dcache_inval_user(void *addr)</div><div class="ttdef"><b>Definition:</b> ksyscalls.c:54</div></div>
<div class="ttc" id="kthread_8c_html_a4e54fc344bbd735b027c03629927abb9"><div class="ttname"><a href="kthread_8c.html#a4e54fc344bbd735b027c03629927abb9">thread_join</a></div><div class="ttdeci">int thread_join(thread_t thread_expected, void **retval)</div><div class="ttdoc">Wait for a thread termination (see details in kthread.c) </div><div class="ttdef"><b>Definition:</b> kthread.c:364</div></div>
<div class="ttc" id="syscalls_8h_html_ac2c7a2e51ade374764c90e27cca50a57"><div class="ttname"><a href="syscalls_8h.html#ac2c7a2e51ade374764c90e27cca50a57">SYSCALL_NR</a></div><div class="ttdeci">#define SYSCALL_NR</div><div class="ttdef"><b>Definition:</b> syscalls.h:41</div></div>
<div class="ttc" id="ksynchro_8c_html_aa5d516e2832e4c1f4d222a79fabe76a2"><div class="ttname"><a href="ksynchro_8c.html#aa5d516e2832e4c1f4d222a79fabe76a2">thread_mutex_lock</a></div><div class="ttdeci">int thread_mutex_lock(thread_mutex_t *mutex)</div><div class="ttdoc">lock the referenced mutex, it is a blocking operation. If the mutex is already locked, the calling thread blocks until the mutex becomes available. If the mutex does not exist or is already locked, this is an error </div><div class="ttdef"><b>Definition:</b> ksynchro.c:75</div></div>
<div class="ttc" id="syscalls_8h_html_a28679dcec3d60a8716d3e2ce024dcacd"><div class="ttname"><a href="syscalls_8h.html#a28679dcec3d60a8716d3e2ce024dcacd">SYSCALL_DCACHEINVAL</a></div><div class="ttdeci">#define SYSCALL_DCACHEINVAL</div><div class="ttdef"><b>Definition:</b> syscalls.h:24</div></div>
<div class="ttc" id="syscalls_8h_html_a1b284030b6f72253c3e7546fd551020f"><div class="ttname"><a href="syscalls_8h.html#a1b284030b6f72253c3e7546fd551020f">SYSCALL_CLOCK</a></div><div class="ttdeci">#define SYSCALL_CLOCK</div><div class="ttdef"><b>Definition:</b> syscalls.h:20</div></div>
<div class="ttc" id="syscalls_8h_html_ad4d7571cbeb659d57fd4d92ae1924082"><div class="ttname"><a href="syscalls_8h.html#ad4d7571cbeb659d57fd4d92ae1924082">SYSCALL_THREAD_JOIN</a></div><div class="ttdeci">#define SYSCALL_THREAD_JOIN</div><div class="ttdef"><b>Definition:</b> syscalls.h:32</div></div>
<div class="ttc" id="syscalls_8h_html_a9d26167e6c82729ced6b3437400fb0de"><div class="ttname"><a href="syscalls_8h.html#a9d26167e6c82729ced6b3437400fb0de">SYSCALL_SBRK</a></div><div class="ttdeci">#define SYSCALL_SBRK</div><div class="ttdef"><b>Definition:</b> syscalls.h:25</div></div>
<div class="ttc" id="syscalls_8h_html_a1fa616eba469314a5889d45524348a52"><div class="ttname"><a href="syscalls_8h.html#a1fa616eba469314a5889d45524348a52">SYSCALL_DCACHEBUFINVAL</a></div><div class="ttdeci">#define SYSCALL_DCACHEBUFINVAL</div><div class="ttdef"><b>Definition:</b> syscalls.h:23</div></div>
<div class="ttc" id="ksynchro_8c_html_a2fbf4c52b56586ce18013333c7a1d37e"><div class="ttname"><a href="ksynchro_8c.html#a2fbf4c52b56586ce18013333c7a1d37e">thread_mutex_init</a></div><div class="ttdeci">int thread_mutex_init(thread_mutex_t *mutex)</div><div class="ttdoc">creates a new mutex and initializes mutex variable with the new mutex (side effect) it is a nutex wit...</div><div class="ttdef"><b>Definition:</b> ksynchro.c:31</div></div>
<div class="ttc" id="syscalls_8h_html_a1381b417b795b6cd16ae37c078862a38"><div class="ttname"><a href="syscalls_8h.html#a1381b417b795b6cd16ae37c078862a38">SYSCALL_BARRIER_DESTROY</a></div><div class="ttdeci">#define SYSCALL_BARRIER_DESTROY</div><div class="ttdef"><b>Definition:</b> syscalls.h:39</div></div>
<div class="ttc" id="syscalls_8h_html_a7bf5d5477f99d0648e55674643559070"><div class="ttname"><a href="syscalls_8h.html#a7bf5d5477f99d0648e55674643559070">SYSCALL_WRITE</a></div><div class="ttdeci">#define SYSCALL_WRITE</div><div class="ttdef"><b>Definition:</b> syscalls.h:19</div></div>
<div class="ttc" id="syscalls_8h_html_a71247681fc657059e83f9bcf64068fe7"><div class="ttname"><a href="syscalls_8h.html#a71247681fc657059e83f9bcf64068fe7">SYSCALL_MUTEX_UNLOCK</a></div><div class="ttdeci">#define SYSCALL_MUTEX_UNLOCK</div><div class="ttdef"><b>Definition:</b> syscalls.h:35</div></div>
<div class="ttc" id="syscalls_8h_html_ae5be81f63639b2e6928bce18ccda6acc"><div class="ttname"><a href="syscalls_8h.html#ae5be81f63639b2e6928bce18ccda6acc">SYSCALL_READ</a></div><div class="ttdeci">#define SYSCALL_READ</div><div class="ttdef"><b>Definition:</b> syscalls.h:18</div></div>
<div class="ttc" id="syscalls_8h_html_a6afe19f22c590d7cced68927ad3e37b3"><div class="ttname"><a href="syscalls_8h.html#a6afe19f22c590d7cced68927ad3e37b3">SYSCALL_EXIT</a></div><div class="ttdeci">#define SYSCALL_EXIT</div><div class="ttdef"><b>Definition:</b> syscalls.h:17</div></div>
<div class="ttc" id="ksyscalls_8c_html_acc250850867ae5b7ad679ecbcbd85824"><div class="ttname"><a href="ksyscalls_8c.html#acc250850867ae5b7ad679ecbcbd85824">unknown_syscall</a></div><div class="ttdeci">static int unknown_syscall(int a0, int a1, int a2, int a3, int syscall_code)</div><div class="ttdef"><b>Definition:</b> ksyscalls.c:17</div></div>
<div class="ttc" id="klibc_8c_html_a528bdbe20981259789b7663d15278ba4"><div class="ttname"><a href="klibc_8c.html#a528bdbe20981259789b7663d15278ba4">tty_write</a></div><div class="ttdeci">int tty_write(int tty, char *buf, unsigned count)</div><div class="ttdoc">Wrapper function that selects the correct TTY based on his number and call the write function...</div><div class="ttdef"><b>Definition:</b> klibc.c:66</div></div>
<div class="ttc" id="klibc_8c_html_a55e99c539cf7723ec15e856b7e0a8cee"><div class="ttname"><a href="klibc_8c.html#a55e99c539cf7723ec15e856b7e0a8cee">exit</a></div><div class="ttdeci">void exit(int status)</div><div class="ttdoc">exit the application, thus never returns </div><div class="ttdef"><b>Definition:</b> klibc.c:48</div></div>
<div class="ttc" id="syscalls_8h_html_ad83026e97bed8a463c5a955867011e8d"><div class="ttname"><a href="syscalls_8h.html#ad83026e97bed8a463c5a955867011e8d">SYSCALL_MUTEX_LOCK</a></div><div class="ttdeci">#define SYSCALL_MUTEX_LOCK</div><div class="ttdef"><b>Definition:</b> syscalls.h:34</div></div>
<div class="ttc" id="syscalls_8h_html_a63de1298da2951a6a80a60ba2e81f3cc"><div class="ttname"><a href="syscalls_8h.html#a63de1298da2951a6a80a60ba2e81f3cc">SYSCALL_THREAD_CREATE</a></div><div class="ttdeci">#define SYSCALL_THREAD_CREATE</div><div class="ttdef"><b>Definition:</b> syscalls.h:28</div></div>
<div class="ttc" id="kmemory_8c_html_ad3736b4c8c3376c224d8a70e39b1a017"><div class="ttname"><a href="kmemory_8c.html#ad3736b4c8c3376c224d8a70e39b1a017">sbrk</a></div><div class="ttdeci">void * sbrk(int increment)</div><div class="ttdoc">change the boundary of the heap </div><div class="ttdef"><b>Definition:</b> kmemory.c:222</div></div>
<div class="ttc" id="syscalls_8h_html_ad87d7bb44b389a78ec06709fa5fbc23a"><div class="ttname"><a href="syscalls_8h.html#ad87d7bb44b389a78ec06709fa5fbc23a">SYSCALL_MUTEX_DESTROY</a></div><div class="ttdeci">#define SYSCALL_MUTEX_DESTROY</div><div class="ttdef"><b>Definition:</b> syscalls.h:36</div></div>
<div class="ttc" id="kthread_8c_html_a02cfe68dc8f379c88d448172f997b09e"><div class="ttname"><a href="kthread_8c.html#a02cfe68dc8f379c88d448172f997b09e">sched_dump</a></div><div class="ttdeci">void sched_dump(void)</div><div class="ttdoc">Displays on the console (tty0) all active threads, it is for debugging. </div><div class="ttdef"><b>Definition:</b> kthread.c:175</div></div>
<div class="ttc" id="ksynchro_8c_html_af85d5d2e4a36615955a7cfbae10eeec5"><div class="ttname"><a href="ksynchro_8c.html#af85d5d2e4a36615955a7cfbae10eeec5">thread_mutex_destroy</a></div><div class="ttdeci">int thread_mutex_destroy(thread_mutex_t *mutex)</div><div class="ttdoc">destroy the referenced mutex If the mutex is locked the destruction is not done, this is an error ...</div><div class="ttdef"><b>Definition:</b> ksynchro.c:46</div></div>
<div class="ttc" id="syscalls_8h_html_aa2c79dbb3d9d284094852336eead340a"><div class="ttname"><a href="syscalls_8h.html#aa2c79dbb3d9d284094852336eead340a">SYSCALL_BARRIER_WAIT</a></div><div class="ttdeci">#define SYSCALL_BARRIER_WAIT</div><div class="ttdef"><b>Definition:</b> syscalls.h:38</div></div>
<div class="ttc" id="kthread_8c_html_a19b16adf05364471bae2840aa564329a"><div class="ttname"><a href="kthread_8c.html#a19b16adf05364471bae2840aa564329a">thread_exit</a></div><div class="ttdeci">void thread_exit(void *retval)</div><div class="ttdoc">Terminates the current thread, it never returns (see details in kthread.c) </div><div class="ttdef"><b>Definition:</b> kthread.c:341</div></div>
<div class="ttc" id="syscalls_8h_html_aa7c4dd1815b9890594a76a9c23db75e3"><div class="ttname"><a href="syscalls_8h.html#aa7c4dd1815b9890594a76a9c23db75e3">SYSCALL_MUTEX_INIT</a></div><div class="ttdeci">#define SYSCALL_MUTEX_INIT</div><div class="ttdef"><b>Definition:</b> syscalls.h:33</div></div>
<div class="ttc" id="klibc_8c_html_a4e745df503033a3297f150e02f27fabb"><div class="ttname"><a href="klibc_8c.html#a4e745df503033a3297f150e02f27fabb">tty_read</a></div><div class="ttdeci">int tty_read(int tty, char *buf, unsigned count)</div><div class="ttdoc">Wrapper function that selects the correct TTY based on his number and call the read function...</div><div class="ttdef"><b>Definition:</b> klibc.c:53</div></div>
<div class="ttc" id="kthread_8c_html_affe2eebf6749bc36765d45ff48c926b1"><div class="ttname"><a href="kthread_8c.html#affe2eebf6749bc36765d45ff48c926b1">thread_yield</a></div><div class="ttdeci">int thread_yield(void)</div><div class="ttdoc">Causes the current thread to give up the CPU in order to give it to another. </div><div class="ttdef"><b>Definition:</b> kthread.c:323</div></div>
<div class="ttc" id="syscalls_8h_html_ac3d987610a2daf21c3e994f890feecab"><div class="ttname"><a href="syscalls_8h.html#ac3d987610a2daf21c3e994f890feecab">SYSCALL_SCHED_DUMP</a></div><div class="ttdeci">#define SYSCALL_SCHED_DUMP</div><div class="ttdef"><b>Definition:</b> syscalls.h:31</div></div>
<div class="ttc" id="ksynchro_8c_html_ad515bf71cd806fc2d1a5c4143aca3988"><div class="ttname"><a href="ksynchro_8c.html#ad515bf71cd806fc2d1a5c4143aca3988">thread_mutex_unlock</a></div><div class="ttdeci">int thread_mutex_unlock(thread_mutex_t *mutex)</div><div class="ttdoc">unlock the referenced mutex If the mutex does not exist or is not locked or has been locked by anothe...</div><div class="ttdef"><b>Definition:</b> ksynchro.c:107</div></div>
<div class="ttc" id="syscalls_8h_html_a7d2b3d482703584b6be5cf155648344a"><div class="ttname"><a href="syscalls_8h.html#a7d2b3d482703584b6be5cf155648344a">SYSCALL_DMA_MEMCPY</a></div><div class="ttdeci">#define SYSCALL_DMA_MEMCPY</div><div class="ttdef"><b>Definition:</b> syscalls.h:21</div></div>
<div class="ttc" id="syscalls_8h_html_a26a363c5f0ee06e0eec9cc16ed64a2fd"><div class="ttname"><a href="syscalls_8h.html#a26a363c5f0ee06e0eec9cc16ed64a2fd">SYSCALL_THREAD_YIELD</a></div><div class="ttdeci">#define SYSCALL_THREAD_YIELD</div><div class="ttdef"><b>Definition:</b> syscalls.h:29</div></div>
<div class="ttc" id="ksyscalls_8c_html_af3e1d79745fc92adae457ffd701fb4e1"><div class="ttname"><a href="ksyscalls_8c.html#af3e1d79745fc92adae457ffd701fb4e1">dma_memcpy_user</a></div><div class="ttdeci">static void * dma_memcpy_user(int *dest, int *src, size_t n)</div><div class="ttdef"><b>Definition:</b> ksyscalls.c:28</div></div>
<div class="ttc" id="ksynchro_8c_html_adea6885b17fdfc05ad0414fbaa41dd89"><div class="ttname"><a href="ksynchro_8c.html#adea6885b17fdfc05ad0414fbaa41dd89">thread_barrier_init</a></div><div class="ttdeci">int thread_barrier_init(thread_barrier_t *barrier, size_t count)</div><div class="ttdoc">creates or initialize a barrier depending the value of barrier parameter </div><div class="ttdef"><b>Definition:</b> ksynchro.c:143</div></div>
<div class="ttc" id="syscalls_8h_html_a026c84ef7c3e101d665208d89b369b6c"><div class="ttname"><a href="syscalls_8h.html#a026c84ef7c3e101d665208d89b369b6c">SYSCALL_BARRIER_INIT</a></div><div class="ttdeci">#define SYSCALL_BARRIER_INIT</div><div class="ttdef"><b>Definition:</b> syscalls.h:37</div></div>
<div class="ttc" id="ksynchro_8c_html_aea6f07b8093fabd5e248aae8b7e64abb"><div class="ttname"><a href="ksynchro_8c.html#aea6f07b8093fabd5e248aae8b7e64abb">thread_barrier_wait</a></div><div class="ttdeci">int thread_barrier_wait(thread_barrier_t *barrier)</div><div class="ttdoc">wait to the referenced barrier, it is a blocking operation for all thread but the last the last arriv...</div><div class="ttdef"><b>Definition:</b> ksynchro.c:175</div></div>
<div class="ttc" id="mips_2cache_8S_html_a2ffad5962fec472ce41e46451bcd8f02"><div class="ttname"><a href="mips_2cache_8S.html#a2ffad5962fec472ce41e46451bcd8f02">cachelinesize</a></div><div class="ttdeci">section text globl cachelinesize cachelinesize</div><div class="ttdef"><b>Definition:</b> cache.S:21</div></div>
<div class="ttc" id="syscalls_8h_html_aa01c11788b75eea69fa87959f6fac5b4"><div class="ttname"><a href="syscalls_8h.html#aa01c11788b75eea69fa87959f6fac5b4">SYSCALL_CACHELINESIZE</a></div><div class="ttdeci">#define SYSCALL_CACHELINESIZE</div><div class="ttdef"><b>Definition:</b> syscalls.h:22</div></div>
<div class="ttc" id="syscalls_8h_html_ab38bbbfadd5c56dcd1a4bf2f2f108f8b"><div class="ttname"><a href="syscalls_8h.html#ab38bbbfadd5c56dcd1a4bf2f2f108f8b">SYSCALL_THREAD_EXIT</a></div><div class="ttdeci">#define SYSCALL_THREAD_EXIT</div><div class="ttdef"><b>Definition:</b> syscalls.h:30</div></div>
<div class="ttc" id="kthread_8c_html_a2525e99272c4db4198bcea374d717620"><div class="ttname"><a href="kthread_8c.html#a2525e99272c4db4198bcea374d717620">thread_create</a></div><div class="ttdeci">int thread_create(thread_t *thread_p, int fun, int arg, int start)</div><div class="ttdoc">Calls by the kernel in order to implement the user thread_create() syscall This function has the same...</div><div class="ttdef"><b>Definition:</b> kthread.c:281</div></div>
<div class="ttc" id="ksynchro_8c_html_a384a3caafcd4e7c672a583fc4183f983"><div class="ttname"><a href="ksynchro_8c.html#a384a3caafcd4e7c672a583fc4183f983">thread_barrier_destroy</a></div><div class="ttdeci">int thread_barrier_destroy(thread_barrier_t *barrier)</div><div class="ttdoc">destroy the referenced barrier If a thread is waiting at the barrier, then the destruction is not don...</div><div class="ttdef"><b>Definition:</b> ksynchro.c:201</div></div>
<div class="ttc" id="ksyscalls_8c_html_a88a7346c373739b293fc3c00462a8033"><div class="ttname"><a href="ksyscalls_8c.html#a88a7346c373739b293fc3c00462a8033">dcache_buf_inval_user</a></div><div class="ttdeci">static int dcache_buf_inval_user(void *buf, size_t size)</div><div class="ttdef"><b>Definition:</b> ksyscalls.c:46</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
