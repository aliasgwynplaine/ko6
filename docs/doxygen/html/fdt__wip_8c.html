<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ko6: /users/enseig/franck/ko6/src/soft/external/libfdt/fdt_wip.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo55.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ko6
   </div>
   <div id="projectbrief">ko6 (prononce it &#39;kit-O-sys&#39; O is  the letter not the number) is a small operating system for educationnal purpose</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_8785740846211ac34fd04c61a1fdd888.html">soft</a></li><li class="navelem"><a class="el" href="dir_fc519a13014ae8743e43f59c46623498.html">external</a></li><li class="navelem"><a class="el" href="dir_bfb68bfa260d5fbf1a9b080af0449f39.html">libfdt</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">fdt_wip.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="libfdt__env_8h_source.html">libfdt_env.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="fdt_8h_source.html">external/libfdt/fdt.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="libfdt_8h_source.html">external/libfdt/libfdt.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="libfdt__internal_8h_source.html">libfdt_internal.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad2d3b0ed8c78b7ca920550656dca6cf9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__wip_8c.html#ad2d3b0ed8c78b7ca920550656dca6cf9">fdt_setprop_inplace_namelen_partial</a> (void *fdt, int nodeoffset, const char *name, int namelen, <a class="el" href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> idx, const void *val, int len)</td></tr>
<tr class="separator:ad2d3b0ed8c78b7ca920550656dca6cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6943ff251ae8c4ffea474788215965a1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__wip_8c.html#a6943ff251ae8c4ffea474788215965a1">fdt_setprop_inplace</a> (void *fdt, int nodeoffset, const char *name, const void *val, int len)</td></tr>
<tr class="separator:a6943ff251ae8c4ffea474788215965a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2553eaad74cf73ff56d5f6bf5da1b04b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__wip_8c.html#a2553eaad74cf73ff56d5f6bf5da1b04b">fdt_nop_region_</a> (void *start, int len)</td></tr>
<tr class="separator:a2553eaad74cf73ff56d5f6bf5da1b04b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf3ba20475e7b94a8d31eac14ea7228d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__wip_8c.html#acf3ba20475e7b94a8d31eac14ea7228d">fdt_nop_property</a> (void *fdt, int nodeoffset, const char *name)</td></tr>
<tr class="separator:acf3ba20475e7b94a8d31eac14ea7228d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45210c5c83d2fc1bed7cb7161e471fad"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__wip_8c.html#a45210c5c83d2fc1bed7cb7161e471fad">fdt_node_end_offset_</a> (void *fdt, int offset)</td></tr>
<tr class="separator:a45210c5c83d2fc1bed7cb7161e471fad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1b08e2054997c7e9814fc0b04acb305"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__wip_8c.html#ac1b08e2054997c7e9814fc0b04acb305">fdt_nop_node</a> (void *fdt, int nodeoffset)</td></tr>
<tr class="separator:ac1b08e2054997c7e9814fc0b04acb305"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a45210c5c83d2fc1bed7cb7161e471fad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_node_end_offset_ </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node()</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#ad67005f5936eebeb182e55d5f36e9f85">fdt_del_node()</a>, and <a class="el" href="libfdt_8h.html#ac1b08e2054997c7e9814fc0b04acb305">fdt_nop_node()</a>.</p>
<div class="fragment"><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;{</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordtype">int</span> depth = 0;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">while</span> ((offset &gt;= 0) &amp;&amp; (depth &gt;= 0))</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        offset = <a class="code" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a>(fdt, offset, &amp;depth);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> offset;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
<div class="ttc" id="fdt_8c_html_a6603ac8041afcc7fde5c0b25de765103"><div class="ttname"><a href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a></div><div class="ttdeci">int fdt_next_node(const void *fdt, int offset, int *depth)</div><div class="ttdef"><b>Definition:</b> fdt.c:247</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac1b08e2054997c7e9814fc0b04acb305"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_nop_node </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_nop_node - replace a node (subtree) with nop tags : pointer to the device tree blob : offset of the node to nop</p>
<p><a class="el" href="fdt__wip_8c.html#ac1b08e2054997c7e9814fc0b04acb305">fdt_nop_node()</a> will replace a given node's representation in the blob, including all its subnodes, if any, with FDT_NOP tags, effectively removing it from the tree.</p>
<p>This function will alter only the bytes in the blob which contain the node and its properties and subnodes, and will not alter or move any other part of the tree.</p>
<p>returns: 0, on success -FDT_ERR_BADOFFSET, nodeoffset did not point to FDT_BEGIN_NODE tag -FDT_ERR_BADMAGIC, -FDT_ERR_BADVERSION, -FDT_ERR_BADSTATE, -FDT_ERR_BADSTRUCTURE, -FDT_ERR_TRUNCATED, standard meanings </p>

<p>References <a class="el" href="fdt__wip_8c.html#a45210c5c83d2fc1bed7cb7161e471fad">fdt_node_end_offset_()</a>, <a class="el" href="fdt__wip_8c.html#a2553eaad74cf73ff56d5f6bf5da1b04b">fdt_nop_region_()</a>, and <a class="el" href="libfdt_8h.html#ab5fff326afde3a9b05b6327aa6e5a7bc">fdt_offset_ptr_w()</a>.</p>
<div class="fragment"><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;{</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordtype">int</span> endoffset;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    endoffset = <a class="code" href="fdt__wip_8c.html#a45210c5c83d2fc1bed7cb7161e471fad">fdt_node_end_offset_</a>(fdt, nodeoffset);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">if</span> (endoffset &lt; 0)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <span class="keywordflow">return</span> endoffset;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="fdt__wip_8c.html#a2553eaad74cf73ff56d5f6bf5da1b04b">fdt_nop_region_</a>(<a class="code" href="libfdt_8h.html#ab5fff326afde3a9b05b6327aa6e5a7bc">fdt_offset_ptr_w</a>(fdt, nodeoffset, 0),</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            endoffset - nodeoffset);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;}</div>
<div class="ttc" id="fdt__wip_8c_html_a2553eaad74cf73ff56d5f6bf5da1b04b"><div class="ttname"><a href="fdt__wip_8c.html#a2553eaad74cf73ff56d5f6bf5da1b04b">fdt_nop_region_</a></div><div class="ttdeci">static void fdt_nop_region_(void *start, int len)</div><div class="ttdef"><b>Definition:</b> fdt_wip.c:51</div></div>
<div class="ttc" id="libfdt_8h_html_ab5fff326afde3a9b05b6327aa6e5a7bc"><div class="ttname"><a href="libfdt_8h.html#ab5fff326afde3a9b05b6327aa6e5a7bc">fdt_offset_ptr_w</a></div><div class="ttdeci">static void * fdt_offset_ptr_w(void *fdt, int offset, int checklen)</div><div class="ttdef"><b>Definition:</b> libfdt.h:122</div></div>
<div class="ttc" id="fdt__wip_8c_html_a45210c5c83d2fc1bed7cb7161e471fad"><div class="ttname"><a href="fdt__wip_8c.html#a45210c5c83d2fc1bed7cb7161e471fad">fdt_node_end_offset_</a></div><div class="ttdeci">int fdt_node_end_offset_(void *fdt, int offset)</div><div class="ttdef"><b>Definition:</b> fdt_wip.c:73</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="acf3ba20475e7b94a8d31eac14ea7228d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_nop_property </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="libfdt_8h.html#a3ef3cd199863ded58e473a71ebdd478c">fdt_get_property_w()</a>, <a class="el" href="fdt__wip_8c.html#a2553eaad74cf73ff56d5f6bf5da1b04b">fdt_nop_region_()</a>, and <a class="el" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a>.</p>
<div class="fragment"><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keyword">struct </span><a class="code" href="structfdt__property.html">fdt_property</a> *prop;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">len</a>;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    prop = <a class="code" href="libfdt_8h.html#a3ef3cd199863ded58e473a71ebdd478c">fdt_get_property_w</a>(fdt, nodeoffset, name, &amp;len);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">if</span> (!prop)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">len</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="fdt__wip_8c.html#a2553eaad74cf73ff56d5f6bf5da1b04b">fdt_nop_region_</a>(prop, len + <span class="keyword">sizeof</span>(*prop));</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;}</div>
<div class="ttc" id="fdt__wip_8c_html_a2553eaad74cf73ff56d5f6bf5da1b04b"><div class="ttname"><a href="fdt__wip_8c.html#a2553eaad74cf73ff56d5f6bf5da1b04b">fdt_nop_region_</a></div><div class="ttdeci">static void fdt_nop_region_(void *start, int len)</div><div class="ttdef"><b>Definition:</b> fdt_wip.c:51</div></div>
<div class="ttc" id="structfdt__property_html_a48e6236319453578c3ca7c106b382a2f"><div class="ttname"><a href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a></div><div class="ttdeci">fdt32_t len</div><div class="ttdef"><b>Definition:</b> fdt.h:43</div></div>
<div class="ttc" id="structfdt__property_html"><div class="ttname"><a href="structfdt__property.html">fdt_property</a></div><div class="ttdef"><b>Definition:</b> fdt.h:41</div></div>
<div class="ttc" id="libfdt_8h_html_a3ef3cd199863ded58e473a71ebdd478c"><div class="ttname"><a href="libfdt_8h.html#a3ef3cd199863ded58e473a71ebdd478c">fdt_get_property_w</a></div><div class="ttdeci">static struct fdt_property * fdt_get_property_w(void *fdt, int nodeoffset, const char *name, int *lenp)</div><div class="ttdef"><b>Definition:</b> libfdt.h:747</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2553eaad74cf73ff56d5f6bf5da1b04b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void fdt_nop_region_ </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="libfdt__env_8h.html#a06ce41f441b8a56710000af3c3e516e5">cpu_to_fdt32()</a>, and <a class="el" href="fdt_8h.html#a95f6ec2ae047c13339f80ca6adeafc21">FDT_NOP</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#ac1b08e2054997c7e9814fc0b04acb305">fdt_nop_node()</a>, and <a class="el" href="libfdt_8h.html#acf3ba20475e7b94a8d31eac14ea7228d">fdt_nop_property()</a>.</p>
<div class="fragment"><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="libfdt__env_8h.html#a76887ac8786252752fb3f9a39b21f3af">fdt32_t</a> *p;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">for</span> (p = start; (<span class="keywordtype">char</span> *)p &lt; ((<span class="keywordtype">char</span> *)start + <a class="code" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">len</a>); p++)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        *p = <a class="code" href="libfdt__env_8h.html#a06ce41f441b8a56710000af3c3e516e5">cpu_to_fdt32</a>(<a class="code" href="fdt_8h.html#a95f6ec2ae047c13339f80ca6adeafc21">FDT_NOP</a>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;}</div>
<div class="ttc" id="libfdt__env_8h_html_a76887ac8786252752fb3f9a39b21f3af"><div class="ttname"><a href="libfdt__env_8h.html#a76887ac8786252752fb3f9a39b21f3af">fdt32_t</a></div><div class="ttdeci">uint32_t FDT_BITWISE fdt32_t</div><div class="ttdef"><b>Definition:</b> libfdt_env.h:42</div></div>
<div class="ttc" id="structfdt__property_html_a48e6236319453578c3ca7c106b382a2f"><div class="ttname"><a href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a></div><div class="ttdeci">fdt32_t len</div><div class="ttdef"><b>Definition:</b> fdt.h:43</div></div>
<div class="ttc" id="libfdt__env_8h_html_a06ce41f441b8a56710000af3c3e516e5"><div class="ttname"><a href="libfdt__env_8h.html#a06ce41f441b8a56710000af3c3e516e5">cpu_to_fdt32</a></div><div class="ttdeci">static fdt32_t cpu_to_fdt32(uint32_t x)</div><div class="ttdef"><b>Definition:</b> libfdt_env.h:67</div></div>
<div class="ttc" id="fdt_8h_html_a95f6ec2ae047c13339f80ca6adeafc21"><div class="ttname"><a href="fdt_8h.html#a95f6ec2ae047c13339f80ca6adeafc21">FDT_NOP</a></div><div class="ttdeci">#define FDT_NOP</div><div class="ttdef"><b>Definition:</b> fdt.h:57</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6943ff251ae8c4ffea474788215965a1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_setprop_inplace </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="libfdt_8h.html#a149fb54f14ba915a78319a9570e4eae3">FDT_ERR_NOSPACE</a>, <a class="el" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop()</a>, <a class="el" href="fdt__wip_8c.html#ad2d3b0ed8c78b7ca920550656dca6cf9">fdt_setprop_inplace_namelen_partial()</a>, and <a class="el" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen()</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#aa0ff5bdd0d38a77ffe25261c971d29a3">fdt_setprop_inplace_u32()</a>, and <a class="el" href="libfdt_8h.html#abae04fd5a0fd061f0717ce1671e79698">fdt_setprop_inplace_u64()</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;{</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span> *propval;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordtype">int</span> proplen;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    propval = <a class="code" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop</a>(fdt, nodeoffset, name, &amp;proplen);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">if</span> (!propval)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="keywordflow">return</span> proplen;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">if</span> (proplen != <a class="code" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">len</a>)</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a149fb54f14ba915a78319a9570e4eae3">FDT_ERR_NOSPACE</a>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fdt__wip_8c.html#ad2d3b0ed8c78b7ca920550656dca6cf9">fdt_setprop_inplace_namelen_partial</a>(fdt, nodeoffset, name,</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;                           <a class="code" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a>(name), 0,</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                           val, <a class="code" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">len</a>);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;}</div>
<div class="ttc" id="cstd_8c_html_a54684bded3e61e2d78d490650f9b706a"><div class="ttname"><a href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a></div><div class="ttdeci">int strlen(const char *buf)</div><div class="ttdoc">calculates the length of the string s, excluding the terminating null byte </div><div class="ttdef"><b>Definition:</b> cstd.c:82</div></div>
<div class="ttc" id="fdt__wip_8c_html_ad2d3b0ed8c78b7ca920550656dca6cf9"><div class="ttname"><a href="fdt__wip_8c.html#ad2d3b0ed8c78b7ca920550656dca6cf9">fdt_setprop_inplace_namelen_partial</a></div><div class="ttdeci">int fdt_setprop_inplace_namelen_partial(void *fdt, int nodeoffset, const char *name, int namelen, uint32_t idx, const void *val, int len)</div><div class="ttdef"><b>Definition:</b> fdt_wip.c:13</div></div>
<div class="ttc" id="structfdt__property_html_a48e6236319453578c3ca7c106b382a2f"><div class="ttname"><a href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a></div><div class="ttdeci">fdt32_t len</div><div class="ttdef"><b>Definition:</b> fdt.h:43</div></div>
<div class="ttc" id="libfdt_8h_html_a149fb54f14ba915a78319a9570e4eae3"><div class="ttname"><a href="libfdt_8h.html#a149fb54f14ba915a78319a9570e4eae3">FDT_ERR_NOSPACE</a></div><div class="ttdeci">#define FDT_ERR_NOSPACE</div><div class="ttdef"><b>Definition:</b> libfdt.h:26</div></div>
<div class="ttc" id="fdt__ro_8c_html_a0a72997fe1eb5a57885bbb988256d08f"><div class="ttname"><a href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop</a></div><div class="ttdeci">const void * fdt_getprop(const void *fdt, int nodeoffset, const char *name, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:502</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad2d3b0ed8c78b7ca920550656dca6cf9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_setprop_inplace_namelen_partial </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="libfdt_8h.html#a149fb54f14ba915a78319a9570e4eae3">FDT_ERR_NOSPACE</a>, <a class="el" href="libfdt_8h.html#a2d633fbf4ecff743e2a869a80e330ed6">fdt_getprop_namelen_w()</a>, and <a class="el" href="cstd_8c.html#a40deeb5b928964e60d97b3b8fd8a9b33">memcpy()</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a6943ff251ae8c4ffea474788215965a1">fdt_setprop_inplace()</a>, <a class="el" href="fdt__overlay_8c.html#ac2699eeb863f2070d20b509d0b2948f4">overlay_fixup_one_phandle()</a>, and <a class="el" href="fdt__overlay_8c.html#a385dd43636a52dc96596827f51511419">overlay_update_local_node_references()</a>.</p>
<div class="fragment"><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;{</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    <span class="keywordtype">void</span> *propval;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <span class="keywordtype">int</span> proplen;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    propval = <a class="code" href="libfdt_8h.html#a2d633fbf4ecff743e2a869a80e330ed6">fdt_getprop_namelen_w</a>(fdt, nodeoffset, name, namelen,</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;                    &amp;proplen);</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="keywordflow">if</span> (!propval)</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        <span class="keywordflow">return</span> proplen;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)proplen &lt; (<a class="code" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">len</a> + idx))</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a149fb54f14ba915a78319a9570e4eae3">FDT_ERR_NOSPACE</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="cstd_8c.html#a40deeb5b928964e60d97b3b8fd8a9b33">memcpy</a>((<span class="keywordtype">char</span> *)propval + idx, val, <a class="code" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">len</a>);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;}</div>
<div class="ttc" id="cstd_8c_html_a40deeb5b928964e60d97b3b8fd8a9b33"><div class="ttname"><a href="cstd_8c.html#a40deeb5b928964e60d97b3b8fd8a9b33">memcpy</a></div><div class="ttdeci">void * memcpy(char *dest, const char *src, unsigned n)</div><div class="ttdoc">copies buffer src to the buffer dest (the buffers must be disjoints) </div><div class="ttdef"><b>Definition:</b> cstd.c:31</div></div>
<div class="ttc" id="structfdt__property_html_a48e6236319453578c3ca7c106b382a2f"><div class="ttname"><a href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a></div><div class="ttdeci">fdt32_t len</div><div class="ttdef"><b>Definition:</b> fdt.h:43</div></div>
<div class="ttc" id="libfdt_8h_html_a149fb54f14ba915a78319a9570e4eae3"><div class="ttname"><a href="libfdt_8h.html#a149fb54f14ba915a78319a9570e4eae3">FDT_ERR_NOSPACE</a></div><div class="ttdeci">#define FDT_ERR_NOSPACE</div><div class="ttdef"><b>Definition:</b> libfdt.h:26</div></div>
<div class="ttc" id="libfdt_8h_html_a2d633fbf4ecff743e2a869a80e330ed6"><div class="ttname"><a href="libfdt_8h.html#a2d633fbf4ecff743e2a869a80e330ed6">fdt_getprop_namelen_w</a></div><div class="ttdeci">static void * fdt_getprop_namelen_w(void *fdt, int nodeoffset, const char *name, int namelen, int *lenp)</div><div class="ttdef"><b>Definition:</b> libfdt.h:807</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
