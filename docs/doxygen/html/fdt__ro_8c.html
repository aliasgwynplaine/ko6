<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ko6: /users/enseig/franck/ko6/src/soft/external/libfdt/fdt_ro.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo55.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">ko6
   </div>
   <div id="projectbrief">ko6 (prononce it &#39;kit-O-sys&#39; O is  the letter not the number) is a small operating system for educationnal purpose</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_8785740846211ac34fd04c61a1fdd888.html">soft</a></li><li class="navelem"><a class="el" href="dir_fc519a13014ae8743e43f59c46623498.html">external</a></li><li class="navelem"><a class="el" href="dir_bfb68bfa260d5fbf1a9b080af0449f39.html">libfdt</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">fdt_ro.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="libfdt__env_8h_source.html">libfdt_env.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="fdt_8h_source.html">external/libfdt/fdt.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="libfdt_8h_source.html">external/libfdt/libfdt.h</a>&gt;</code><br/>
<code>#include &quot;<a class="el" href="libfdt__internal_8h_source.html">libfdt_internal.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2d417f67da75b1ebf2871428d952cf8f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a2d417f67da75b1ebf2871428d952cf8f">fdt_nodename_eq_</a> (const void *fdt, int offset, const char *s, int len)</td></tr>
<tr class="separator:a2d417f67da75b1ebf2871428d952cf8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a394c6c241f569f12b5b1f350dfb745ea"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a394c6c241f569f12b5b1f350dfb745ea">fdt_get_string</a> (const void *fdt, int stroffset, int *lenp)</td></tr>
<tr class="separator:a394c6c241f569f12b5b1f350dfb745ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ccdba67e9d56872ef16dcbd405da94a"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a5ccdba67e9d56872ef16dcbd405da94a">fdt_string</a> (const void *fdt, int stroffset)</td></tr>
<tr class="separator:a5ccdba67e9d56872ef16dcbd405da94a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bbeefd40ad440c5e41c60cc431fae7a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a4bbeefd40ad440c5e41c60cc431fae7a">fdt_string_eq_</a> (const void *fdt, int stroffset, const char *s, int len)</td></tr>
<tr class="separator:a4bbeefd40ad440c5e41c60cc431fae7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57fbf6be8c4911e8448942b9fed97301"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a57fbf6be8c4911e8448942b9fed97301">fdt_find_max_phandle</a> (const void *fdt, <a class="el" href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *phandle)</td></tr>
<tr class="separator:a57fbf6be8c4911e8448942b9fed97301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad648a7cf17f33659fb6cbb9545ce38"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a7ad648a7cf17f33659fb6cbb9545ce38">fdt_generate_phandle</a> (const void *fdt, <a class="el" href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *phandle)</td></tr>
<tr class="separator:a7ad648a7cf17f33659fb6cbb9545ce38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa26d083555e092c1fc4f07a452502eb4"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structfdt__reserve__entry.html">fdt_reserve_entry</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#aa26d083555e092c1fc4f07a452502eb4">fdt_mem_rsv</a> (const void *fdt, int n)</td></tr>
<tr class="separator:aa26d083555e092c1fc4f07a452502eb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c50a267dcbd5c24256040e5c60362e6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a4c50a267dcbd5c24256040e5c60362e6">fdt_get_mem_rsv</a> (const void *fdt, int n, <a class="el" href="libfdt__env_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> *address, <a class="el" href="libfdt__env_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> *size)</td></tr>
<tr class="separator:a4c50a267dcbd5c24256040e5c60362e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79fa5b76564c75c9fb00fe8ca3ba3eee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a79fa5b76564c75c9fb00fe8ca3ba3eee">fdt_num_mem_rsv</a> (const void *fdt)</td></tr>
<tr class="separator:a79fa5b76564c75c9fb00fe8ca3ba3eee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a233378abbb816de0249098cb2fc450"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a0a233378abbb816de0249098cb2fc450">nextprop_</a> (const void *fdt, int offset)</td></tr>
<tr class="separator:a0a233378abbb816de0249098cb2fc450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a515ddadab660b50e9d31c05c74f7d351"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a515ddadab660b50e9d31c05c74f7d351">fdt_subnode_offset_namelen</a> (const void *fdt, int offset, const char *name, int namelen)</td></tr>
<tr class="separator:a515ddadab660b50e9d31c05c74f7d351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22dd90f8bea25063fe0debae7683eb02"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a22dd90f8bea25063fe0debae7683eb02">fdt_subnode_offset</a> (const void *fdt, int parentoffset, const char *name)</td></tr>
<tr class="separator:a22dd90f8bea25063fe0debae7683eb02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8b4d143366fc7d443f47c1c92a8f8cc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#aa8b4d143366fc7d443f47c1c92a8f8cc">fdt_path_offset_namelen</a> (const void *fdt, const char *path, int namelen)</td></tr>
<tr class="separator:aa8b4d143366fc7d443f47c1c92a8f8cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a222c01ef0a514a4cf7586f6de8b17072"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a222c01ef0a514a4cf7586f6de8b17072">fdt_path_offset</a> (const void *fdt, const char *path)</td></tr>
<tr class="separator:a222c01ef0a514a4cf7586f6de8b17072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22a72941a288c00c88c36164fdc793c0"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a22a72941a288c00c88c36164fdc793c0">fdt_get_name</a> (const void *fdt, int nodeoffset, int *len)</td></tr>
<tr class="separator:a22a72941a288c00c88c36164fdc793c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba2e2271df9d7cbcbb6ac633bd169bcf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#aba2e2271df9d7cbcbb6ac633bd169bcf">fdt_first_property_offset</a> (const void *fdt, int nodeoffset)</td></tr>
<tr class="separator:aba2e2271df9d7cbcbb6ac633bd169bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad17c7077eebb6668f09aadda1f6c8fb2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#ad17c7077eebb6668f09aadda1f6c8fb2">fdt_next_property_offset</a> (const void *fdt, int offset)</td></tr>
<tr class="separator:ad17c7077eebb6668f09aadda1f6c8fb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5968ba67990c99975ff5746c4f80c85a"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structfdt__property.html">fdt_property</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a5968ba67990c99975ff5746c4f80c85a">fdt_get_property_by_offset_</a> (const void *fdt, int offset, int *lenp)</td></tr>
<tr class="separator:a5968ba67990c99975ff5746c4f80c85a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de37480221a0d3381830233027d32bd"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structfdt__property.html">fdt_property</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a7de37480221a0d3381830233027d32bd">fdt_get_property_by_offset</a> (const void *fdt, int offset, int *lenp)</td></tr>
<tr class="separator:a7de37480221a0d3381830233027d32bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fbd5b94defd29f9e25d8433a03529e9"><td class="memItemLeft" align="right" valign="top">static struct <a class="el" href="structfdt__property.html">fdt_property</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a3fbd5b94defd29f9e25d8433a03529e9">fdt_get_property_namelen_</a> (const void *fdt, int offset, const char *name, int namelen, int *lenp, int *poffset)</td></tr>
<tr class="separator:a3fbd5b94defd29f9e25d8433a03529e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9739a424852c1400e3c09e5a1bf4364"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structfdt__property.html">fdt_property</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#ac9739a424852c1400e3c09e5a1bf4364">fdt_get_property_namelen</a> (const void *fdt, int offset, const char *name, int namelen, int *lenp)</td></tr>
<tr class="separator:ac9739a424852c1400e3c09e5a1bf4364"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f394390ede4870838765689941c6e3c"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structfdt__property.html">fdt_property</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a7f394390ede4870838765689941c6e3c">fdt_get_property</a> (const void *fdt, int nodeoffset, const char *name, int *lenp)</td></tr>
<tr class="separator:a7f394390ede4870838765689941c6e3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af06aa67642c5e97ec636619a4ac3f19a"><td class="memItemLeft" align="right" valign="top">const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#af06aa67642c5e97ec636619a4ac3f19a">fdt_getprop_namelen</a> (const void *fdt, int nodeoffset, const char *name, int namelen, int *lenp)</td></tr>
<tr class="separator:af06aa67642c5e97ec636619a4ac3f19a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a631207472dcddda9470f5791260da0fd"><td class="memItemLeft" align="right" valign="top">const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a631207472dcddda9470f5791260da0fd">fdt_getprop_by_offset</a> (const void *fdt, int offset, const char **namep, int *lenp)</td></tr>
<tr class="separator:a631207472dcddda9470f5791260da0fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a72997fe1eb5a57885bbb988256d08f"><td class="memItemLeft" align="right" valign="top">const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop</a> (const void *fdt, int nodeoffset, const char *name, int *lenp)</td></tr>
<tr class="separator:a0a72997fe1eb5a57885bbb988256d08f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0689bb9f27bdaaa355855425b4eb7149"><td class="memItemLeft" align="right" valign="top"><a class="el" href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a0689bb9f27bdaaa355855425b4eb7149">fdt_get_phandle</a> (const void *fdt, int nodeoffset)</td></tr>
<tr class="separator:a0689bb9f27bdaaa355855425b4eb7149"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f970773c1f5023ddb012f1f5d799c5e"><td class="memItemLeft" align="right" valign="top">static const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a4f970773c1f5023ddb012f1f5d799c5e">fdt_path_getprop_namelen</a> (const void *fdt, const char *path, const char *propname, int propnamelen, int *lenp)</td></tr>
<tr class="separator:a4f970773c1f5023ddb012f1f5d799c5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1446c9a325c1348d88007632675f2641"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a1446c9a325c1348d88007632675f2641">fdt_get_alias_namelen</a> (const void *fdt, const char *name, int namelen)</td></tr>
<tr class="separator:a1446c9a325c1348d88007632675f2641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af65ebffdb681288cefa41db5ad41d1fe"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#af65ebffdb681288cefa41db5ad41d1fe">fdt_get_alias</a> (const void *fdt, const char *name)</td></tr>
<tr class="separator:af65ebffdb681288cefa41db5ad41d1fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6e268a7c7fef650ee0c08f7010ae914"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#ab6e268a7c7fef650ee0c08f7010ae914">fdt_get_symbol_namelen</a> (const void *fdt, const char *name, int namelen)</td></tr>
<tr class="separator:ab6e268a7c7fef650ee0c08f7010ae914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d7a5c166e18e81722839c0b5a0541ee"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a9d7a5c166e18e81722839c0b5a0541ee">fdt_get_symbol</a> (const void *fdt, const char *name)</td></tr>
<tr class="separator:a9d7a5c166e18e81722839c0b5a0541ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b25d4bc3dd83403a39ef84b8a362bd5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a7b25d4bc3dd83403a39ef84b8a362bd5">fdt_get_path</a> (const void *fdt, int nodeoffset, char *buf, int buflen)</td></tr>
<tr class="separator:a7b25d4bc3dd83403a39ef84b8a362bd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c960d975c6644172ccc71fc2c48dbb4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a6c960d975c6644172ccc71fc2c48dbb4">fdt_supernode_atdepth_offset</a> (const void *fdt, int nodeoffset, int supernodedepth, int *nodedepth)</td></tr>
<tr class="separator:a6c960d975c6644172ccc71fc2c48dbb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c0d12a5988128f0b674d4ec24b709d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a2c0d12a5988128f0b674d4ec24b709d8">fdt_node_depth</a> (const void *fdt, int nodeoffset)</td></tr>
<tr class="separator:a2c0d12a5988128f0b674d4ec24b709d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b518dbd88cb783a9bffa1680ab297f9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a2b518dbd88cb783a9bffa1680ab297f9">fdt_parent_offset</a> (const void *fdt, int nodeoffset)</td></tr>
<tr class="separator:a2b518dbd88cb783a9bffa1680ab297f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99d317b082102ce9a3eea47e86ab5757"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a99d317b082102ce9a3eea47e86ab5757">fdt_node_offset_by_prop_value</a> (const void *fdt, int startoffset, const char *propname, const void *propval, int proplen)</td></tr>
<tr class="separator:a99d317b082102ce9a3eea47e86ab5757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff6571f3fe2fa89cfd6dc15f52eaf1e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a4ff6571f3fe2fa89cfd6dc15f52eaf1e">fdt_node_offset_by_phandle</a> (const void *fdt, <a class="el" href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> phandle)</td></tr>
<tr class="separator:a4ff6571f3fe2fa89cfd6dc15f52eaf1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2492648af0491398295fac892cb8b758"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a2492648af0491398295fac892cb8b758">fdt_stringlist_contains</a> (const char *strlist, int listlen, const char *str)</td></tr>
<tr class="separator:a2492648af0491398295fac892cb8b758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d33c2ffed049f4f1c60ffef7b66fba4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a9d33c2ffed049f4f1c60ffef7b66fba4">fdt_stringlist_count</a> (const void *fdt, int nodeoffset, const char *property)</td></tr>
<tr class="separator:a9d33c2ffed049f4f1c60ffef7b66fba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13feaf7df3d4cc7d7927d78af31dba3e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a13feaf7df3d4cc7d7927d78af31dba3e">fdt_stringlist_search</a> (const void *fdt, int nodeoffset, const char *property, const char *string)</td></tr>
<tr class="separator:a13feaf7df3d4cc7d7927d78af31dba3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9e731b810e8052140509d0c4ee19b5"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#aff9e731b810e8052140509d0c4ee19b5">fdt_stringlist_get</a> (const void *fdt, int nodeoffset, const char *property, int idx, int *lenp)</td></tr>
<tr class="separator:aff9e731b810e8052140509d0c4ee19b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade07583ac432de46013acb3a07eca7be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#ade07583ac432de46013acb3a07eca7be">fdt_node_check_compatible</a> (const void *fdt, int nodeoffset, const char *compatible)</td></tr>
<tr class="separator:ade07583ac432de46013acb3a07eca7be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fee20e876e2af4dd32e987c6c8f104a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fdt__ro_8c.html#a7fee20e876e2af4dd32e987c6c8f104a">fdt_node_offset_by_compatible</a> (const void *fdt, int startoffset, const char *compatible)</td></tr>
<tr class="separator:a7fee20e876e2af4dd32e987c6c8f104a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a57fbf6be8c4911e8448942b9fed97301"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_find_max_phandle </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>phandle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_find_max_phandle - find and return the highest phandle in a tree : pointer to the device tree blob : return location for the highest phandle value found in the tree</p>
<p><a class="el" href="fdt__ro_8c.html#a57fbf6be8c4911e8448942b9fed97301">fdt_find_max_phandle()</a> finds the highest phandle value in the given device tree. The value returned in  is only valid if the function returns success.</p>
<p>returns: 0 on success or a negative error code on failure </p>

<p>References <a class="el" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>, <a class="el" href="fdt__ro_8c.html#a0689bb9f27bdaaa355855425b4eb7149">fdt_get_phandle()</a>, <a class="el" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node()</a>, and <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a7ad648a7cf17f33659fb6cbb9545ce38">fdt_generate_phandle()</a>, <a class="el" href="libfdt_8h.html#af3768f9827584e1ae0f09103dfb3c392">fdt_get_max_phandle()</a>, and <a class="el" href="libfdt_8h.html#ad0fcb152428382bde7f034cdadfe923e">fdt_overlay_apply()</a>.</p>
<div class="fragment"><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;{</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <a class="code" href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> max = 0;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordtype">int</span> offset = -1;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <a class="code" href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> value;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        offset = <a class="code" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a>(fdt, offset, <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">if</span> (offset &lt; 0) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            <span class="keywordflow">if</span> (offset == -<a class="code" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>)</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="keywordflow">return</span> offset;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        value = <a class="code" href="fdt__ro_8c.html#a0689bb9f27bdaaa355855425b4eb7149">fdt_get_phandle</a>(fdt, offset);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">if</span> (value &gt; max)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            max = value;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    <span class="keywordflow">if</span> (phandle)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        *phandle = max;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="ttc" id="fdt_8c_html_a6603ac8041afcc7fde5c0b25de765103"><div class="ttname"><a href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a></div><div class="ttdeci">int fdt_next_node(const void *fdt, int offset, int *depth)</div><div class="ttdef"><b>Definition:</b> fdt.c:247</div></div>
<div class="ttc" id="fdt__ro_8c_html_a0689bb9f27bdaaa355855425b4eb7149"><div class="ttname"><a href="fdt__ro_8c.html#a0689bb9f27bdaaa355855425b4eb7149">fdt_get_phandle</a></div><div class="ttdeci">uint32_t fdt_get_phandle(const void *fdt, int nodeoffset)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:508</div></div>
<div class="ttc" id="libfdt_8h_html_a93cfa052f4b28df4bfc7d336b692fa07"><div class="ttname"><a href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a></div><div class="ttdeci">#define FDT_ERR_NOTFOUND</div><div class="ttdef"><b>Definition:</b> libfdt.h:21</div></div>
<div class="ttc" id="libfdt__env_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition:</b> libfdt_env.h:22</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aba2e2271df9d7cbcbb6ac633bd169bcf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_first_property_offset </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_first_property_offset - find the offset of a node's first property : pointer to the device tree blob : structure block offset of a node</p>
<p><a class="el" href="fdt__ro_8c.html#aba2e2271df9d7cbcbb6ac633bd169bcf">fdt_first_property_offset()</a> finds the first property of the node at the given structure block offset.</p>
<p>returns: structure block offset of the property (&gt;=0), on success -FDT_ERR_NOTFOUND, if the requested node has no properties -FDT_ERR_BADOFFSET, if nodeoffset did not point to an FDT_BEGIN_NODE tag -FDT_ERR_BADMAGIC, -FDT_ERR_BADVERSION, -FDT_ERR_BADSTATE, -FDT_ERR_BADSTRUCTURE, -FDT_ERR_TRUNCATED, standard meanings. </p>

<p>References <a class="el" href="fdt_8c.html#a8f4832389aff9d7c0663b6b70cdd42dd">fdt_check_node_offset_()</a>, and <a class="el" href="fdt__ro_8c.html#a0a233378abbb816de0249098cb2fc450">nextprop_()</a>.</p>

<p>Referenced by <a class="el" href="fdt__ro_8c.html#a3fbd5b94defd29f9e25d8433a03529e9">fdt_get_property_namelen_()</a>.</p>
<div class="fragment"><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;{</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;    <span class="keywordtype">int</span> offset;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="keywordflow">if</span> ((offset = <a class="code" href="fdt_8c.html#a8f4832389aff9d7c0663b6b70cdd42dd">fdt_check_node_offset_</a>(fdt, nodeoffset)) &lt; 0)</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        <span class="keywordflow">return</span> offset;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fdt__ro_8c.html#a0a233378abbb816de0249098cb2fc450">nextprop_</a>(fdt, offset);</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;}</div>
<div class="ttc" id="fdt_8c_html_a8f4832389aff9d7c0663b6b70cdd42dd"><div class="ttname"><a href="fdt_8c.html#a8f4832389aff9d7c0663b6b70cdd42dd">fdt_check_node_offset_</a></div><div class="ttdeci">int fdt_check_node_offset_(const void *fdt, int offset)</div><div class="ttdef"><b>Definition:</b> fdt.c:223</div></div>
<div class="ttc" id="fdt__ro_8c_html_a0a233378abbb816de0249098cb2fc450"><div class="ttname"><a href="fdt__ro_8c.html#a0a233378abbb816de0249098cb2fc450">nextprop_</a></div><div class="ttdeci">static int nextprop_(const void *fdt, int offset)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:201</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7ad648a7cf17f33659fb6cbb9545ce38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_generate_phandle </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> *&#160;</td>
          <td class="paramname"><em>phandle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_generate_phandle - return a new, unused phandle for a device tree blob : pointer to the device tree blob : return location for the new phandle</p>
<p>Walks the device tree blob and looks for the highest phandle value. On success, the new, unused phandle value (one higher than the previously highest phandle value in the device tree blob) will be returned in the  parameter.</p>
<p>Return: 0 on success or a negative error-code on failure </p>

<p>References <a class="el" href="libfdt_8h.html#a7dbda231b96112ab9cd6d2eca9b42bfb">FDT_ERR_NOPHANDLES</a>, <a class="el" href="fdt__ro_8c.html#a57fbf6be8c4911e8448942b9fed97301">fdt_find_max_phandle()</a>, and <a class="el" href="libfdt_8h.html#adf35cab72ef2f580fb1263c2c4d4f33a">FDT_MAX_PHANDLE</a>.</p>
<div class="fragment"><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <a class="code" href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> max;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    err = <a class="code" href="fdt__ro_8c.html#a57fbf6be8c4911e8448942b9fed97301">fdt_find_max_phandle</a>(fdt, &amp;max);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">if</span> (err &lt; 0)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">if</span> (max == <a class="code" href="libfdt_8h.html#adf35cab72ef2f580fb1263c2c4d4f33a">FDT_MAX_PHANDLE</a>)</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a7dbda231b96112ab9cd6d2eca9b42bfb">FDT_ERR_NOPHANDLES</a>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">if</span> (phandle)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        *phandle = max + 1;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;}</div>
<div class="ttc" id="libfdt_8h_html_adf35cab72ef2f580fb1263c2c4d4f33a"><div class="ttname"><a href="libfdt_8h.html#adf35cab72ef2f580fb1263c2c4d4f33a">FDT_MAX_PHANDLE</a></div><div class="ttdeci">#define FDT_MAX_PHANDLE</div><div class="ttdef"><b>Definition:</b> libfdt.h:112</div></div>
<div class="ttc" id="libfdt_8h_html_a7dbda231b96112ab9cd6d2eca9b42bfb"><div class="ttname"><a href="libfdt_8h.html#a7dbda231b96112ab9cd6d2eca9b42bfb">FDT_ERR_NOPHANDLES</a></div><div class="ttdeci">#define FDT_ERR_NOPHANDLES</div><div class="ttdef"><b>Definition:</b> libfdt.h:97</div></div>
<div class="ttc" id="fdt__ro_8c_html_a57fbf6be8c4911e8448942b9fed97301"><div class="ttname"><a href="fdt__ro_8c.html#a57fbf6be8c4911e8448942b9fed97301">fdt_find_max_phandle</a></div><div class="ttdeci">int fdt_find_max_phandle(const void *fdt, uint32_t *phandle)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:114</div></div>
<div class="ttc" id="libfdt__env_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition:</b> libfdt_env.h:22</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af65ebffdb681288cefa41db5ad41d1fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* fdt_get_alias </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="fdt__ro_8c.html#a1446c9a325c1348d88007632675f2641">fdt_get_alias_namelen()</a>, and <a class="el" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen()</a>.</p>
<div class="fragment"><div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;{</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fdt__ro_8c.html#a1446c9a325c1348d88007632675f2641">fdt_get_alias_namelen</a>(fdt, name, <a class="code" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a>(name));</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;}</div>
<div class="ttc" id="cstd_8c_html_a54684bded3e61e2d78d490650f9b706a"><div class="ttname"><a href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a></div><div class="ttdeci">int strlen(const char *buf)</div><div class="ttdoc">calculates the length of the string s, excluding the terminating null byte </div><div class="ttdef"><b>Definition:</b> cstd.c:82</div></div>
<div class="ttc" id="fdt__ro_8c_html_a1446c9a325c1348d88007632675f2641"><div class="ttname"><a href="fdt__ro_8c.html#a1446c9a325c1348d88007632675f2641">fdt_get_alias_namelen</a></div><div class="ttdeci">const char * fdt_get_alias_namelen(const void *fdt, const char *name, int namelen)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:537</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1446c9a325c1348d88007632675f2641"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* fdt_get_alias_namelen </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>namelen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="fdt__ro_8c.html#a4f970773c1f5023ddb012f1f5d799c5e">fdt_path_getprop_namelen()</a>, and <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#af65ebffdb681288cefa41db5ad41d1fe">fdt_get_alias()</a>, and <a class="el" href="libfdt_8h.html#aa8b4d143366fc7d443f47c1c92a8f8cc">fdt_path_offset_namelen()</a>.</p>
<div class="fragment"><div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;{</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fdt__ro_8c.html#a4f970773c1f5023ddb012f1f5d799c5e">fdt_path_getprop_namelen</a>(fdt, <span class="stringliteral">&quot;/aliases&quot;</span>, name, namelen, <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div>
<div class="ttc" id="fdt__ro_8c_html_a4f970773c1f5023ddb012f1f5d799c5e"><div class="ttname"><a href="fdt__ro_8c.html#a4f970773c1f5023ddb012f1f5d799c5e">fdt_path_getprop_namelen</a></div><div class="ttdeci">static const void * fdt_path_getprop_namelen(const void *fdt, const char *path, const char *propname, int propnamelen, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:525</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4c50a267dcbd5c24256040e5c60362e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_get_mem_rsv </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libfdt__env_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libfdt__env_8h.html#aaa5d1cd013383c889537491c3cfd9aad">uint64_t</a> *&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_get_mem_rsv - retrieve one memory reserve map entry : pointer to the device tree blob <br/>
: index of reserve map entry : pointer to 64-bit variable to hold the start address : pointer to 64-bit variable to hold the size of the entry</p>
<p>On success,  and  will contain the address and size of the n-th reserve map entry from the device tree blob, in native-endian format.</p>
<p>returns: 0, on success -FDT_ERR_BADMAGIC, -FDT_ERR_BADVERSION, -FDT_ERR_BADSTATE, standard meanings </p>

<p>References <a class="el" href="structfdt__reserve__entry.html#a1453319ff97e2d7c2ec0762cee56e98e">fdt_reserve_entry::address</a>, <a class="el" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>, <a class="el" href="libfdt__internal_8h.html#af075236a40c956f7e24e7ba5235f35ce">fdt64_ld_()</a>, <a class="el" href="libfdt_8h.html#a5025b6b09a009bd2b516e6a831d7ce72">FDT_ERR_BADOFFSET</a>, <a class="el" href="fdt__ro_8c.html#aa26d083555e092c1fc4f07a452502eb4">fdt_mem_rsv()</a>, <a class="el" href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a>, and <a class="el" href="structfdt__reserve__entry.html#ace12399f157bc46877fbcddec98da67e">fdt_reserve_entry::size</a>.</p>
<div class="fragment"><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;{</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structfdt__reserve__entry.html">fdt_reserve_entry</a> *re;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <a class="code" href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a>(fdt);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    re = <a class="code" href="fdt__ro_8c.html#aa26d083555e092c1fc4f07a452502eb4">fdt_mem_rsv</a>(fdt, n);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>(VALID_INPUT) &amp;&amp; !re)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a5025b6b09a009bd2b516e6a831d7ce72">FDT_ERR_BADOFFSET</a>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    *<a class="code" href="structfdt__reserve__entry.html#a1453319ff97e2d7c2ec0762cee56e98e">address</a> = <a class="code" href="libfdt__internal_8h.html#af075236a40c956f7e24e7ba5235f35ce">fdt64_ld_</a>(&amp;re-&gt;<a class="code" href="structfdt__reserve__entry.html#a1453319ff97e2d7c2ec0762cee56e98e">address</a>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    *<a class="code" href="structfdt__reserve__entry.html#ace12399f157bc46877fbcddec98da67e">size</a> = <a class="code" href="libfdt__internal_8h.html#af075236a40c956f7e24e7ba5235f35ce">fdt64_ld_</a>(&amp;re-&gt;<a class="code" href="structfdt__reserve__entry.html#ace12399f157bc46877fbcddec98da67e">size</a>);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
<div class="ttc" id="libfdt__internal_8h_html_ad6927f926180469d5c044ec5d3b2f84b"><div class="ttname"><a href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a></div><div class="ttdeci">#define FDT_RO_PROBE(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:14</div></div>
<div class="ttc" id="structfdt__reserve__entry_html_a1453319ff97e2d7c2ec0762cee56e98e"><div class="ttname"><a href="structfdt__reserve__entry.html#a1453319ff97e2d7c2ec0762cee56e98e">fdt_reserve_entry::address</a></div><div class="ttdeci">fdt64_t address</div><div class="ttdef"><b>Definition:</b> fdt.h:32</div></div>
<div class="ttc" id="structfdt__reserve__entry_html"><div class="ttname"><a href="structfdt__reserve__entry.html">fdt_reserve_entry</a></div><div class="ttdef"><b>Definition:</b> fdt.h:31</div></div>
<div class="ttc" id="libfdt__internal_8h_html_ae26d08ffdd441f73ecf7de7ca35176b9"><div class="ttname"><a href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a></div><div class="ttdeci">#define can_assume(_assume)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:190</div></div>
<div class="ttc" id="libfdt__internal_8h_html_af075236a40c956f7e24e7ba5235f35ce"><div class="ttname"><a href="libfdt__internal_8h.html#af075236a40c956f7e24e7ba5235f35ce">fdt64_ld_</a></div><div class="ttdeci">static uint64_t fdt64_ld_(const fdt64_t *p)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:63</div></div>
<div class="ttc" id="fdt__ro_8c_html_aa26d083555e092c1fc4f07a452502eb4"><div class="ttname"><a href="fdt__ro_8c.html#aa26d083555e092c1fc4f07a452502eb4">fdt_mem_rsv</a></div><div class="ttdeci">static struct fdt_reserve_entry * fdt_mem_rsv(const void *fdt, int n)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:160</div></div>
<div class="ttc" id="structfdt__reserve__entry_html_ace12399f157bc46877fbcddec98da67e"><div class="ttname"><a href="structfdt__reserve__entry.html#ace12399f157bc46877fbcddec98da67e">fdt_reserve_entry::size</a></div><div class="ttdeci">fdt64_t size</div><div class="ttdef"><b>Definition:</b> fdt.h:33</div></div>
<div class="ttc" id="libfdt_8h_html_a5025b6b09a009bd2b516e6a831d7ce72"><div class="ttname"><a href="libfdt_8h.html#a5025b6b09a009bd2b516e6a831d7ce72">FDT_ERR_BADOFFSET</a></div><div class="ttdeci">#define FDT_ERR_BADOFFSET</div><div class="ttdef"><b>Definition:</b> libfdt.h:33</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a22a72941a288c00c88c36164fdc793c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* fdt_get_name </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lenp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_get_name - retrieve the name of a given node : pointer to the device tree blob : structure block offset of the starting node : pointer to an integer variable (will be overwritten) or NULL</p>
<p><a class="el" href="fdt__ro_8c.html#a22a72941a288c00c88c36164fdc793c0">fdt_get_name()</a> retrieves the name (including unit address) of the device tree node at structure block offset nodeoffset. If lenp is non-NULL, the length of this name is also returned, in the integer pointed to by lenp.</p>
<p>returns: pointer to the node's name, on success If lenp is non-NULL, *lenp contains the length of that name (&gt;=0) NULL, on error if lenp is non-NULL *lenp contains an error code (&lt;0): -FDT_ERR_BADOFFSET, nodeoffset did not point to FDT_BEGIN_NODE tag -FDT_ERR_BADMAGIC, -FDT_ERR_BADVERSION, -FDT_ERR_BADSTATE, standard meanings </p>

<p>References <a class="el" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>, <a class="el" href="fdt_8c.html#a8f4832389aff9d7c0663b6b70cdd42dd">fdt_check_node_offset_()</a>, <a class="el" href="libfdt_8h.html#aef7e5f2183c72ef2b4698bb918d8f2f7">FDT_ERR_BADSTRUCTURE</a>, <a class="el" href="libfdt__internal_8h.html#a669df6806fbbdd717cef1c9c821dff06">fdt_offset_ptr_()</a>, <a class="el" href="fdt_8c.html#a69f9fe649e0c3dccd2eac79dafe54a4a">fdt_ro_probe_()</a>, <a class="el" href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a>, <a class="el" href="structfdt__node__header.html#a7b13eaf331db0c09640dc3d208c7efcd">fdt_node_header::name</a>, <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <a class="el" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen()</a>, and <a class="el" href="cstd_8c.html#a0c05a458deff028ef4d4e64059098db4">strrchr()</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a9dc21cc097687bcc05c5f536d2313a10">fdt_check_full()</a>, <a class="el" href="libfdt_8h.html#a7b25d4bc3dd83403a39ef84b8a362bd5">fdt_get_path()</a>, <a class="el" href="fdt__ro_8c.html#a2d417f67da75b1ebf2871428d952cf8f">fdt_nodename_eq_()</a>, <a class="el" href="libfdt_8h.html#ada21790bc118086b5bfadd815379ecd9">fdt_set_name()</a>, <a class="el" href="fdt__overlay_8c.html#ac3e9264fbe6e8ef97f2378ead11a2fd0">get_path_len()</a>, <a class="el" href="fdt__overlay_8c.html#a8cb95c9322e1e68282eda3e7fc90a314">overlay_apply_node()</a>, and <a class="el" href="fdt__overlay_8c.html#a385dd43636a52dc96596827f51511419">overlay_update_local_node_references()</a>.</p>
<div class="fragment"><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;{</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structfdt__node__header.html">fdt_node_header</a> *nh = <a class="code" href="libfdt__internal_8h.html#a669df6806fbbdd717cef1c9c821dff06">fdt_offset_ptr_</a>(fdt, nodeoffset);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *nameptr;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    <span class="keywordflow">if</span> (((err = <a class="code" href="fdt_8c.html#a69f9fe649e0c3dccd2eac79dafe54a4a">fdt_ro_probe_</a>(fdt)) &lt; 0)</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;        || ((err = <a class="code" href="fdt_8c.html#a8f4832389aff9d7c0663b6b70cdd42dd">fdt_check_node_offset_</a>(fdt, nodeoffset)) &lt; 0))</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            <span class="keywordflow">goto</span> fail;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    nameptr = nh-&gt;<a class="code" href="structfdt__node__header.html#a7b13eaf331db0c09640dc3d208c7efcd">name</a>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>(LATEST) &amp;&amp; <a class="code" href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a>(fdt) &lt; 0x10) {</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <span class="comment">/*</span></div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;<span class="comment">         * For old FDT versions, match the naming conventions of V16:</span></div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;<span class="comment">         * give only the leaf name (after all /). The actual tree</span></div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">         * contents are loosely checked.</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">         */</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *leaf;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        leaf = <a class="code" href="cstd_8c.html#a0c05a458deff028ef4d4e64059098db4">strrchr</a>(nameptr, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;        <span class="keywordflow">if</span> (leaf == <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>) {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            err = -<a class="code" href="libfdt_8h.html#aef7e5f2183c72ef2b4698bb918d8f2f7">FDT_ERR_BADSTRUCTURE</a>;</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;            <span class="keywordflow">goto</span> fail;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;        }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        nameptr = leaf+1;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="keywordflow">if</span> (len)</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        *len = <a class="code" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a>(nameptr);</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">return</span> nameptr;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160; fail:</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keywordflow">if</span> (len)</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        *len = err;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;}</div>
<div class="ttc" id="cstd_8c_html_a54684bded3e61e2d78d490650f9b706a"><div class="ttname"><a href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a></div><div class="ttdeci">int strlen(const char *buf)</div><div class="ttdoc">calculates the length of the string s, excluding the terminating null byte </div><div class="ttdef"><b>Definition:</b> cstd.c:82</div></div>
<div class="ttc" id="libfdt_8h_html_a13dbe2495fe8e67717bc708c523c781e"><div class="ttname"><a href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a></div><div class="ttdeci">#define fdt_version(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt.h:254</div></div>
<div class="ttc" id="libfdt__internal_8h_html_ae26d08ffdd441f73ecf7de7ca35176b9"><div class="ttname"><a href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a></div><div class="ttdeci">#define can_assume(_assume)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:190</div></div>
<div class="ttc" id="structfdt__node__header_html"><div class="ttname"><a href="structfdt__node__header.html">fdt_node_header</a></div><div class="ttdef"><b>Definition:</b> fdt.h:36</div></div>
<div class="ttc" id="fdt_8c_html_a8f4832389aff9d7c0663b6b70cdd42dd"><div class="ttname"><a href="fdt_8c.html#a8f4832389aff9d7c0663b6b70cdd42dd">fdt_check_node_offset_</a></div><div class="ttdeci">int fdt_check_node_offset_(const void *fdt, int offset)</div><div class="ttdef"><b>Definition:</b> fdt.c:223</div></div>
<div class="ttc" id="structfdt__node__header_html_a7b13eaf331db0c09640dc3d208c7efcd"><div class="ttname"><a href="structfdt__node__header.html#a7b13eaf331db0c09640dc3d208c7efcd">fdt_node_header::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> fdt.h:38</div></div>
<div class="ttc" id="fdt_8c_html_a69f9fe649e0c3dccd2eac79dafe54a4a"><div class="ttname"><a href="fdt_8c.html#a69f9fe649e0c3dccd2eac79dafe54a4a">fdt_ro_probe_</a></div><div class="ttdeci">int32_t fdt_ro_probe_(const void *fdt)</div><div class="ttdef"><b>Definition:</b> fdt.c:18</div></div>
<div class="ttc" id="cstd_8c_html_a0c05a458deff028ef4d4e64059098db4"><div class="ttname"><a href="cstd_8c.html#a0c05a458deff028ef4d4e64059098db4">strrchr</a></div><div class="ttdeci">char * strrchr(const char *s, int c)</div><div class="ttdoc">returns a pointer to the last occurrence of a character in a null-terminated string ...</div><div class="ttdef"><b>Definition:</b> cstd.c:111</div></div>
<div class="ttc" id="libfdt_8h_html_aef7e5f2183c72ef2b4698bb918d8f2f7"><div class="ttname"><a href="libfdt_8h.html#aef7e5f2183c72ef2b4698bb918d8f2f7">FDT_ERR_BADSTRUCTURE</a></div><div class="ttdeci">#define FDT_ERR_BADSTRUCTURE</div><div class="ttdef"><b>Definition:</b> libfdt.h:65</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
<div class="ttc" id="libfdt__internal_8h_html_a669df6806fbbdd717cef1c9c821dff06"><div class="ttname"><a href="libfdt__internal_8h.html#a669df6806fbbdd717cef1c9c821dff06">fdt_offset_ptr_</a></div><div class="ttdeci">static const void * fdt_offset_ptr_(const void *fdt, int offset)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:26</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7b25d4bc3dd83403a39ef84b8a362bd5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_get_path </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>buflen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_get_path - determine the full path of a node : pointer to the device tree blob : offset of the node whose path to find : character buffer to contain the returned path (will be overwritten) : size of the character buffer at buf</p>
<p><a class="el" href="fdt__ro_8c.html#a7b25d4bc3dd83403a39ef84b8a362bd5">fdt_get_path()</a> computes the full path of the node at offset nodeoffset, and records that path in the buffer at buf.</p>
<p>NOTE: This function is expensive, as it must scan the device tree structure from the start to nodeoffset.</p>
<p>returns: 0, on success buf contains the absolute path of the node at nodeoffset, as a NUL-terminated string. -FDT_ERR_BADOFFSET, nodeoffset does not refer to a BEGIN_NODE tag -FDT_ERR_NOSPACE, the path of the given node is longer than (bufsize-1) characters and will not fit in the given buffer. -FDT_ERR_BADMAGIC, -FDT_ERR_BADVERSION, -FDT_ERR_BADSTATE, -FDT_ERR_BADSTRUCTURE, standard meanings </p>

<p>References <a class="el" href="libfdt_8h.html#a5025b6b09a009bd2b516e6a831d7ce72">FDT_ERR_BADOFFSET</a>, <a class="el" href="libfdt_8h.html#aef7e5f2183c72ef2b4698bb918d8f2f7">FDT_ERR_BADSTRUCTURE</a>, <a class="el" href="libfdt_8h.html#a149fb54f14ba915a78319a9570e4eae3">FDT_ERR_NOSPACE</a>, <a class="el" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>, <a class="el" href="fdt__ro_8c.html#a22a72941a288c00c88c36164fdc793c0">fdt_get_name()</a>, <a class="el" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node()</a>, <a class="el" href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a>, and <a class="el" href="cstd_8c.html#a40deeb5b928964e60d97b3b8fd8a9b33">memcpy()</a>.</p>

<p>Referenced by <a class="el" href="fdt__overlay_8c.html#add76bc4fa1b36b1c11bfd9a2cf779ac1">overlay_symbol_update()</a>.</p>
<div class="fragment"><div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;{</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;    <span class="keywordtype">int</span> pdepth = 0, p = 0;</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="keywordtype">int</span> offset, depth, namelen;</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="structfdt__node__header.html#a7b13eaf331db0c09640dc3d208c7efcd">name</a>;</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a>(fdt);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;    <span class="keywordflow">if</span> (buflen &lt; 2)</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a149fb54f14ba915a78319a9570e4eae3">FDT_ERR_NOSPACE</a>;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="keywordflow">for</span> (offset = 0, depth = 0;</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;         (offset &gt;= 0) &amp;&amp; (offset &lt;= nodeoffset);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;         offset = <a class="code" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a>(fdt, offset, &amp;depth)) {</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        <span class="keywordflow">while</span> (pdepth &gt; depth) {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                p--;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;            } <span class="keywordflow">while</span> (buf[p-1] != <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;            pdepth--;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        }</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        <span class="keywordflow">if</span> (pdepth &gt;= depth) {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            name = <a class="code" href="fdt__ro_8c.html#a22a72941a288c00c88c36164fdc793c0">fdt_get_name</a>(fdt, offset, &amp;namelen);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;            <span class="keywordflow">if</span> (!name)</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;                <span class="keywordflow">return</span> namelen;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;            <span class="keywordflow">if</span> ((p + namelen + 1) &lt;= buflen) {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                <a class="code" href="cstd_8c.html#a40deeb5b928964e60d97b3b8fd8a9b33">memcpy</a>(buf + p, name, namelen);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;                p += namelen;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                buf[p++] = <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;                pdepth++;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            }</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        }</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        <span class="keywordflow">if</span> (offset == nodeoffset) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;            <span class="keywordflow">if</span> (pdepth &lt; (depth + 1))</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;                <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a149fb54f14ba915a78319a9570e4eae3">FDT_ERR_NOSPACE</a>;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;            <span class="keywordflow">if</span> (p &gt; 1) <span class="comment">/* special case so that root path is &quot;/&quot;, not &quot;&quot; */</span></div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;                p--;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            buf[p] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        }</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    }</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keywordflow">if</span> ((offset == -<a class="code" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>) || (offset &gt;= 0))</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a5025b6b09a009bd2b516e6a831d7ce72">FDT_ERR_BADOFFSET</a>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (offset == -<a class="code" href="libfdt_8h.html#a5025b6b09a009bd2b516e6a831d7ce72">FDT_ERR_BADOFFSET</a>)</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#aef7e5f2183c72ef2b4698bb918d8f2f7">FDT_ERR_BADSTRUCTURE</a>;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="keywordflow">return</span> offset; <span class="comment">/* error from fdt_next_node() */</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;}</div>
<div class="ttc" id="libfdt__internal_8h_html_ad6927f926180469d5c044ec5d3b2f84b"><div class="ttname"><a href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a></div><div class="ttdeci">#define FDT_RO_PROBE(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:14</div></div>
<div class="ttc" id="fdt__ro_8c_html_a22a72941a288c00c88c36164fdc793c0"><div class="ttname"><a href="fdt__ro_8c.html#a22a72941a288c00c88c36164fdc793c0">fdt_get_name</a></div><div class="ttdeci">const char * fdt_get_name(const void *fdt, int nodeoffset, int *len)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:300</div></div>
<div class="ttc" id="cstd_8c_html_a40deeb5b928964e60d97b3b8fd8a9b33"><div class="ttname"><a href="cstd_8c.html#a40deeb5b928964e60d97b3b8fd8a9b33">memcpy</a></div><div class="ttdeci">void * memcpy(char *dest, const char *src, unsigned n)</div><div class="ttdoc">copies buffer src to the buffer dest (the buffers must be disjoints) </div><div class="ttdef"><b>Definition:</b> cstd.c:31</div></div>
<div class="ttc" id="fdt_8c_html_a6603ac8041afcc7fde5c0b25de765103"><div class="ttname"><a href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a></div><div class="ttdeci">int fdt_next_node(const void *fdt, int offset, int *depth)</div><div class="ttdef"><b>Definition:</b> fdt.c:247</div></div>
<div class="ttc" id="structfdt__node__header_html_a7b13eaf331db0c09640dc3d208c7efcd"><div class="ttname"><a href="structfdt__node__header.html#a7b13eaf331db0c09640dc3d208c7efcd">fdt_node_header::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> fdt.h:38</div></div>
<div class="ttc" id="libfdt_8h_html_a149fb54f14ba915a78319a9570e4eae3"><div class="ttname"><a href="libfdt_8h.html#a149fb54f14ba915a78319a9570e4eae3">FDT_ERR_NOSPACE</a></div><div class="ttdeci">#define FDT_ERR_NOSPACE</div><div class="ttdef"><b>Definition:</b> libfdt.h:26</div></div>
<div class="ttc" id="libfdt_8h_html_aef7e5f2183c72ef2b4698bb918d8f2f7"><div class="ttname"><a href="libfdt_8h.html#aef7e5f2183c72ef2b4698bb918d8f2f7">FDT_ERR_BADSTRUCTURE</a></div><div class="ttdeci">#define FDT_ERR_BADSTRUCTURE</div><div class="ttdef"><b>Definition:</b> libfdt.h:65</div></div>
<div class="ttc" id="libfdt_8h_html_a93cfa052f4b28df4bfc7d336b692fa07"><div class="ttname"><a href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a></div><div class="ttdeci">#define FDT_ERR_NOTFOUND</div><div class="ttdef"><b>Definition:</b> libfdt.h:21</div></div>
<div class="ttc" id="libfdt_8h_html_a5025b6b09a009bd2b516e6a831d7ce72"><div class="ttname"><a href="libfdt_8h.html#a5025b6b09a009bd2b516e6a831d7ce72">FDT_ERR_BADOFFSET</a></div><div class="ttdeci">#define FDT_ERR_BADOFFSET</div><div class="ttdef"><b>Definition:</b> libfdt.h:33</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0689bb9f27bdaaa355855425b4eb7149"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> fdt_get_phandle </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_get_phandle - retrieve the phandle of a given node : pointer to the device tree blob : structure block offset of the node</p>
<p><a class="el" href="fdt__ro_8c.html#a0689bb9f27bdaaa355855425b4eb7149">fdt_get_phandle()</a> retrieves the phandle of the device tree node at structure block offset nodeoffset.</p>
<p>returns: the phandle of the node at nodeoffset, on success (!= 0, != -1) 0, if the node has no phandle, or another error occurs </p>

<p>References <a class="el" href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_()</a>, <a class="el" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop()</a>, and <a class="el" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a57fbf6be8c4911e8448942b9fed97301">fdt_find_max_phandle()</a>, <a class="el" href="libfdt_8h.html#a4ff6571f3fe2fa89cfd6dc15f52eaf1e">fdt_node_offset_by_phandle()</a>, and <a class="el" href="fdt__overlay_8c.html#ac2699eeb863f2070d20b509d0b2948f4">overlay_fixup_one_phandle()</a>.</p>
<div class="fragment"><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;{</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="keyword">const</span> <a class="code" href="libfdt__env_8h.html#a76887ac8786252752fb3f9a39b21f3af">fdt32_t</a> *php;</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="keywordtype">int</span> len;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="comment">/* FIXME: This is a bit sub-optimal, since we potentially scan</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">     * over all the properties twice. */</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    php = <a class="code" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop</a>(fdt, nodeoffset, <span class="stringliteral">&quot;phandle&quot;</span>, &amp;len);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="keywordflow">if</span> (!php || (len != <span class="keyword">sizeof</span>(*php))) {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        php = <a class="code" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop</a>(fdt, nodeoffset, <span class="stringliteral">&quot;linux,phandle&quot;</span>, &amp;len);</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="keywordflow">if</span> (!php || (len != <span class="keyword">sizeof</span>(*php)))</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;            <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    }</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_</a>(php);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div>
<div class="ttc" id="libfdt__env_8h_html_a76887ac8786252752fb3f9a39b21f3af"><div class="ttname"><a href="libfdt__env_8h.html#a76887ac8786252752fb3f9a39b21f3af">fdt32_t</a></div><div class="ttdeci">uint32_t FDT_BITWISE fdt32_t</div><div class="ttdef"><b>Definition:</b> libfdt_env.h:42</div></div>
<div class="ttc" id="fdt__ro_8c_html_a0a72997fe1eb5a57885bbb988256d08f"><div class="ttname"><a href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop</a></div><div class="ttdeci">const void * fdt_getprop(const void *fdt, int nodeoffset, const char *name, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:502</div></div>
<div class="ttc" id="libfdt__internal_8h_html_a066e0e174590b6a1a34eef6a0c777710"><div class="ttname"><a href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_</a></div><div class="ttdeci">static uint32_t fdt32_ld_(const fdt32_t *p)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:58</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7f394390ede4870838765689941c6e3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structfdt__property.html">fdt_property</a>* fdt_get_property </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lenp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="fdt__ro_8c.html#ac9739a424852c1400e3c09e5a1bf4364">fdt_get_property_namelen()</a>, and <a class="el" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen()</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a3ef3cd199863ded58e473a71ebdd478c">fdt_get_property_w()</a>.</p>
<div class="fragment"><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;{</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fdt__ro_8c.html#ac9739a424852c1400e3c09e5a1bf4364">fdt_get_property_namelen</a>(fdt, nodeoffset, <a class="code" href="structfdt__node__header.html#a7b13eaf331db0c09640dc3d208c7efcd">name</a>,</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;                    <a class="code" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a>(<a class="code" href="structfdt__node__header.html#a7b13eaf331db0c09640dc3d208c7efcd">name</a>), lenp);</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;}</div>
<div class="ttc" id="cstd_8c_html_a54684bded3e61e2d78d490650f9b706a"><div class="ttname"><a href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a></div><div class="ttdeci">int strlen(const char *buf)</div><div class="ttdoc">calculates the length of the string s, excluding the terminating null byte </div><div class="ttdef"><b>Definition:</b> cstd.c:82</div></div>
<div class="ttc" id="fdt__ro_8c_html_ac9739a424852c1400e3c09e5a1bf4364"><div class="ttname"><a href="fdt__ro_8c.html#ac9739a424852c1400e3c09e5a1bf4364">fdt_get_property_namelen</a></div><div class="ttdeci">struct fdt_property * fdt_get_property_namelen(const void *fdt, int offset, const char *name, int namelen, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:425</div></div>
<div class="ttc" id="structfdt__node__header_html_a7b13eaf331db0c09640dc3d208c7efcd"><div class="ttname"><a href="structfdt__node__header.html#a7b13eaf331db0c09640dc3d208c7efcd">fdt_node_header::name</a></div><div class="ttdeci">char name[]</div><div class="ttdef"><b>Definition:</b> fdt.h:38</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7de37480221a0d3381830233027d32bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structfdt__property.html">fdt_property</a>* fdt_get_property_by_offset </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lenp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_get_property_by_offset - retrieve the property at a given offset : pointer to the device tree blob : offset of the property to retrieve : pointer to an integer variable (will be overwritten) or NULL</p>
<p><a class="el" href="fdt__ro_8c.html#a7de37480221a0d3381830233027d32bd">fdt_get_property_by_offset()</a> retrieves a pointer to the <a class="el" href="structfdt__property.html">fdt_property</a> structure within the device tree blob at the given offset. If lenp is non-NULL, the length of the property value is also returned, in the integer pointed to by lenp.</p>
<p>Note that this code only works on device tree versions &gt;= 16. <a class="el" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop()</a> works on all versions.</p>
<p>returns: pointer to the structure representing the property if lenp is non-NULL, *lenp contains the length of the property value (&gt;=0) NULL, on error if lenp is non-NULL, *lenp contains an error code (&lt;0): -FDT_ERR_BADOFFSET, nodeoffset did not point to FDT_PROP tag -FDT_ERR_BADMAGIC, -FDT_ERR_BADVERSION, -FDT_ERR_BADSTATE, -FDT_ERR_BADSTRUCTURE, -FDT_ERR_TRUNCATED, standard meanings </p>

<p>References <a class="el" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>, <a class="el" href="libfdt_8h.html#ad2a3b277a1e6987ead001fcd2415d88d">FDT_ERR_BADVERSION</a>, <a class="el" href="fdt__ro_8c.html#a5968ba67990c99975ff5746c4f80c85a">fdt_get_property_by_offset_()</a>, <a class="el" href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a>, and <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#aa405faccea84b86b687e6db83befd2dd">fdt_get_property_by_offset_w()</a>.</p>
<div class="fragment"><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;{</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">/* Prior to version 16, properties may need realignment</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">     * and this API does not work. fdt_getprop_*() will, however. */</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>(LATEST) &amp;&amp; <a class="code" href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a>(fdt) &lt; 0x10) {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <span class="keywordflow">if</span> (lenp)</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            *lenp = -<a class="code" href="libfdt_8h.html#ad2a3b277a1e6987ead001fcd2415d88d">FDT_ERR_BADVERSION</a>;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    }</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fdt__ro_8c.html#a5968ba67990c99975ff5746c4f80c85a">fdt_get_property_by_offset_</a>(fdt, offset, lenp);</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;}</div>
<div class="ttc" id="libfdt_8h_html_ad2a3b277a1e6987ead001fcd2415d88d"><div class="ttname"><a href="libfdt_8h.html#ad2a3b277a1e6987ead001fcd2415d88d">FDT_ERR_BADVERSION</a></div><div class="ttdeci">#define FDT_ERR_BADVERSION</div><div class="ttdef"><b>Definition:</b> libfdt.h:60</div></div>
<div class="ttc" id="libfdt_8h_html_a13dbe2495fe8e67717bc708c523c781e"><div class="ttname"><a href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a></div><div class="ttdeci">#define fdt_version(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt.h:254</div></div>
<div class="ttc" id="libfdt__internal_8h_html_ae26d08ffdd441f73ecf7de7ca35176b9"><div class="ttname"><a href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a></div><div class="ttdeci">#define can_assume(_assume)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:190</div></div>
<div class="ttc" id="fdt__ro_8c_html_a5968ba67990c99975ff5746c4f80c85a"><div class="ttname"><a href="fdt__ro_8c.html#a5968ba67990c99975ff5746c4f80c85a">fdt_get_property_by_offset_</a></div><div class="ttdeci">static struct fdt_property * fdt_get_property_by_offset_(const void *fdt, int offset, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:356</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5968ba67990c99975ff5746c4f80c85a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structfdt__property.html">fdt_property</a>* fdt_get_property_by_offset_ </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lenp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>, <a class="el" href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_()</a>, <a class="el" href="fdt_8c.html#a299827db3d34b686d9ca7f4c60b88a08">fdt_check_prop_offset_()</a>, <a class="el" href="libfdt__internal_8h.html#a669df6806fbbdd717cef1c9c821dff06">fdt_offset_ptr_()</a>, <a class="el" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a>, and <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a7de37480221a0d3381830233027d32bd">fdt_get_property_by_offset()</a>, <a class="el" href="fdt__ro_8c.html#a3fbd5b94defd29f9e25d8433a03529e9">fdt_get_property_namelen_()</a>, and <a class="el" href="libfdt_8h.html#a631207472dcddda9470f5791260da0fd">fdt_getprop_by_offset()</a>.</p>
<div class="fragment"><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;{</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structfdt__property.html">fdt_property</a> *prop;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>(VALID_INPUT) &amp;&amp;</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;        (err = <a class="code" href="fdt_8c.html#a299827db3d34b686d9ca7f4c60b88a08">fdt_check_prop_offset_</a>(fdt, offset)) &lt; 0) {</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        <span class="keywordflow">if</span> (lenp)</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;            *lenp = err;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    }</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    prop = <a class="code" href="libfdt__internal_8h.html#a669df6806fbbdd717cef1c9c821dff06">fdt_offset_ptr_</a>(fdt, offset);</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="keywordflow">if</span> (lenp)</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        *lenp = <a class="code" href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_</a>(&amp;prop-&gt;<a class="code" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">len</a>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">return</span> prop;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;}</div>
<div class="ttc" id="structfdt__property_html_a48e6236319453578c3ca7c106b382a2f"><div class="ttname"><a href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a></div><div class="ttdeci">fdt32_t len</div><div class="ttdef"><b>Definition:</b> fdt.h:43</div></div>
<div class="ttc" id="libfdt__internal_8h_html_ae26d08ffdd441f73ecf7de7ca35176b9"><div class="ttname"><a href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a></div><div class="ttdeci">#define can_assume(_assume)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:190</div></div>
<div class="ttc" id="structfdt__property_html"><div class="ttname"><a href="structfdt__property.html">fdt_property</a></div><div class="ttdef"><b>Definition:</b> fdt.h:41</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
<div class="ttc" id="libfdt__internal_8h_html_a066e0e174590b6a1a34eef6a0c777710"><div class="ttname"><a href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_</a></div><div class="ttdeci">static uint32_t fdt32_ld_(const fdt32_t *p)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:58</div></div>
<div class="ttc" id="fdt_8c_html_a299827db3d34b686d9ca7f4c60b88a08"><div class="ttname"><a href="fdt_8c.html#a299827db3d34b686d9ca7f4c60b88a08">fdt_check_prop_offset_</a></div><div class="ttdeci">int fdt_check_prop_offset_(const void *fdt, int offset)</div><div class="ttdef"><b>Definition:</b> fdt.c:235</div></div>
<div class="ttc" id="libfdt__internal_8h_html_a669df6806fbbdd717cef1c9c821dff06"><div class="ttname"><a href="libfdt__internal_8h.html#a669df6806fbbdd717cef1c9c821dff06">fdt_offset_ptr_</a></div><div class="ttdeci">static const void * fdt_offset_ptr_(const void *fdt, int offset)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:26</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac9739a424852c1400e3c09e5a1bf4364"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structfdt__property.html">fdt_property</a>* fdt_get_property_namelen </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lenp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>, <a class="el" href="libfdt_8h.html#ad2a3b277a1e6987ead001fcd2415d88d">FDT_ERR_BADVERSION</a>, <a class="el" href="fdt__ro_8c.html#a3fbd5b94defd29f9e25d8433a03529e9">fdt_get_property_namelen_()</a>, <a class="el" href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a>, and <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a7f394390ede4870838765689941c6e3c">fdt_get_property()</a>.</p>
<div class="fragment"><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;{</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="comment">/* Prior to version 16, properties may need realignment</span></div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;<span class="comment">     * and this API does not work. fdt_getprop_*() will, however. */</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>(LATEST) &amp;&amp; <a class="code" href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a>(fdt) &lt; 0x10) {</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        <span class="keywordflow">if</span> (lenp)</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;            *lenp = -<a class="code" href="libfdt_8h.html#ad2a3b277a1e6987ead001fcd2415d88d">FDT_ERR_BADVERSION</a>;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    }</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fdt__ro_8c.html#a3fbd5b94defd29f9e25d8433a03529e9">fdt_get_property_namelen_</a>(fdt, offset, name, namelen, lenp,</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;                     <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;}</div>
<div class="ttc" id="libfdt_8h_html_ad2a3b277a1e6987ead001fcd2415d88d"><div class="ttname"><a href="libfdt_8h.html#ad2a3b277a1e6987ead001fcd2415d88d">FDT_ERR_BADVERSION</a></div><div class="ttdeci">#define FDT_ERR_BADVERSION</div><div class="ttdef"><b>Definition:</b> libfdt.h:60</div></div>
<div class="ttc" id="libfdt_8h_html_a13dbe2495fe8e67717bc708c523c781e"><div class="ttname"><a href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a></div><div class="ttdeci">#define fdt_version(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt.h:254</div></div>
<div class="ttc" id="libfdt__internal_8h_html_ae26d08ffdd441f73ecf7de7ca35176b9"><div class="ttname"><a href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a></div><div class="ttdeci">#define can_assume(_assume)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:190</div></div>
<div class="ttc" id="fdt__ro_8c_html_a3fbd5b94defd29f9e25d8433a03529e9"><div class="ttname"><a href="fdt__ro_8c.html#a3fbd5b94defd29f9e25d8433a03529e9">fdt_get_property_namelen_</a></div><div class="ttdeci">static struct fdt_property * fdt_get_property_namelen_(const void *fdt, int offset, const char *name, int namelen, int *lenp, int *poffset)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:394</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3fbd5b94defd29f9e25d8433a03529e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structfdt__property.html">fdt_property</a>* fdt_get_property_namelen_ </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lenp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>poffset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>, <a class="el" href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_()</a>, <a class="el" href="libfdt_8h.html#a02625761a47e8012c53fb389dd25fadd">FDT_ERR_INTERNAL</a>, <a class="el" href="fdt__ro_8c.html#aba2e2271df9d7cbcbb6ac633bd169bcf">fdt_first_property_offset()</a>, <a class="el" href="fdt__ro_8c.html#a5968ba67990c99975ff5746c4f80c85a">fdt_get_property_by_offset_()</a>, <a class="el" href="fdt__ro_8c.html#ad17c7077eebb6668f09aadda1f6c8fb2">fdt_next_property_offset()</a>, <a class="el" href="fdt__ro_8c.html#a4bbeefd40ad440c5e41c60cc431fae7a">fdt_string_eq_()</a>, <a class="el" href="structfdt__property.html#ad5753794266beffe67b79b6e5b3ab352">fdt_property::nameoff</a>, and <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#ab160a2065f835fb029a3e27f896126e4">fdt_get_property_namelen()</a>, and <a class="el" href="libfdt_8h.html#af06aa67642c5e97ec636619a4ac3f19a">fdt_getprop_namelen()</a>.</p>
<div class="fragment"><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;{</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="keywordflow">for</span> (offset = <a class="code" href="fdt__ro_8c.html#aba2e2271df9d7cbcbb6ac633bd169bcf">fdt_first_property_offset</a>(fdt, offset);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;         (offset &gt;= 0);</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;         (offset = <a class="code" href="fdt__ro_8c.html#ad17c7077eebb6668f09aadda1f6c8fb2">fdt_next_property_offset</a>(fdt, offset))) {</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structfdt__property.html">fdt_property</a> *prop;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        prop = <a class="code" href="fdt__ro_8c.html#a5968ba67990c99975ff5746c4f80c85a">fdt_get_property_by_offset_</a>(fdt, offset, lenp);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>(LIBFDT_FLAWLESS) &amp;&amp; !prop) {</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;            offset = -<a class="code" href="libfdt_8h.html#a02625761a47e8012c53fb389dd25fadd">FDT_ERR_INTERNAL</a>;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;        }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="fdt__ro_8c.html#a4bbeefd40ad440c5e41c60cc431fae7a">fdt_string_eq_</a>(fdt, <a class="code" href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_</a>(&amp;prop-&gt;<a class="code" href="structfdt__property.html#ad5753794266beffe67b79b6e5b3ab352">nameoff</a>),</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;                   name, namelen)) {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;            <span class="keywordflow">if</span> (poffset)</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                *poffset = offset;</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;            <span class="keywordflow">return</span> prop;</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        }</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    }</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="keywordflow">if</span> (lenp)</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        *lenp = offset;</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;}</div>
<div class="ttc" id="fdt__ro_8c_html_ad17c7077eebb6668f09aadda1f6c8fb2"><div class="ttname"><a href="fdt__ro_8c.html#ad17c7077eebb6668f09aadda1f6c8fb2">fdt_next_property_offset</a></div><div class="ttdeci">int fdt_next_property_offset(const void *fdt, int offset)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:348</div></div>
<div class="ttc" id="libfdt_8h_html_a02625761a47e8012c53fb389dd25fadd"><div class="ttname"><a href="libfdt_8h.html#a02625761a47e8012c53fb389dd25fadd">FDT_ERR_INTERNAL</a></div><div class="ttdeci">#define FDT_ERR_INTERNAL</div><div class="ttdef"><b>Definition:</b> libfdt.h:77</div></div>
<div class="ttc" id="libfdt__internal_8h_html_ae26d08ffdd441f73ecf7de7ca35176b9"><div class="ttname"><a href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a></div><div class="ttdeci">#define can_assume(_assume)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:190</div></div>
<div class="ttc" id="structfdt__property_html"><div class="ttname"><a href="structfdt__property.html">fdt_property</a></div><div class="ttdef"><b>Definition:</b> fdt.h:41</div></div>
<div class="ttc" id="fdt__ro_8c_html_a5968ba67990c99975ff5746c4f80c85a"><div class="ttname"><a href="fdt__ro_8c.html#a5968ba67990c99975ff5746c4f80c85a">fdt_get_property_by_offset_</a></div><div class="ttdeci">static struct fdt_property * fdt_get_property_by_offset_(const void *fdt, int offset, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:356</div></div>
<div class="ttc" id="structfdt__property_html_ad5753794266beffe67b79b6e5b3ab352"><div class="ttname"><a href="structfdt__property.html#ad5753794266beffe67b79b6e5b3ab352">fdt_property::nameoff</a></div><div class="ttdeci">fdt32_t nameoff</div><div class="ttdef"><b>Definition:</b> fdt.h:44</div></div>
<div class="ttc" id="fdt__ro_8c_html_aba2e2271df9d7cbcbb6ac633bd169bcf"><div class="ttname"><a href="fdt__ro_8c.html#aba2e2271df9d7cbcbb6ac633bd169bcf">fdt_first_property_offset</a></div><div class="ttdeci">int fdt_first_property_offset(const void *fdt, int nodeoffset)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:338</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
<div class="ttc" id="libfdt__internal_8h_html_a066e0e174590b6a1a34eef6a0c777710"><div class="ttname"><a href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_</a></div><div class="ttdeci">static uint32_t fdt32_ld_(const fdt32_t *p)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:58</div></div>
<div class="ttc" id="fdt__ro_8c_html_a4bbeefd40ad440c5e41c60cc431fae7a"><div class="ttname"><a href="fdt__ro_8c.html#a4bbeefd40ad440c5e41c60cc431fae7a">fdt_string_eq_</a></div><div class="ttdeci">static int fdt_string_eq_(const void *fdt, int stroffset, const char *s, int len)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:105</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a394c6c241f569f12b5b1f350dfb745ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* fdt_get_string </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stroffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lenp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_get_string - retrieve a string from the strings block of a device tree : pointer to the device tree blob : offset of the string within the strings block (native endian) : optional pointer to return the string's length</p>
<p><a class="el" href="fdt__ro_8c.html#a394c6c241f569f12b5b1f350dfb745ea">fdt_get_string()</a> retrieves a pointer to a single string from the strings block of the device tree blob at fdt, and optionally also returns the string's length in *lenp.</p>
<p>returns: a pointer to the string, on success NULL, if stroffset is out of bounds, or doesn't point to a valid string </p>

<p>References <a class="el" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>, <a class="el" href="libfdt_8h.html#a5025b6b09a009bd2b516e6a831d7ce72">FDT_ERR_BADOFFSET</a>, <a class="el" href="libfdt_8h.html#a02625761a47e8012c53fb389dd25fadd">FDT_ERR_INTERNAL</a>, <a class="el" href="libfdt_8h.html#a2b814a0775d93b5da1442fc091e49958">FDT_ERR_TRUNCATED</a>, <a class="el" href="fdt_8h.html#a5d5b14eccb44e809abddd8a946ddc8a3">FDT_MAGIC</a>, <a class="el" href="libfdt_8h.html#a783c67f6971d10232c84ecd0aa76f461">fdt_magic</a>, <a class="el" href="libfdt_8h.html#a80994b6320a372f47942ac65f55c0d6c">fdt_off_dt_strings</a>, <a class="el" href="fdt_8c.html#a69f9fe649e0c3dccd2eac79dafe54a4a">fdt_ro_probe_()</a>, <a class="el" href="libfdt_8h.html#aa0748803d707f2be7d15ebfb815d31b4">fdt_size_dt_strings</a>, <a class="el" href="libfdt__internal_8h.html#a8beb41f034bfe7967b246bbad463a575">FDT_SW_MAGIC</a>, <a class="el" href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a>, <a class="el" href="cstd_8c.html#a7a1a96cef371f847b925fb1478e04080">memchr()</a>, <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, and <a class="el" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen()</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a631207472dcddda9470f5791260da0fd">fdt_getprop_by_offset()</a>, <a class="el" href="libfdt_8h.html#a5ccdba67e9d56872ef16dcbd405da94a">fdt_string()</a>, and <a class="el" href="fdt__ro_8c.html#a4bbeefd40ad440c5e41c60cc431fae7a">fdt_string_eq_()</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;{</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <a class="code" href="libfdt__env_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a> totalsize;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <a class="code" href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> absoffset;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordtype">size_t</span> <a class="code" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">len</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *s, *n;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>(VALID_INPUT)) {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        s = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)fdt + <a class="code" href="libfdt_8h.html#a80994b6320a372f47942ac65f55c0d6c">fdt_off_dt_strings</a>(fdt) + stroffset;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordflow">if</span> (lenp)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            *lenp = <a class="code" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a>(s);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="keywordflow">return</span> s;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    }</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    totalsize = <a class="code" href="fdt_8c.html#a69f9fe649e0c3dccd2eac79dafe54a4a">fdt_ro_probe_</a>(fdt);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    err = totalsize;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">if</span> (totalsize &lt; 0)</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    err = -<a class="code" href="libfdt_8h.html#a5025b6b09a009bd2b516e6a831d7ce72">FDT_ERR_BADOFFSET</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    absoffset = stroffset + <a class="code" href="libfdt_8h.html#a80994b6320a372f47942ac65f55c0d6c">fdt_off_dt_strings</a>(fdt);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">if</span> (absoffset &gt;= (<span class="keywordtype">unsigned</span>)totalsize)</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    len = totalsize - absoffset;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="libfdt_8h.html#a783c67f6971d10232c84ecd0aa76f461">fdt_magic</a>(fdt) == <a class="code" href="fdt_8h.html#a5d5b14eccb44e809abddd8a946ddc8a3">FDT_MAGIC</a>) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">if</span> (stroffset &lt; 0)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            <span class="keywordflow">goto</span> fail;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>(LATEST) || <a class="code" href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a>(fdt) &gt;= 17) {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="keywordflow">if</span> ((<span class="keywordtype">unsigned</span>)stroffset &gt;= <a class="code" href="libfdt_8h.html#aa0748803d707f2be7d15ebfb815d31b4">fdt_size_dt_strings</a>(fdt))</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                <span class="keywordflow">goto</span> fail;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="libfdt_8h.html#aa0748803d707f2be7d15ebfb815d31b4">fdt_size_dt_strings</a>(fdt) - stroffset) &lt; len)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                len = <a class="code" href="libfdt_8h.html#aa0748803d707f2be7d15ebfb815d31b4">fdt_size_dt_strings</a>(fdt) - stroffset;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="libfdt_8h.html#a783c67f6971d10232c84ecd0aa76f461">fdt_magic</a>(fdt) == <a class="code" href="libfdt__internal_8h.html#a8beb41f034bfe7967b246bbad463a575">FDT_SW_MAGIC</a>) {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> sw_stroffset = -stroffset;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">if</span> ((stroffset &gt;= 0) ||</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            (sw_stroffset &gt; <a class="code" href="libfdt_8h.html#aa0748803d707f2be7d15ebfb815d31b4">fdt_size_dt_strings</a>(fdt)))</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <span class="keywordflow">goto</span> fail;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">if</span> (sw_stroffset &lt; len)</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;            len = sw_stroffset;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        err = -<a class="code" href="libfdt_8h.html#a02625761a47e8012c53fb389dd25fadd">FDT_ERR_INTERNAL</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    s = (<span class="keyword">const</span> <span class="keywordtype">char</span> *)fdt + absoffset;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    n = <a class="code" href="cstd_8c.html#a7a1a96cef371f847b925fb1478e04080">memchr</a>(s, <span class="charliteral">&#39;\0&#39;</span>, len);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">if</span> (!n) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        <span class="comment">/* missing terminating NULL */</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        err = -<a class="code" href="libfdt_8h.html#a2b814a0775d93b5da1442fc091e49958">FDT_ERR_TRUNCATED</a>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">goto</span> fail;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span> (lenp)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        *lenp = n - s;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keywordflow">return</span> s;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;fail:</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> (lenp)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        *lenp = err;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;}</div>
<div class="ttc" id="libfdt_8h_html_a783c67f6971d10232c84ecd0aa76f461"><div class="ttname"><a href="libfdt_8h.html#a783c67f6971d10232c84ecd0aa76f461">fdt_magic</a></div><div class="ttdeci">#define fdt_magic(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt.h:249</div></div>
<div class="ttc" id="cstd_8c_html_a7a1a96cef371f847b925fb1478e04080"><div class="ttname"><a href="cstd_8c.html#a7a1a96cef371f847b925fb1478e04080">memchr</a></div><div class="ttdeci">void * memchr(const void *src, int c, size_t n)</div><div class="ttdoc">search byte in buffer </div><div class="ttdef"><b>Definition:</b> cstd.c:69</div></div>
<div class="ttc" id="libfdt_8h_html_aa0748803d707f2be7d15ebfb815d31b4"><div class="ttname"><a href="libfdt_8h.html#aa0748803d707f2be7d15ebfb815d31b4">fdt_size_dt_strings</a></div><div class="ttdeci">#define fdt_size_dt_strings(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt.h:257</div></div>
<div class="ttc" id="libfdt__internal_8h_html_a8beb41f034bfe7967b246bbad463a575"><div class="ttname"><a href="libfdt__internal_8h.html#a8beb41f034bfe7967b246bbad463a575">FDT_SW_MAGIC</a></div><div class="ttdeci">#define FDT_SW_MAGIC</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:68</div></div>
<div class="ttc" id="libfdt_8h_html_a2b814a0775d93b5da1442fc091e49958"><div class="ttname"><a href="libfdt_8h.html#a2b814a0775d93b5da1442fc091e49958">FDT_ERR_TRUNCATED</a></div><div class="ttdeci">#define FDT_ERR_TRUNCATED</div><div class="ttdef"><b>Definition:</b> libfdt.h:52</div></div>
<div class="ttc" id="cstd_8c_html_a54684bded3e61e2d78d490650f9b706a"><div class="ttname"><a href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a></div><div class="ttdeci">int strlen(const char *buf)</div><div class="ttdoc">calculates the length of the string s, excluding the terminating null byte </div><div class="ttdef"><b>Definition:</b> cstd.c:82</div></div>
<div class="ttc" id="fdt_8h_html_a5d5b14eccb44e809abddd8a946ddc8a3"><div class="ttname"><a href="fdt_8h.html#a5d5b14eccb44e809abddd8a946ddc8a3">FDT_MAGIC</a></div><div class="ttdeci">#define FDT_MAGIC</div><div class="ttdef"><b>Definition:</b> fdt.h:50</div></div>
<div class="ttc" id="libfdt_8h_html_a13dbe2495fe8e67717bc708c523c781e"><div class="ttname"><a href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a></div><div class="ttdeci">#define fdt_version(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt.h:254</div></div>
<div class="ttc" id="structfdt__property_html_a48e6236319453578c3ca7c106b382a2f"><div class="ttname"><a href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a></div><div class="ttdeci">fdt32_t len</div><div class="ttdef"><b>Definition:</b> fdt.h:43</div></div>
<div class="ttc" id="libfdt_8h_html_a02625761a47e8012c53fb389dd25fadd"><div class="ttname"><a href="libfdt_8h.html#a02625761a47e8012c53fb389dd25fadd">FDT_ERR_INTERNAL</a></div><div class="ttdeci">#define FDT_ERR_INTERNAL</div><div class="ttdef"><b>Definition:</b> libfdt.h:77</div></div>
<div class="ttc" id="libfdt__internal_8h_html_ae26d08ffdd441f73ecf7de7ca35176b9"><div class="ttname"><a href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a></div><div class="ttdeci">#define can_assume(_assume)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:190</div></div>
<div class="ttc" id="fdt_8c_html_a69f9fe649e0c3dccd2eac79dafe54a4a"><div class="ttname"><a href="fdt_8c.html#a69f9fe649e0c3dccd2eac79dafe54a4a">fdt_ro_probe_</a></div><div class="ttdeci">int32_t fdt_ro_probe_(const void *fdt)</div><div class="ttdef"><b>Definition:</b> fdt.c:18</div></div>
<div class="ttc" id="libfdt_8h_html_a80994b6320a372f47942ac65f55c0d6c"><div class="ttname"><a href="libfdt_8h.html#a80994b6320a372f47942ac65f55c0d6c">fdt_off_dt_strings</a></div><div class="ttdeci">#define fdt_off_dt_strings(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt.h:252</div></div>
<div class="ttc" id="libfdt__env_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition:</b> libfdt_env.h:22</div></div>
<div class="ttc" id="libfdt_8h_html_a5025b6b09a009bd2b516e6a831d7ce72"><div class="ttname"><a href="libfdt_8h.html#a5025b6b09a009bd2b516e6a831d7ce72">FDT_ERR_BADOFFSET</a></div><div class="ttdeci">#define FDT_ERR_BADOFFSET</div><div class="ttdef"><b>Definition:</b> libfdt.h:33</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
<div class="ttc" id="libfdt__env_8h_html_a32f2e37ee053cf2ce8ca28d1f74630e5"><div class="ttname"><a href="libfdt__env_8h.html#a32f2e37ee053cf2ce8ca28d1f74630e5">int32_t</a></div><div class="ttdeci">int int32_t</div><div class="ttdef"><b>Definition:</b> libfdt_env.h:26</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9d7a5c166e18e81722839c0b5a0541ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* fdt_get_symbol </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="fdt__ro_8c.html#ab6e268a7c7fef650ee0c08f7010ae914">fdt_get_symbol_namelen()</a>, and <a class="el" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen()</a>.</p>
<div class="fragment"><div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;{</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fdt__ro_8c.html#ab6e268a7c7fef650ee0c08f7010ae914">fdt_get_symbol_namelen</a>(fdt, name, <a class="code" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a>(name));</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;}</div>
<div class="ttc" id="cstd_8c_html_a54684bded3e61e2d78d490650f9b706a"><div class="ttname"><a href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a></div><div class="ttdeci">int strlen(const char *buf)</div><div class="ttdoc">calculates the length of the string s, excluding the terminating null byte </div><div class="ttdef"><b>Definition:</b> cstd.c:82</div></div>
<div class="ttc" id="fdt__ro_8c_html_ab6e268a7c7fef650ee0c08f7010ae914"><div class="ttname"><a href="fdt__ro_8c.html#ab6e268a7c7fef650ee0c08f7010ae914">fdt_get_symbol_namelen</a></div><div class="ttdeci">const char * fdt_get_symbol_namelen(const void *fdt, const char *name, int namelen)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:548</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab6e268a7c7fef650ee0c08f7010ae914"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* fdt_get_symbol_namelen </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>namelen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="fdt__ro_8c.html#a4f970773c1f5023ddb012f1f5d799c5e">fdt_path_getprop_namelen()</a>, and <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a9d7a5c166e18e81722839c0b5a0541ee">fdt_get_symbol()</a>.</p>
<div class="fragment"><div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;{</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fdt__ro_8c.html#a4f970773c1f5023ddb012f1f5d799c5e">fdt_path_getprop_namelen</a>(fdt, <span class="stringliteral">&quot;/__symbols__&quot;</span>, name, namelen, <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;}</div>
<div class="ttc" id="fdt__ro_8c_html_a4f970773c1f5023ddb012f1f5d799c5e"><div class="ttname"><a href="fdt__ro_8c.html#a4f970773c1f5023ddb012f1f5d799c5e">fdt_path_getprop_namelen</a></div><div class="ttdeci">static const void * fdt_path_getprop_namelen(const void *fdt, const char *path, const char *propname, int propnamelen, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:525</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0a72997fe1eb5a57885bbb988256d08f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void* fdt_getprop </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lenp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="fdt__ro_8c.html#af06aa67642c5e97ec636619a4ac3f19a">fdt_getprop_namelen()</a>, and <a class="el" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen()</a>.</p>

<p>Referenced by <a class="el" href="fdt__addresses_8c.html#ab53e36aeec213b1a0acee1363e4e8795">fdt_cells()</a>, <a class="el" href="libfdt_8h.html#a0689bb9f27bdaaa355855425b4eb7149">fdt_get_phandle()</a>, <a class="el" href="libfdt_8h.html#a5f92f335859a2a12ea2aeffb171dca5b">fdt_getprop_w()</a>, <a class="el" href="libfdt_8h.html#ade07583ac432de46013acb3a07eca7be">fdt_node_check_compatible()</a>, <a class="el" href="libfdt_8h.html#a99d317b082102ce9a3eea47e86ab5757">fdt_node_offset_by_prop_value()</a>, <a class="el" href="libfdt_8h.html#aa155e9207e65bc6c432c40e301485af5">fdt_overlay_target_offset()</a>, <a class="el" href="libfdt_8h.html#a6943ff251ae8c4ffea474788215965a1">fdt_setprop_inplace()</a>, <a class="el" href="libfdt_8h.html#a9d33c2ffed049f4f1c60ffef7b66fba4">fdt_stringlist_count()</a>, <a class="el" href="libfdt_8h.html#a8b3166c9a8a7248f7e6fe383a80f2488">fdt_stringlist_get()</a>, <a class="el" href="libfdt_8h.html#a13feaf7df3d4cc7d7927d78af31dba3e">fdt_stringlist_search()</a>, <a class="el" href="almo1-mips_2soc_8c.html#a8f32c2785fa3edd070abdaa34c96f6a7">get_base_address()</a>, <a class="el" href="almo1-mips_2soc_8c.html#a7bd21ef4af7971db5dad06231290d8d1">get_irq()</a>, <a class="el" href="fdt__overlay_8c.html#ac2699eeb863f2070d20b509d0b2948f4">overlay_fixup_one_phandle()</a>, <a class="el" href="fdt__overlay_8c.html#a1b77c6faf056e97fb21ed6c3b7d3ac6a">overlay_get_target_phandle()</a>, <a class="el" href="fdt__overlay_8c.html#a6b1ddbc5c439ce0876f35907174284d8">overlay_phandle_add_offset()</a>, and <a class="el" href="fdt__overlay_8c.html#a385dd43636a52dc96596827f51511419">overlay_update_local_node_references()</a>.</p>
<div class="fragment"><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;{</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fdt__ro_8c.html#af06aa67642c5e97ec636619a4ac3f19a">fdt_getprop_namelen</a>(fdt, nodeoffset, name, <a class="code" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a>(name), lenp);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;}</div>
<div class="ttc" id="cstd_8c_html_a54684bded3e61e2d78d490650f9b706a"><div class="ttname"><a href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a></div><div class="ttdeci">int strlen(const char *buf)</div><div class="ttdoc">calculates the length of the string s, excluding the terminating null byte </div><div class="ttdef"><b>Definition:</b> cstd.c:82</div></div>
<div class="ttc" id="fdt__ro_8c_html_af06aa67642c5e97ec636619a4ac3f19a"><div class="ttname"><a href="fdt__ro_8c.html#af06aa67642c5e97ec636619a4ac3f19a">fdt_getprop_namelen</a></div><div class="ttdeci">const void * fdt_getprop_namelen(const void *fdt, int nodeoffset, const char *name, int namelen, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:451</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a631207472dcddda9470f5791260da0fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void* fdt_getprop_by_offset </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>namep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lenp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_getprop_by_offset - retrieve the value of a property at a given offset : pointer to the device tree blob : offset of the property to read : pointer to a string variable (will be overwritten) or NULL : pointer to an integer variable (will be overwritten) or NULL</p>
<p><a class="el" href="fdt__ro_8c.html#a631207472dcddda9470f5791260da0fd">fdt_getprop_by_offset()</a> retrieves a pointer to the value of the property at structure block offset 'offset' (this will be a pointer to within the device blob itself, not a copy of the value). If lenp is non-NULL, the length of the property value is also returned, in the integer pointed to by lenp. If namep is non-NULL, the property's namne will also be returned in the char * pointed to by namep (this will be a pointer to within the device tree's string block, not a new copy of the name).</p>
<p>returns: pointer to the property's value if lenp is non-NULL, *lenp contains the length of the property value (&gt;=0) if namep is non-NULL *namep contiains a pointer to the property name. NULL, on error if lenp is non-NULL, *lenp contains an error code (&lt;0): -FDT_ERR_BADOFFSET, nodeoffset did not point to FDT_PROP tag -FDT_ERR_BADMAGIC, -FDT_ERR_BADVERSION, -FDT_ERR_BADSTATE, -FDT_ERR_BADSTRUCTURE, -FDT_ERR_TRUNCATED, standard meanings </p>

<p>References <a class="el" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>, <a class="el" href="structfdt__property.html#abb52f21622f86ed9b268f49b76f23aef">fdt_property::data</a>, <a class="el" href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_()</a>, <a class="el" href="fdt__ro_8c.html#a5968ba67990c99975ff5746c4f80c85a">fdt_get_property_by_offset_()</a>, <a class="el" href="fdt__ro_8c.html#a394c6c241f569f12b5b1f350dfb745ea">fdt_get_string()</a>, <a class="el" href="fdt__ro_8c.html#a5ccdba67e9d56872ef16dcbd405da94a">fdt_string()</a>, <a class="el" href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a>, <a class="el" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a>, <a class="el" href="structfdt__property.html#ad5753794266beffe67b79b6e5b3ab352">fdt_property::nameoff</a>, and <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a9dc21cc097687bcc05c5f536d2313a10">fdt_check_full()</a>, <a class="el" href="fdt__overlay_8c.html#a8cb95c9322e1e68282eda3e7fc90a314">overlay_apply_node()</a>, <a class="el" href="fdt__overlay_8c.html#a27d6c0e207237b7020d4c7bfa0eb0402">overlay_fixup_phandle()</a>, <a class="el" href="fdt__overlay_8c.html#add76bc4fa1b36b1c11bfd9a2cf779ac1">overlay_symbol_update()</a>, and <a class="el" href="fdt__overlay_8c.html#a385dd43636a52dc96596827f51511419">overlay_update_local_node_references()</a>.</p>
<div class="fragment"><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;{</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structfdt__property.html">fdt_property</a> *prop;</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    prop = <a class="code" href="fdt__ro_8c.html#a5968ba67990c99975ff5746c4f80c85a">fdt_get_property_by_offset_</a>(fdt, offset, lenp);</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <span class="keywordflow">if</span> (!prop)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="keywordflow">if</span> (namep) {</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *name;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        <span class="keywordtype">int</span> namelen;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>(VALID_INPUT)) {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            name = <a class="code" href="fdt__ro_8c.html#a394c6c241f569f12b5b1f350dfb745ea">fdt_get_string</a>(fdt, <a class="code" href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_</a>(&amp;prop-&gt;<a class="code" href="structfdt__property.html#ad5753794266beffe67b79b6e5b3ab352">nameoff</a>),</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                          &amp;namelen);</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            *namep = name;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="keywordflow">if</span> (!name) {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;                <span class="keywordflow">if</span> (lenp)</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;                    *lenp = namelen;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            }</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            *namep = <a class="code" href="fdt__ro_8c.html#a5ccdba67e9d56872ef16dcbd405da94a">fdt_string</a>(fdt, <a class="code" href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_</a>(&amp;prop-&gt;<a class="code" href="structfdt__property.html#ad5753794266beffe67b79b6e5b3ab352">nameoff</a>));</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;        }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;    <span class="comment">/* Handle realignment */</span></div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>(LATEST) &amp;&amp; <a class="code" href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a>(fdt) &lt; 0x10 &amp;&amp;</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        (offset + <span class="keyword">sizeof</span>(*prop)) % 8 &amp;&amp; <a class="code" href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_</a>(&amp;prop-&gt;<a class="code" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">len</a>) &gt;= 8)</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        <span class="keywordflow">return</span> prop-&gt;<a class="code" href="structfdt__property.html#abb52f21622f86ed9b268f49b76f23aef">data</a> + 4;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="keywordflow">return</span> prop-&gt;<a class="code" href="structfdt__property.html#abb52f21622f86ed9b268f49b76f23aef">data</a>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;}</div>
<div class="ttc" id="libfdt_8h_html_a13dbe2495fe8e67717bc708c523c781e"><div class="ttname"><a href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a></div><div class="ttdeci">#define fdt_version(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt.h:254</div></div>
<div class="ttc" id="structfdt__property_html_a48e6236319453578c3ca7c106b382a2f"><div class="ttname"><a href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a></div><div class="ttdeci">fdt32_t len</div><div class="ttdef"><b>Definition:</b> fdt.h:43</div></div>
<div class="ttc" id="libfdt__internal_8h_html_ae26d08ffdd441f73ecf7de7ca35176b9"><div class="ttname"><a href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a></div><div class="ttdeci">#define can_assume(_assume)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:190</div></div>
<div class="ttc" id="structfdt__property_html"><div class="ttname"><a href="structfdt__property.html">fdt_property</a></div><div class="ttdef"><b>Definition:</b> fdt.h:41</div></div>
<div class="ttc" id="fdt__ro_8c_html_a5968ba67990c99975ff5746c4f80c85a"><div class="ttname"><a href="fdt__ro_8c.html#a5968ba67990c99975ff5746c4f80c85a">fdt_get_property_by_offset_</a></div><div class="ttdeci">static struct fdt_property * fdt_get_property_by_offset_(const void *fdt, int offset, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:356</div></div>
<div class="ttc" id="structfdt__property_html_ad5753794266beffe67b79b6e5b3ab352"><div class="ttname"><a href="structfdt__property.html#ad5753794266beffe67b79b6e5b3ab352">fdt_property::nameoff</a></div><div class="ttdeci">fdt32_t nameoff</div><div class="ttdef"><b>Definition:</b> fdt.h:44</div></div>
<div class="ttc" id="fdt__ro_8c_html_a394c6c241f569f12b5b1f350dfb745ea"><div class="ttname"><a href="fdt__ro_8c.html#a394c6c241f569f12b5b1f350dfb745ea">fdt_get_string</a></div><div class="ttdeci">const char * fdt_get_string(const void *fdt, int stroffset, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:34</div></div>
<div class="ttc" id="fdt__ro_8c_html_a5ccdba67e9d56872ef16dcbd405da94a"><div class="ttname"><a href="fdt__ro_8c.html#a5ccdba67e9d56872ef16dcbd405da94a">fdt_string</a></div><div class="ttdeci">const char * fdt_string(const void *fdt, int stroffset)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:100</div></div>
<div class="ttc" id="structfdt__property_html_abb52f21622f86ed9b268f49b76f23aef"><div class="ttname"><a href="structfdt__property.html#abb52f21622f86ed9b268f49b76f23aef">fdt_property::data</a></div><div class="ttdeci">char data[]</div><div class="ttdef"><b>Definition:</b> fdt.h:45</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
<div class="ttc" id="libfdt__internal_8h_html_a066e0e174590b6a1a34eef6a0c777710"><div class="ttname"><a href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_</a></div><div class="ttdeci">static uint32_t fdt32_ld_(const fdt32_t *p)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:58</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="af06aa67642c5e97ec636619a4ac3f19a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void* fdt_getprop_namelen </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lenp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>, <a class="el" href="structfdt__property.html#abb52f21622f86ed9b268f49b76f23aef">fdt_property::data</a>, <a class="el" href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_()</a>, <a class="el" href="fdt__ro_8c.html#a3fbd5b94defd29f9e25d8433a03529e9">fdt_get_property_namelen_()</a>, <a class="el" href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a>, <a class="el" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a>, and <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop()</a>, <a class="el" href="libfdt_8h.html#a2d633fbf4ecff743e2a869a80e330ed6">fdt_getprop_namelen_w()</a>, and <a class="el" href="fdt__ro_8c.html#a4f970773c1f5023ddb012f1f5d799c5e">fdt_path_getprop_namelen()</a>.</p>
<div class="fragment"><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;{</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordtype">int</span> poffset;</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structfdt__property.html">fdt_property</a> *prop;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    prop = <a class="code" href="fdt__ro_8c.html#a3fbd5b94defd29f9e25d8433a03529e9">fdt_get_property_namelen_</a>(fdt, nodeoffset, name, namelen, lenp,</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;                     &amp;poffset);</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;    <span class="keywordflow">if</span> (!prop)</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="comment">/* Handle realignment */</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>(LATEST) &amp;&amp; <a class="code" href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a>(fdt) &lt; 0x10 &amp;&amp;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;        (poffset + <span class="keyword">sizeof</span>(*prop)) % 8 &amp;&amp; <a class="code" href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_</a>(&amp;prop-&gt;<a class="code" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">len</a>) &gt;= 8)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="keywordflow">return</span> prop-&gt;<a class="code" href="structfdt__property.html#abb52f21622f86ed9b268f49b76f23aef">data</a> + 4;</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    <span class="keywordflow">return</span> prop-&gt;<a class="code" href="structfdt__property.html#abb52f21622f86ed9b268f49b76f23aef">data</a>;</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;}</div>
<div class="ttc" id="libfdt_8h_html_a13dbe2495fe8e67717bc708c523c781e"><div class="ttname"><a href="libfdt_8h.html#a13dbe2495fe8e67717bc708c523c781e">fdt_version</a></div><div class="ttdeci">#define fdt_version(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt.h:254</div></div>
<div class="ttc" id="structfdt__property_html_a48e6236319453578c3ca7c106b382a2f"><div class="ttname"><a href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a></div><div class="ttdeci">fdt32_t len</div><div class="ttdef"><b>Definition:</b> fdt.h:43</div></div>
<div class="ttc" id="libfdt__internal_8h_html_ae26d08ffdd441f73ecf7de7ca35176b9"><div class="ttname"><a href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a></div><div class="ttdeci">#define can_assume(_assume)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:190</div></div>
<div class="ttc" id="structfdt__property_html"><div class="ttname"><a href="structfdt__property.html">fdt_property</a></div><div class="ttdef"><b>Definition:</b> fdt.h:41</div></div>
<div class="ttc" id="fdt__ro_8c_html_a3fbd5b94defd29f9e25d8433a03529e9"><div class="ttname"><a href="fdt__ro_8c.html#a3fbd5b94defd29f9e25d8433a03529e9">fdt_get_property_namelen_</a></div><div class="ttdeci">static struct fdt_property * fdt_get_property_namelen_(const void *fdt, int offset, const char *name, int namelen, int *lenp, int *poffset)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:394</div></div>
<div class="ttc" id="structfdt__property_html_abb52f21622f86ed9b268f49b76f23aef"><div class="ttname"><a href="structfdt__property.html#abb52f21622f86ed9b268f49b76f23aef">fdt_property::data</a></div><div class="ttdeci">char data[]</div><div class="ttdef"><b>Definition:</b> fdt.h:45</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
<div class="ttc" id="libfdt__internal_8h_html_a066e0e174590b6a1a34eef6a0c777710"><div class="ttname"><a href="libfdt__internal_8h.html#a066e0e174590b6a1a34eef6a0c777710">fdt32_ld_</a></div><div class="ttdeci">static uint32_t fdt32_ld_(const fdt32_t *p)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:58</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa26d083555e092c1fc4f07a452502eb4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static struct <a class="el" href="structfdt__reserve__entry.html">fdt_reserve_entry</a>* fdt_mem_rsv </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>, <a class="el" href="libfdt__internal_8h.html#ac64edb5a2b383f975d498c4cad5ee81f">fdt_mem_rsv_()</a>, <a class="el" href="libfdt_8h.html#ad34e2939365df0a17061d177356b4e39">fdt_off_mem_rsvmap</a>, <a class="el" href="libfdt_8h.html#a2acbb1f436008e0830f7e329bbb13cd0">fdt_totalsize</a>, and <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a4c50a267dcbd5c24256040e5c60362e6">fdt_get_mem_rsv()</a>, and <a class="el" href="libfdt_8h.html#a79fa5b76564c75c9fb00fe8ca3ba3eee">fdt_num_mem_rsv()</a>.</p>
<div class="fragment"><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;{</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> offset = n * <span class="keyword">sizeof</span>(<span class="keyword">struct </span><a class="code" href="structfdt__reserve__entry.html">fdt_reserve_entry</a>);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> absoffset = <a class="code" href="libfdt_8h.html#ad34e2939365df0a17061d177356b4e39">fdt_off_mem_rsvmap</a>(fdt) + offset;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>(VALID_INPUT)) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">if</span> (absoffset &lt; <a class="code" href="libfdt_8h.html#ad34e2939365df0a17061d177356b4e39">fdt_off_mem_rsvmap</a>(fdt))</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordflow">if</span> (absoffset &gt; <a class="code" href="libfdt_8h.html#a2acbb1f436008e0830f7e329bbb13cd0">fdt_totalsize</a>(fdt) -</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structfdt__reserve__entry.html">fdt_reserve_entry</a>))</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    }</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="libfdt__internal_8h.html#ac64edb5a2b383f975d498c4cad5ee81f">fdt_mem_rsv_</a>(fdt, n);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;}</div>
<div class="ttc" id="libfdt_8h_html_ad34e2939365df0a17061d177356b4e39"><div class="ttname"><a href="libfdt_8h.html#ad34e2939365df0a17061d177356b4e39">fdt_off_mem_rsvmap</a></div><div class="ttdeci">#define fdt_off_mem_rsvmap(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt.h:253</div></div>
<div class="ttc" id="libfdt_8h_html_a2acbb1f436008e0830f7e329bbb13cd0"><div class="ttname"><a href="libfdt_8h.html#a2acbb1f436008e0830f7e329bbb13cd0">fdt_totalsize</a></div><div class="ttdeci">#define fdt_totalsize(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt.h:250</div></div>
<div class="ttc" id="structfdt__reserve__entry_html"><div class="ttname"><a href="structfdt__reserve__entry.html">fdt_reserve_entry</a></div><div class="ttdef"><b>Definition:</b> fdt.h:31</div></div>
<div class="ttc" id="libfdt__internal_8h_html_ae26d08ffdd441f73ecf7de7ca35176b9"><div class="ttname"><a href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a></div><div class="ttdeci">#define can_assume(_assume)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:190</div></div>
<div class="ttc" id="libfdt__internal_8h_html_ac64edb5a2b383f975d498c4cad5ee81f"><div class="ttname"><a href="libfdt__internal_8h.html#ac64edb5a2b383f975d498c4cad5ee81f">fdt_mem_rsv_</a></div><div class="ttdeci">static struct fdt_reserve_entry * fdt_mem_rsv_(const void *fdt, int n)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:36</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad17c7077eebb6668f09aadda1f6c8fb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_next_property_offset </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_next_property_offset - step through a node's properties : pointer to the device tree blob : structure block offset of a property</p>
<p><a class="el" href="fdt__ro_8c.html#ad17c7077eebb6668f09aadda1f6c8fb2">fdt_next_property_offset()</a> finds the property immediately after the one at the given structure block offset. This will be a property of the same node as the given property.</p>
<p>returns: structure block offset of the next property (&gt;=0), on success -FDT_ERR_NOTFOUND, if the given property is the last in its node -FDT_ERR_BADOFFSET, if nodeoffset did not point to an FDT_PROP tag -FDT_ERR_BADMAGIC, -FDT_ERR_BADVERSION, -FDT_ERR_BADSTATE, -FDT_ERR_BADSTRUCTURE, -FDT_ERR_TRUNCATED, standard meanings. </p>

<p>References <a class="el" href="fdt_8c.html#a299827db3d34b686d9ca7f4c60b88a08">fdt_check_prop_offset_()</a>, and <a class="el" href="fdt__ro_8c.html#a0a233378abbb816de0249098cb2fc450">nextprop_()</a>.</p>

<p>Referenced by <a class="el" href="fdt__ro_8c.html#a3fbd5b94defd29f9e25d8433a03529e9">fdt_get_property_namelen_()</a>.</p>
<div class="fragment"><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;{</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="keywordflow">if</span> ((offset = <a class="code" href="fdt_8c.html#a299827db3d34b686d9ca7f4c60b88a08">fdt_check_prop_offset_</a>(fdt, offset)) &lt; 0)</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;        <span class="keywordflow">return</span> offset;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fdt__ro_8c.html#a0a233378abbb816de0249098cb2fc450">nextprop_</a>(fdt, offset);</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;}</div>
<div class="ttc" id="fdt__ro_8c_html_a0a233378abbb816de0249098cb2fc450"><div class="ttname"><a href="fdt__ro_8c.html#a0a233378abbb816de0249098cb2fc450">nextprop_</a></div><div class="ttdeci">static int nextprop_(const void *fdt, int offset)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:201</div></div>
<div class="ttc" id="fdt_8c_html_a299827db3d34b686d9ca7f4c60b88a08"><div class="ttname"><a href="fdt_8c.html#a299827db3d34b686d9ca7f4c60b88a08">fdt_check_prop_offset_</a></div><div class="ttdeci">int fdt_check_prop_offset_(const void *fdt, int offset)</div><div class="ttdef"><b>Definition:</b> fdt.c:235</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ade07583ac432de46013acb3a07eca7be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_node_check_compatible </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>compatible</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_node_check_compatible - check a node's compatible property : pointer to the device tree blob : offset of a tree node : string to match against</p>
<p><a class="el" href="fdt__ro_8c.html#ade07583ac432de46013acb3a07eca7be">fdt_node_check_compatible()</a> returns 0 if the given node contains a  property with the given string as one of its elements, it returns non-zero otherwise, or on error.</p>
<p>returns: 0, if the node has a 'compatible' property listing the given string 1, if the node has a 'compatible' property, but it does not list the given string -FDT_ERR_NOTFOUND, if the given node has no 'compatible' property -FDT_ERR_BADOFFSET, if nodeoffset does not refer to a BEGIN_NODE tag -FDT_ERR_BADMAGIC, -FDT_ERR_BADVERSION, -FDT_ERR_BADSTATE, -FDT_ERR_BADSTRUCTURE, standard meanings </p>

<p>References <a class="el" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop()</a>, <a class="el" href="fdt__ro_8c.html#a2492648af0491398295fac892cb8b758">fdt_stringlist_contains()</a>, and <a class="el" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a7fee20e876e2af4dd32e987c6c8f104a">fdt_node_offset_by_compatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;{</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span> *prop;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;    <span class="keywordtype">int</span> len;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;    prop = <a class="code" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop</a>(fdt, nodeoffset, <span class="stringliteral">&quot;compatible&quot;</span>, &amp;len);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;    <span class="keywordflow">if</span> (!prop)</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keywordflow">return</span> len;</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;    <span class="keywordflow">return</span> !<a class="code" href="fdt__ro_8c.html#a2492648af0491398295fac892cb8b758">fdt_stringlist_contains</a>(prop, len, compatible);</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;}</div>
<div class="ttc" id="fdt__ro_8c_html_a2492648af0491398295fac892cb8b758"><div class="ttname"><a href="fdt__ro_8c.html#a2492648af0491398295fac892cb8b758">fdt_stringlist_contains</a></div><div class="ttdeci">int fdt_stringlist_contains(const char *strlist, int listlen, const char *str)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:723</div></div>
<div class="ttc" id="fdt__ro_8c_html_a0a72997fe1eb5a57885bbb988256d08f"><div class="ttname"><a href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop</a></div><div class="ttdeci">const void * fdt_getprop(const void *fdt, int nodeoffset, const char *name, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:502</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2c0d12a5988128f0b674d4ec24b709d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_node_depth </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_node_depth - find the depth of a given node : pointer to the device tree blob : offset of the node whose parent to find</p>
<p><a class="el" href="fdt__ro_8c.html#a2c0d12a5988128f0b674d4ec24b709d8">fdt_node_depth()</a> finds the depth of a given node. The root node has depth 0, its immediate subnodes depth 1 and so forth.</p>
<p>NOTE: This function is expensive, as it must scan the device tree structure from the start to nodeoffset.</p>
<p>returns: depth of the node at nodeoffset (&gt;=0), on success -FDT_ERR_BADOFFSET, nodeoffset does not refer to a BEGIN_NODE tag -FDT_ERR_BADMAGIC, -FDT_ERR_BADVERSION, -FDT_ERR_BADSTATE, -FDT_ERR_BADSTRUCTURE, standard meanings </p>

<p>References <a class="el" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>, <a class="el" href="libfdt_8h.html#a02625761a47e8012c53fb389dd25fadd">FDT_ERR_INTERNAL</a>, and <a class="el" href="fdt__ro_8c.html#a6c960d975c6644172ccc71fc2c48dbb4">fdt_supernode_atdepth_offset()</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a2b518dbd88cb783a9bffa1680ab297f9">fdt_parent_offset()</a>.</p>
<div class="fragment"><div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;{</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="keywordtype">int</span> nodedepth;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="keywordtype">int</span> err;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    err = <a class="code" href="fdt__ro_8c.html#a6c960d975c6644172ccc71fc2c48dbb4">fdt_supernode_atdepth_offset</a>(fdt, nodeoffset, 0, &amp;nodedepth);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="keywordflow">if</span> (err)</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordflow">return</span> (<a class="code" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>(LIBFDT_FLAWLESS) || err &lt; 0) ? err :</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;            -<a class="code" href="libfdt_8h.html#a02625761a47e8012c53fb389dd25fadd">FDT_ERR_INTERNAL</a>;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">return</span> nodedepth;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div>
<div class="ttc" id="fdt__ro_8c_html_a6c960d975c6644172ccc71fc2c48dbb4"><div class="ttname"><a href="fdt__ro_8c.html#a6c960d975c6644172ccc71fc2c48dbb4">fdt_supernode_atdepth_offset</a></div><div class="ttdeci">int fdt_supernode_atdepth_offset(const void *fdt, int nodeoffset, int supernodedepth, int *nodedepth)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:611</div></div>
<div class="ttc" id="libfdt_8h_html_a02625761a47e8012c53fb389dd25fadd"><div class="ttname"><a href="libfdt_8h.html#a02625761a47e8012c53fb389dd25fadd">FDT_ERR_INTERNAL</a></div><div class="ttdeci">#define FDT_ERR_INTERNAL</div><div class="ttdef"><b>Definition:</b> libfdt.h:77</div></div>
<div class="ttc" id="libfdt__internal_8h_html_ae26d08ffdd441f73ecf7de7ca35176b9"><div class="ttname"><a href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a></div><div class="ttdeci">#define can_assume(_assume)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:190</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7fee20e876e2af4dd32e987c6c8f104a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_node_offset_by_compatible </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>startoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>compatible</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_node_offset_by_compatible - find nodes with a given 'compatible' value : pointer to the device tree blob : only find nodes after this offset : 'compatible' string to match against</p>
<p><a class="el" href="fdt__ro_8c.html#a7fee20e876e2af4dd32e987c6c8f104a">fdt_node_offset_by_compatible()</a> returns the offset of the first node after startoffset, which has a 'compatible' property which lists the given compatible string; or if startoffset is -1, the very first such node in the tree.</p>
<p>To iterate through all nodes matching the criterion, the following idiom can be used: offset = fdt_node_offset_by_compatible(fdt, -1, compatible); while (offset != -FDT_ERR_NOTFOUND) { // other code here offset = fdt_node_offset_by_compatible(fdt, offset, compatible); }</p>
<p>Note the -1 in the first call to the function, if 0 is used here instead, the function will never locate the root node, even if it matches the criterion.</p>
<p>returns: structure block offset of the located node (&gt;= 0, &gt;startoffset), on success -FDT_ERR_NOTFOUND, no node matching the criterion exists in the tree after startoffset -FDT_ERR_BADOFFSET, nodeoffset does not refer to a BEGIN_NODE tag -FDT_ERR_BADMAGIC, -FDT_ERR_BADVERSION, -FDT_ERR_BADSTATE, -FDT_ERR_BADSTRUCTURE, standard meanings </p>

<p>References <a class="el" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>, <a class="el" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node()</a>, <a class="el" href="fdt__ro_8c.html#ade07583ac432de46013acb3a07eca7be">fdt_node_check_compatible()</a>, <a class="el" href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a>, and <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

<p>Referenced by <a class="el" href="almo1-mips_2soc_8c.html#a5fb66f75ca9173a1a6dd99fc4be6706b">soc_dma_init()</a>, <a class="el" href="almo1-mips_2soc_8c.html#a4c268c213e6a62adfab96031629fa015">soc_icu_init()</a>, <a class="el" href="almo1-mips_2soc_8c.html#aeb589179b71725cd918f71b4f23b21d2">soc_timer_init()</a>, and <a class="el" href="almo1-mips_2soc_8c.html#a05f9476d07e118d280add6f5e3de365b">soc_tty_init()</a>.</p>
<div class="fragment"><div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;{</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    <span class="keywordtype">int</span> offset, err;</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    <a class="code" href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a>(fdt);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    <span class="comment">/* FIXME: The algorithm here is pretty horrible: we scan each</span></div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;<span class="comment">     * property of a node in fdt_node_check_compatible(), then if</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;<span class="comment">     * that didn&#39;t find what we want, we scan over them again</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">     * making our way to the next node.  Still it&#39;s the easiest to</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">     * implement approach; performance can come later. */</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="keywordflow">for</span> (offset = <a class="code" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a>(fdt, startoffset, <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;         offset &gt;= 0;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;         offset = <a class="code" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a>(fdt, offset, <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        err = <a class="code" href="fdt__ro_8c.html#ade07583ac432de46013acb3a07eca7be">fdt_node_check_compatible</a>(fdt, offset, compatible);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;        <span class="keywordflow">if</span> ((err &lt; 0) &amp;&amp; (err != -<a class="code" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>))</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;            <span class="keywordflow">return</span> err;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (err == 0)</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;            <span class="keywordflow">return</span> offset;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    }</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <span class="keywordflow">return</span> offset; <span class="comment">/* error from fdt_next_node() */</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;}</div>
<div class="ttc" id="fdt__ro_8c_html_ade07583ac432de46013acb3a07eca7be"><div class="ttname"><a href="fdt__ro_8c.html#ade07583ac432de46013acb3a07eca7be">fdt_node_check_compatible</a></div><div class="ttdeci">int fdt_node_check_compatible(const void *fdt, int nodeoffset, const char *compatible)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:840</div></div>
<div class="ttc" id="libfdt__internal_8h_html_ad6927f926180469d5c044ec5d3b2f84b"><div class="ttname"><a href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a></div><div class="ttdeci">#define FDT_RO_PROBE(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:14</div></div>
<div class="ttc" id="fdt_8c_html_a6603ac8041afcc7fde5c0b25de765103"><div class="ttname"><a href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a></div><div class="ttdeci">int fdt_next_node(const void *fdt, int offset, int *depth)</div><div class="ttdef"><b>Definition:</b> fdt.c:247</div></div>
<div class="ttc" id="libfdt_8h_html_a93cfa052f4b28df4bfc7d336b692fa07"><div class="ttname"><a href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a></div><div class="ttdeci">#define FDT_ERR_NOTFOUND</div><div class="ttdef"><b>Definition:</b> libfdt.h:21</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4ff6571f3fe2fa89cfd6dc15f52eaf1e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_node_offset_by_phandle </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td>
          <td class="paramname"><em>phandle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_node_offset_by_phandle - find the node with a given phandle : pointer to the device tree blob : phandle value</p>
<p><a class="el" href="fdt__ro_8c.html#a4ff6571f3fe2fa89cfd6dc15f52eaf1e">fdt_node_offset_by_phandle()</a> returns the offset of the node which has the given phandle value. If there is more than one node in the tree with the given phandle (an invalid tree), results are undefined.</p>
<p>returns: structure block offset of the located node (&gt;= 0), on success -FDT_ERR_NOTFOUND, no node with that phandle exists -FDT_ERR_BADPHANDLE, given phandle value was invalid (0 or -1) -FDT_ERR_BADMAGIC, -FDT_ERR_BADVERSION, -FDT_ERR_BADSTATE, -FDT_ERR_BADSTRUCTURE, standard meanings </p>

<p>References <a class="el" href="libfdt_8h.html#a0f264f8ba8cc4e98852c8246bc6312bc">FDT_ERR_BADPHANDLE</a>, <a class="el" href="fdt__ro_8c.html#a0689bb9f27bdaaa355855425b4eb7149">fdt_get_phandle()</a>, <a class="el" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node()</a>, <a class="el" href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a>, and <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#aa155e9207e65bc6c432c40e301485af5">fdt_overlay_target_offset()</a>.</p>
<div class="fragment"><div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;{</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;    <span class="keywordtype">int</span> offset;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">if</span> ((phandle == 0) || (phandle == ~0U))</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a0f264f8ba8cc4e98852c8246bc6312bc">FDT_ERR_BADPHANDLE</a>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <a class="code" href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a>(fdt);</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <span class="comment">/* FIXME: The algorithm here is pretty horrible: we</span></div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;<span class="comment">     * potentially scan each property of a node in</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;<span class="comment">     * fdt_get_phandle(), then if that didn&#39;t find what</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;<span class="comment">     * we want, we scan over them again making our way to the next</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;<span class="comment">     * node.  Still it&#39;s the easiest to implement approach;</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;<span class="comment">     * performance can come later. */</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <span class="keywordflow">for</span> (offset = <a class="code" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a>(fdt, -1, <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;         offset &gt;= 0;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;         offset = <a class="code" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a>(fdt, offset, <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="fdt__ro_8c.html#a0689bb9f27bdaaa355855425b4eb7149">fdt_get_phandle</a>(fdt, offset) == phandle)</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <span class="keywordflow">return</span> offset;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    }</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">return</span> offset; <span class="comment">/* error from fdt_next_node() */</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;}</div>
<div class="ttc" id="libfdt__internal_8h_html_ad6927f926180469d5c044ec5d3b2f84b"><div class="ttname"><a href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a></div><div class="ttdeci">#define FDT_RO_PROBE(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:14</div></div>
<div class="ttc" id="libfdt_8h_html_a0f264f8ba8cc4e98852c8246bc6312bc"><div class="ttname"><a href="libfdt_8h.html#a0f264f8ba8cc4e98852c8246bc6312bc">FDT_ERR_BADPHANDLE</a></div><div class="ttdeci">#define FDT_ERR_BADPHANDLE</div><div class="ttdef"><b>Definition:</b> libfdt.h:41</div></div>
<div class="ttc" id="fdt_8c_html_a6603ac8041afcc7fde5c0b25de765103"><div class="ttname"><a href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a></div><div class="ttdeci">int fdt_next_node(const void *fdt, int offset, int *depth)</div><div class="ttdef"><b>Definition:</b> fdt.c:247</div></div>
<div class="ttc" id="fdt__ro_8c_html_a0689bb9f27bdaaa355855425b4eb7149"><div class="ttname"><a href="fdt__ro_8c.html#a0689bb9f27bdaaa355855425b4eb7149">fdt_get_phandle</a></div><div class="ttdeci">uint32_t fdt_get_phandle(const void *fdt, int nodeoffset)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:508</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a99d317b082102ce9a3eea47e86ab5757"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_node_offset_by_prop_value </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>startoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>propname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>propval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>proplen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_node_offset_by_prop_value - find nodes with a given property value : pointer to the device tree blob : only find nodes after this offset : property name to check : property value to search for : length of the value in propval</p>
<p><a class="el" href="fdt__ro_8c.html#a99d317b082102ce9a3eea47e86ab5757">fdt_node_offset_by_prop_value()</a> returns the offset of the first node after startoffset, which has a property named propname whose value is of length proplen and has value equal to propval; or if startoffset is -1, the very first such node in the tree.</p>
<p>To iterate through all nodes matching the criterion, the following idiom can be used: offset = fdt_node_offset_by_prop_value(fdt, -1, propname, propval, proplen); while (offset != -FDT_ERR_NOTFOUND) { // other code here offset = fdt_node_offset_by_prop_value(fdt, offset, propname, propval, proplen); }</p>
<p>Note the -1 in the first call to the function, if 0 is used here instead, the function will never locate the root node, even if it matches the criterion.</p>
<p>returns: structure block offset of the located node (&gt;= 0, &gt;startoffset), on success -FDT_ERR_NOTFOUND, no node matching the criterion exists in the tree after startoffset -FDT_ERR_BADOFFSET, nodeoffset does not refer to a BEGIN_NODE tag -FDT_ERR_BADMAGIC, -FDT_ERR_BADVERSION, -FDT_ERR_BADSTATE, -FDT_ERR_BADSTRUCTURE, standard meanings </p>

<p>References <a class="el" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop()</a>, <a class="el" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node()</a>, <a class="el" href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a>, <a class="el" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a>, <a class="el" href="cstd_8c.html#ace6c4869ab3af01c6f27eac47773917a">memcmp()</a>, and <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>
<div class="fragment"><div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;{</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;    <span class="keywordtype">int</span> offset;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">void</span> *val;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    <span class="keywordtype">int</span> len;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <a class="code" href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a>(fdt);</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="comment">/* FIXME: The algorithm here is pretty horrible: we scan each</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;<span class="comment">     * property of a node in fdt_getprop(), then if that didn&#39;t</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;<span class="comment">     * find what we want, we scan over them again making our way</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;<span class="comment">     * to the next node.  Still it&#39;s the easiest to implement</span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">     * approach; performance can come later. */</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;    <span class="keywordflow">for</span> (offset = <a class="code" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a>(fdt, startoffset, <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;         offset &gt;= 0;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;         offset = <a class="code" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a>(fdt, offset, <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) {</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        val = <a class="code" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop</a>(fdt, offset, propname, &amp;len);</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        <span class="keywordflow">if</span> (val &amp;&amp; (len == proplen)</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;            &amp;&amp; (<a class="code" href="cstd_8c.html#ace6c4869ab3af01c6f27eac47773917a">memcmp</a>(val, propval, len) == 0))</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            <span class="keywordflow">return</span> offset;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    }</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">return</span> offset; <span class="comment">/* error from fdt_next_node() */</span></div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;}</div>
<div class="ttc" id="libfdt__internal_8h_html_ad6927f926180469d5c044ec5d3b2f84b"><div class="ttname"><a href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a></div><div class="ttdeci">#define FDT_RO_PROBE(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:14</div></div>
<div class="ttc" id="fdt_8c_html_a6603ac8041afcc7fde5c0b25de765103"><div class="ttname"><a href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a></div><div class="ttdeci">int fdt_next_node(const void *fdt, int offset, int *depth)</div><div class="ttdef"><b>Definition:</b> fdt.c:247</div></div>
<div class="ttc" id="fdt__ro_8c_html_a0a72997fe1eb5a57885bbb988256d08f"><div class="ttname"><a href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop</a></div><div class="ttdeci">const void * fdt_getprop(const void *fdt, int nodeoffset, const char *name, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:502</div></div>
<div class="ttc" id="cstd_8c_html_ace6c4869ab3af01c6f27eac47773917a"><div class="ttname"><a href="cstd_8c.html#ace6c4869ab3af01c6f27eac47773917a">memcmp</a></div><div class="ttdeci">int memcmp(const void *str1, const void *str2, size_t n)</div><div class="ttdoc">compare two buffers byte per byte </div><div class="ttdef"><b>Definition:</b> cstd.c:39</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2d417f67da75b1ebf2871428d952cf8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int fdt_nodename_eq_ </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="fdt__ro_8c.html#a22a72941a288c00c88c36164fdc793c0">fdt_get_name()</a>, <a class="el" href="cstd_8c.html#a7a1a96cef371f847b925fb1478e04080">memchr()</a>, and <a class="el" href="cstd_8c.html#ace6c4869ab3af01c6f27eac47773917a">memcmp()</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a92756de14074ac915bd5b1056453e04c">fdt_subnode_offset_namelen()</a>.</p>
<div class="fragment"><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;{</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <span class="keywordtype">int</span> olen;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *p = <a class="code" href="fdt__ro_8c.html#a22a72941a288c00c88c36164fdc793c0">fdt_get_name</a>(fdt, offset, &amp;olen);</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <span class="keywordflow">if</span> (!p || olen &lt; len)</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;        <span class="comment">/* short match */</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="cstd_8c.html#ace6c4869ab3af01c6f27eac47773917a">memcmp</a>(p, s, len) != 0)</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordflow">if</span> (p[len] == <span class="charliteral">&#39;\0&#39;</span>)</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="cstd_8c.html#a7a1a96cef371f847b925fb1478e04080">memchr</a>(s, <span class="charliteral">&#39;@&#39;</span>, len) &amp;&amp; (p[len] == <span class="charliteral">&#39;@&#39;</span>))</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;}</div>
<div class="ttc" id="fdt__ro_8c_html_a22a72941a288c00c88c36164fdc793c0"><div class="ttname"><a href="fdt__ro_8c.html#a22a72941a288c00c88c36164fdc793c0">fdt_get_name</a></div><div class="ttdeci">const char * fdt_get_name(const void *fdt, int nodeoffset, int *len)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:300</div></div>
<div class="ttc" id="cstd_8c_html_a7a1a96cef371f847b925fb1478e04080"><div class="ttname"><a href="cstd_8c.html#a7a1a96cef371f847b925fb1478e04080">memchr</a></div><div class="ttdeci">void * memchr(const void *src, int c, size_t n)</div><div class="ttdoc">search byte in buffer </div><div class="ttdef"><b>Definition:</b> cstd.c:69</div></div>
<div class="ttc" id="cstd_8c_html_ace6c4869ab3af01c6f27eac47773917a"><div class="ttname"><a href="cstd_8c.html#ace6c4869ab3af01c6f27eac47773917a">memcmp</a></div><div class="ttdeci">int memcmp(const void *str1, const void *str2, size_t n)</div><div class="ttdoc">compare two buffers byte per byte </div><div class="ttdef"><b>Definition:</b> cstd.c:39</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a79fa5b76564c75c9fb00fe8ca3ba3eee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_num_mem_rsv </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_num_mem_rsv - retrieve the number of memory reserve map entries : pointer to the device tree blob</p>
<p>Returns the number of entries in the device tree blob's memory reservation map. This does not include the terminating 0,0 entry or any other (0,0) entries reserved for expansion.</p>
<p>returns: the number of entries </p>

<p>References <a class="el" href="libfdt__internal_8h.html#af075236a40c956f7e24e7ba5235f35ce">fdt64_ld_()</a>, <a class="el" href="libfdt_8h.html#a2b814a0775d93b5da1442fc091e49958">FDT_ERR_TRUNCATED</a>, <a class="el" href="fdt__ro_8c.html#aa26d083555e092c1fc4f07a452502eb4">fdt_mem_rsv()</a>, <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, and <a class="el" href="structfdt__reserve__entry.html#ace12399f157bc46877fbcddec98da67e">fdt_reserve_entry::size</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a3c35dbaf4263ec1947046c1259f14cbb">fdt_add_mem_rsv()</a>, <a class="el" href="libfdt_8h.html#a9dc21cc097687bcc05c5f536d2313a10">fdt_check_full()</a>, <a class="el" href="libfdt_8h.html#a409d3f83af0304a896b32d8552c8669d">fdt_del_mem_rsv()</a>, <a class="el" href="libfdt_8h.html#aa493ca8c4e02dbfdc415e74115c794bb">fdt_open_into()</a>, and <a class="el" href="libfdt_8h.html#a994a93e82b34bfdaeeb8288551e6fa98">fdt_pack()</a>.</p>
<div class="fragment"><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;{</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordtype">int</span> i;</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keyword">const</span> <span class="keyword">struct </span><a class="code" href="structfdt__reserve__entry.html">fdt_reserve_entry</a> *re;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    <span class="keywordflow">for</span> (i = 0; (re = <a class="code" href="fdt__ro_8c.html#aa26d083555e092c1fc4f07a452502eb4">fdt_mem_rsv</a>(fdt, i)) != <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>; i++) {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="libfdt__internal_8h.html#af075236a40c956f7e24e7ba5235f35ce">fdt64_ld_</a>(&amp;re-&gt;<a class="code" href="structfdt__reserve__entry.html#ace12399f157bc46877fbcddec98da67e">size</a>) == 0)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            <span class="keywordflow">return</span> i;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a2b814a0775d93b5da1442fc091e49958">FDT_ERR_TRUNCATED</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;}</div>
<div class="ttc" id="libfdt_8h_html_a2b814a0775d93b5da1442fc091e49958"><div class="ttname"><a href="libfdt_8h.html#a2b814a0775d93b5da1442fc091e49958">FDT_ERR_TRUNCATED</a></div><div class="ttdeci">#define FDT_ERR_TRUNCATED</div><div class="ttdef"><b>Definition:</b> libfdt.h:52</div></div>
<div class="ttc" id="structfdt__reserve__entry_html"><div class="ttname"><a href="structfdt__reserve__entry.html">fdt_reserve_entry</a></div><div class="ttdef"><b>Definition:</b> fdt.h:31</div></div>
<div class="ttc" id="libfdt__internal_8h_html_af075236a40c956f7e24e7ba5235f35ce"><div class="ttname"><a href="libfdt__internal_8h.html#af075236a40c956f7e24e7ba5235f35ce">fdt64_ld_</a></div><div class="ttdeci">static uint64_t fdt64_ld_(const fdt64_t *p)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:63</div></div>
<div class="ttc" id="fdt__ro_8c_html_aa26d083555e092c1fc4f07a452502eb4"><div class="ttname"><a href="fdt__ro_8c.html#aa26d083555e092c1fc4f07a452502eb4">fdt_mem_rsv</a></div><div class="ttdeci">static struct fdt_reserve_entry * fdt_mem_rsv(const void *fdt, int n)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:160</div></div>
<div class="ttc" id="structfdt__reserve__entry_html_ace12399f157bc46877fbcddec98da67e"><div class="ttname"><a href="structfdt__reserve__entry.html#ace12399f157bc46877fbcddec98da67e">fdt_reserve_entry::size</a></div><div class="ttdeci">fdt64_t size</div><div class="ttdef"><b>Definition:</b> fdt.h:33</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2b518dbd88cb783a9bffa1680ab297f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_parent_offset </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_parent_offset - find the parent of a given node : pointer to the device tree blob : offset of the node whose parent to find</p>
<p><a class="el" href="fdt__ro_8c.html#a2b518dbd88cb783a9bffa1680ab297f9">fdt_parent_offset()</a> locates the parent node of a given node (that is, it finds the offset of the node which contains the node at nodeoffset as a subnode).</p>
<p>NOTE: This function is expensive, as it must scan the device tree structure from the start to nodeoffset, <em>twice</em>.</p>
<p>returns: structure block offset of the parent of the node at nodeoffset (&gt;=0), on success -FDT_ERR_BADOFFSET, nodeoffset does not refer to a BEGIN_NODE tag -FDT_ERR_BADMAGIC, -FDT_ERR_BADVERSION, -FDT_ERR_BADSTATE, -FDT_ERR_BADSTRUCTURE, standard meanings </p>

<p>References <a class="el" href="fdt__ro_8c.html#a2c0d12a5988128f0b674d4ec24b709d8">fdt_node_depth()</a>, <a class="el" href="fdt__ro_8c.html#a6c960d975c6644172ccc71fc2c48dbb4">fdt_supernode_atdepth_offset()</a>, and <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

<p>Referenced by <a class="el" href="fdt__overlay_8c.html#ac3e9264fbe6e8ef97f2378ead11a2fd0">get_path_len()</a>.</p>
<div class="fragment"><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;{</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordtype">int</span> nodedepth = <a class="code" href="fdt__ro_8c.html#a2c0d12a5988128f0b674d4ec24b709d8">fdt_node_depth</a>(fdt, nodeoffset);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <span class="keywordflow">if</span> (nodedepth &lt; 0)</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordflow">return</span> nodedepth;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fdt__ro_8c.html#a6c960d975c6644172ccc71fc2c48dbb4">fdt_supernode_atdepth_offset</a>(fdt, nodeoffset,</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                        nodedepth - 1, <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;}</div>
<div class="ttc" id="fdt__ro_8c_html_a6c960d975c6644172ccc71fc2c48dbb4"><div class="ttname"><a href="fdt__ro_8c.html#a6c960d975c6644172ccc71fc2c48dbb4">fdt_supernode_atdepth_offset</a></div><div class="ttdeci">int fdt_supernode_atdepth_offset(const void *fdt, int nodeoffset, int supernodedepth, int *nodedepth)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:611</div></div>
<div class="ttc" id="fdt__ro_8c_html_a2c0d12a5988128f0b674d4ec24b709d8"><div class="ttname"><a href="fdt__ro_8c.html#a2c0d12a5988128f0b674d4ec24b709d8">fdt_node_depth</a></div><div class="ttdeci">int fdt_node_depth(const void *fdt, int nodeoffset)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:649</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4f970773c1f5023ddb012f1f5d799c5e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static const void* fdt_path_getprop_namelen </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>propname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>propnamelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lenp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="fdt__ro_8c.html#af06aa67642c5e97ec636619a4ac3f19a">fdt_getprop_namelen()</a>, <a class="el" href="fdt__ro_8c.html#a222c01ef0a514a4cf7586f6de8b17072">fdt_path_offset()</a>, and <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a1446c9a325c1348d88007632675f2641">fdt_get_alias_namelen()</a>, and <a class="el" href="libfdt_8h.html#ab6e268a7c7fef650ee0c08f7010ae914">fdt_get_symbol_namelen()</a>.</p>
<div class="fragment"><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;{</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordtype">int</span> offset = <a class="code" href="fdt__ro_8c.html#a222c01ef0a514a4cf7586f6de8b17072">fdt_path_offset</a>(fdt, path);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;    <span class="keywordflow">if</span> (offset &lt; 0)</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fdt__ro_8c.html#af06aa67642c5e97ec636619a4ac3f19a">fdt_getprop_namelen</a>(fdt, offset, propname, propnamelen, lenp);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;}</div>
<div class="ttc" id="fdt__ro_8c_html_af06aa67642c5e97ec636619a4ac3f19a"><div class="ttname"><a href="fdt__ro_8c.html#af06aa67642c5e97ec636619a4ac3f19a">fdt_getprop_namelen</a></div><div class="ttdeci">const void * fdt_getprop_namelen(const void *fdt, int nodeoffset, const char *name, int namelen, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:451</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
<div class="ttc" id="fdt__ro_8c_html_a222c01ef0a514a4cf7586f6de8b17072"><div class="ttname"><a href="fdt__ro_8c.html#a222c01ef0a514a4cf7586f6de8b17072">fdt_path_offset</a></div><div class="ttdeci">int fdt_path_offset(const void *fdt, const char *path)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:295</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a222c01ef0a514a4cf7586f6de8b17072"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_path_offset </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_path_offset - find a tree node by its full path : pointer to the device tree blob : full path of the node to locate</p>
<p><a class="el" href="fdt__ro_8c.html#a222c01ef0a514a4cf7586f6de8b17072">fdt_path_offset()</a> finds a node of a given path in the device tree. Each path component may omit the unit address portion, but the results of this are undefined if any such path component is ambiguous (that is if there are multiple nodes at the relevant level matching the given component, differentiated only by unit address).</p>
<p>If the path is not absolute (i.e. does not begin with '/'), the first component is treated as an alias. That is, the property by that name is looked up in the /aliases node, and the value of that property used in place of that first component.</p>
<p>For example, for this small fragment</p>
<p>/ { aliases { i2c2 =  // RHS compiles to "/soc@0/i2c@30a40000/eeprom@52" }; soc@0 { foo: i2c@30a40000 { bar: eeprom@52 { }; }; }; };</p>
<p>these would be equivalent:</p>
<p>/soc@0/i2c@30a40000/eeprom@52 i2c2/eeprom@52</p>
<p>returns: structure block offset of the node with the requested path (&gt;=0), on success -FDT_ERR_BADPATH, given path does not begin with '/' and the first component is not a valid alias -FDT_ERR_NOTFOUND, if the requested node does not exist -FDT_ERR_BADMAGIC, -FDT_ERR_BADVERSION, -FDT_ERR_BADSTATE, -FDT_ERR_BADSTRUCTURE, -FDT_ERR_TRUNCATED, standard meanings. </p>

<p>References <a class="el" href="fdt__ro_8c.html#aa8b4d143366fc7d443f47c1c92a8f8cc">fdt_path_offset_namelen()</a>, and <a class="el" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen()</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#aa155e9207e65bc6c432c40e301485af5">fdt_overlay_target_offset()</a>, <a class="el" href="fdt__ro_8c.html#a4f970773c1f5023ddb012f1f5d799c5e">fdt_path_getprop_namelen()</a>, <a class="el" href="libfdt_8h.html#aa8b4d143366fc7d443f47c1c92a8f8cc">fdt_path_offset_namelen()</a>, <a class="el" href="fdt__overlay_8c.html#ac2699eeb863f2070d20b509d0b2948f4">overlay_fixup_one_phandle()</a>, <a class="el" href="fdt__overlay_8c.html#a5cf73a63ad60707f4c93c7de7de81357">overlay_fixup_phandles()</a>, and <a class="el" href="fdt__overlay_8c.html#a1c4ea38de65ffacb7708dd7641914a34">overlay_update_local_references()</a>.</p>
<div class="fragment"><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;{</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fdt__ro_8c.html#aa8b4d143366fc7d443f47c1c92a8f8cc">fdt_path_offset_namelen</a>(fdt, path, <a class="code" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a>(path));</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;}</div>
<div class="ttc" id="cstd_8c_html_a54684bded3e61e2d78d490650f9b706a"><div class="ttname"><a href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a></div><div class="ttdeci">int strlen(const char *buf)</div><div class="ttdoc">calculates the length of the string s, excluding the terminating null byte </div><div class="ttdef"><b>Definition:</b> cstd.c:82</div></div>
<div class="ttc" id="fdt__ro_8c_html_aa8b4d143366fc7d443f47c1c92a8f8cc"><div class="ttname"><a href="fdt__ro_8c.html#aa8b4d143366fc7d443f47c1c92a8f8cc">fdt_path_offset_namelen</a></div><div class="ttdeci">int fdt_path_offset_namelen(const void *fdt, const char *path, int namelen)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:250</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa8b4d143366fc7d443f47c1c92a8f8cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_path_offset_namelen </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>namelen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_path_offset_namelen - find a tree node by its full path : pointer to the device tree blob : full path of the node to locate : number of characters of path to consider</p>
<p>Identical to <a class="el" href="fdt__ro_8c.html#a222c01ef0a514a4cf7586f6de8b17072">fdt_path_offset()</a>, but only consider the first namelen characters of path as the path name.</p>
<p>Return: offset of the node or negative libfdt error value otherwise </p>

<p>References <a class="el" href="libfdt_8h.html#a2b7c103b35891f65523585a43b92a748">FDT_ERR_BADPATH</a>, <a class="el" href="fdt__ro_8c.html#a1446c9a325c1348d88007632675f2641">fdt_get_alias_namelen()</a>, <a class="el" href="fdt__ro_8c.html#a222c01ef0a514a4cf7586f6de8b17072">fdt_path_offset()</a>, <a class="el" href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a>, <a class="el" href="fdt__ro_8c.html#a515ddadab660b50e9d31c05c74f7d351">fdt_subnode_offset_namelen()</a>, and <a class="el" href="cstd_8c.html#a7a1a96cef371f847b925fb1478e04080">memchr()</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a222c01ef0a514a4cf7586f6de8b17072">fdt_path_offset()</a>, and <a class="el" href="fdt__overlay_8c.html#ac2699eeb863f2070d20b509d0b2948f4">overlay_fixup_one_phandle()</a>.</p>
<div class="fragment"><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;{</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *end = path + namelen;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *p = path;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <span class="keywordtype">int</span> offset = 0;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    <a class="code" href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a>(fdt);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">/* see if we have an alias */</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">if</span> (*path != <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *q = <a class="code" href="cstd_8c.html#a7a1a96cef371f847b925fb1478e04080">memchr</a>(path, <span class="charliteral">&#39;/&#39;</span>, end - p);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">if</span> (!q)</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;            q = end;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;        p = <a class="code" href="fdt__ro_8c.html#a1446c9a325c1348d88007632675f2641">fdt_get_alias_namelen</a>(fdt, p, q - p);</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;        <span class="keywordflow">if</span> (!p)</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;            <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a2b7c103b35891f65523585a43b92a748">FDT_ERR_BADPATH</a>;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        offset = <a class="code" href="fdt__ro_8c.html#a222c01ef0a514a4cf7586f6de8b17072">fdt_path_offset</a>(fdt, p);</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        p = q;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">while</span> (p &lt; end) {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span> *q;</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <span class="keywordflow">while</span> (*p == <span class="charliteral">&#39;/&#39;</span>) {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            p++;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="keywordflow">if</span> (p == end)</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;                <span class="keywordflow">return</span> offset;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        }</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        q = <a class="code" href="cstd_8c.html#a7a1a96cef371f847b925fb1478e04080">memchr</a>(p, <span class="charliteral">&#39;/&#39;</span>, end - p);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        <span class="keywordflow">if</span> (! q)</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;            q = end;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        offset = <a class="code" href="fdt__ro_8c.html#a515ddadab660b50e9d31c05c74f7d351">fdt_subnode_offset_namelen</a>(fdt, offset, p, q-p);</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordflow">if</span> (offset &lt; 0)</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="keywordflow">return</span> offset;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        p = q;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    }</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keywordflow">return</span> offset;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
<div class="ttc" id="libfdt__internal_8h_html_ad6927f926180469d5c044ec5d3b2f84b"><div class="ttname"><a href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a></div><div class="ttdeci">#define FDT_RO_PROBE(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:14</div></div>
<div class="ttc" id="cstd_8c_html_a7a1a96cef371f847b925fb1478e04080"><div class="ttname"><a href="cstd_8c.html#a7a1a96cef371f847b925fb1478e04080">memchr</a></div><div class="ttdeci">void * memchr(const void *src, int c, size_t n)</div><div class="ttdoc">search byte in buffer </div><div class="ttdef"><b>Definition:</b> cstd.c:69</div></div>
<div class="ttc" id="fdt__ro_8c_html_a1446c9a325c1348d88007632675f2641"><div class="ttname"><a href="fdt__ro_8c.html#a1446c9a325c1348d88007632675f2641">fdt_get_alias_namelen</a></div><div class="ttdeci">const char * fdt_get_alias_namelen(const void *fdt, const char *name, int namelen)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:537</div></div>
<div class="ttc" id="fdt__ro_8c_html_a515ddadab660b50e9d31c05c74f7d351"><div class="ttname"><a href="fdt__ro_8c.html#a515ddadab660b50e9d31c05c74f7d351">fdt_subnode_offset_namelen</a></div><div class="ttdeci">int fdt_subnode_offset_namelen(const void *fdt, int offset, const char *name, int namelen)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:225</div></div>
<div class="ttc" id="fdt__ro_8c_html_a222c01ef0a514a4cf7586f6de8b17072"><div class="ttname"><a href="fdt__ro_8c.html#a222c01ef0a514a4cf7586f6de8b17072">fdt_path_offset</a></div><div class="ttdeci">int fdt_path_offset(const void *fdt, const char *path)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:295</div></div>
<div class="ttc" id="libfdt_8h_html_a2b7c103b35891f65523585a43b92a748"><div class="ttname"><a href="libfdt_8h.html#a2b7c103b35891f65523585a43b92a748">FDT_ERR_BADPATH</a></div><div class="ttdeci">#define FDT_ERR_BADPATH</div><div class="ttdef"><b>Definition:</b> libfdt.h:37</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a5ccdba67e9d56872ef16dcbd405da94a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* fdt_string </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stroffset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_string - retrieve a string from the strings block of a device tree : pointer to the device tree blob : offset of the string within the strings block (native endian)</p>
<p><a class="el" href="fdt__ro_8c.html#a5ccdba67e9d56872ef16dcbd405da94a">fdt_string()</a> retrieves a pointer to a single string from the strings block of the device tree blob at fdt.</p>
<p>returns: a pointer to the string, on success NULL, if stroffset is out of bounds, or doesn't point to a valid string </p>

<p>References <a class="el" href="fdt__ro_8c.html#a394c6c241f569f12b5b1f350dfb745ea">fdt_get_string()</a>, and <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a631207472dcddda9470f5791260da0fd">fdt_getprop_by_offset()</a>.</p>
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;{</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fdt__ro_8c.html#a394c6c241f569f12b5b1f350dfb745ea">fdt_get_string</a>(fdt, stroffset, <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div>
<div class="ttc" id="fdt__ro_8c_html_a394c6c241f569f12b5b1f350dfb745ea"><div class="ttname"><a href="fdt__ro_8c.html#a394c6c241f569f12b5b1f350dfb745ea">fdt_get_string</a></div><div class="ttdeci">const char * fdt_get_string(const void *fdt, int stroffset, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:34</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4bbeefd40ad440c5e41c60cc431fae7a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int fdt_string_eq_ </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stroffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="fdt__ro_8c.html#a394c6c241f569f12b5b1f350dfb745ea">fdt_get_string()</a>, and <a class="el" href="cstd_8c.html#ace6c4869ab3af01c6f27eac47773917a">memcmp()</a>.</p>

<p>Referenced by <a class="el" href="fdt__ro_8c.html#a3fbd5b94defd29f9e25d8433a03529e9">fdt_get_property_namelen_()</a>.</p>
<div class="fragment"><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordtype">int</span> slen;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *p = <a class="code" href="fdt__ro_8c.html#a394c6c241f569f12b5b1f350dfb745ea">fdt_get_string</a>(fdt, stroffset, &amp;slen);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">return</span> p &amp;&amp; (slen == len) &amp;&amp; (<a class="code" href="cstd_8c.html#ace6c4869ab3af01c6f27eac47773917a">memcmp</a>(p, s, len) == 0);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
<div class="ttc" id="cstd_8c_html_ace6c4869ab3af01c6f27eac47773917a"><div class="ttname"><a href="cstd_8c.html#ace6c4869ab3af01c6f27eac47773917a">memcmp</a></div><div class="ttdeci">int memcmp(const void *str1, const void *str2, size_t n)</div><div class="ttdoc">compare two buffers byte per byte </div><div class="ttdef"><b>Definition:</b> cstd.c:39</div></div>
<div class="ttc" id="fdt__ro_8c_html_a394c6c241f569f12b5b1f350dfb745ea"><div class="ttname"><a href="fdt__ro_8c.html#a394c6c241f569f12b5b1f350dfb745ea">fdt_get_string</a></div><div class="ttdeci">const char * fdt_get_string(const void *fdt, int stroffset, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:34</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2492648af0491398295fac892cb8b758"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_stringlist_contains </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>strlist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>listlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>str</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_stringlist_contains - check a string list property for a string : Property containing a list of strings to check : Length of property : String to search for</p>
<p>This is a utility function provided for convenience. The list contains one or more strings, each terminated by \0, as is found in a device tree "compatible" property.</p>
<p>Return: 1 if the string is found in the list, 0 not found, or invalid list </p>

<p>References <a class="el" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a>, <a class="el" href="cstd_8c.html#a7a1a96cef371f847b925fb1478e04080">memchr()</a>, <a class="el" href="cstd_8c.html#ace6c4869ab3af01c6f27eac47773917a">memcmp()</a>, and <a class="el" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen()</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#ade07583ac432de46013acb3a07eca7be">fdt_node_check_compatible()</a>.</p>
<div class="fragment"><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;{</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordtype">int</span> len = <a class="code" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a>(str);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *p;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;    <span class="keywordflow">while</span> (listlen &gt;= len) {</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="cstd_8c.html#ace6c4869ab3af01c6f27eac47773917a">memcmp</a>(str, strlist, len+1) == 0)</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;            <span class="keywordflow">return</span> 1;</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        p = <a class="code" href="cstd_8c.html#a7a1a96cef371f847b925fb1478e04080">memchr</a>(strlist, <span class="charliteral">&#39;\0&#39;</span>, listlen);</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keywordflow">if</span> (!p)</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;            <span class="keywordflow">return</span> 0; <span class="comment">/* malformed strlist.. */</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        listlen -= (p-strlist) + 1;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        strlist = p + 1;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;}</div>
<div class="ttc" id="cstd_8c_html_a7a1a96cef371f847b925fb1478e04080"><div class="ttname"><a href="cstd_8c.html#a7a1a96cef371f847b925fb1478e04080">memchr</a></div><div class="ttdeci">void * memchr(const void *src, int c, size_t n)</div><div class="ttdoc">search byte in buffer </div><div class="ttdef"><b>Definition:</b> cstd.c:69</div></div>
<div class="ttc" id="cstd_8c_html_a54684bded3e61e2d78d490650f9b706a"><div class="ttname"><a href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a></div><div class="ttdeci">int strlen(const char *buf)</div><div class="ttdoc">calculates the length of the string s, excluding the terminating null byte </div><div class="ttdef"><b>Definition:</b> cstd.c:82</div></div>
<div class="ttc" id="cstd_8c_html_ace6c4869ab3af01c6f27eac47773917a"><div class="ttname"><a href="cstd_8c.html#ace6c4869ab3af01c6f27eac47773917a">memcmp</a></div><div class="ttdeci">int memcmp(const void *str1, const void *str2, size_t n)</div><div class="ttdoc">compare two buffers byte per byte </div><div class="ttdef"><b>Definition:</b> cstd.c:39</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9d33c2ffed049f4f1c60ffef7b66fba4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_stringlist_count </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>property</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="libfdt_8h.html#a69e818556330b83a02de930b95216aa9">FDT_ERR_BADVALUE</a>, <a class="el" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop()</a>, and <a class="el" href="cstd_8c.html#a7bd978e4981a80586c5b3a0dac22f0f2">strnlen()</a>.</p>
<div class="fragment"><div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;{</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *list, *end;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordtype">int</span> length, count = 0;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    list = <a class="code" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop</a>(fdt, nodeoffset, property, &amp;length);</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">if</span> (!list)</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;        <span class="keywordflow">return</span> length;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    end = list + length;</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">while</span> (list &lt; end) {</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;        length = <a class="code" href="cstd_8c.html#a7bd978e4981a80586c5b3a0dac22f0f2">strnlen</a>(list, end - list) + 1;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        <span class="comment">/* Abort if the last string isn&#39;t properly NUL-terminated. */</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        <span class="keywordflow">if</span> (list + length &gt; end)</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a69e818556330b83a02de930b95216aa9">FDT_ERR_BADVALUE</a>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;        list += length;</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        count++;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    }</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordflow">return</span> count;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;}</div>
<div class="ttc" id="libfdt_8h_html_a69e818556330b83a02de930b95216aa9"><div class="ttname"><a href="libfdt_8h.html#a69e818556330b83a02de930b95216aa9">FDT_ERR_BADVALUE</a></div><div class="ttdeci">#define FDT_ERR_BADVALUE</div><div class="ttdef"><b>Definition:</b> libfdt.h:87</div></div>
<div class="ttc" id="fdt__ro_8c_html_a0a72997fe1eb5a57885bbb988256d08f"><div class="ttname"><a href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop</a></div><div class="ttdeci">const void * fdt_getprop(const void *fdt, int nodeoffset, const char *name, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:502</div></div>
<div class="ttc" id="cstd_8c_html_a7bd978e4981a80586c5b3a0dac22f0f2"><div class="ttname"><a href="cstd_8c.html#a7bd978e4981a80586c5b3a0dac22f0f2">strnlen</a></div><div class="ttdeci">size_t strnlen(const char *s, size_t n)</div><div class="ttdoc">calculates the length of the string s, excluding the terminating null byte, up to the value n ...</div><div class="ttdef"><b>Definition:</b> cstd.c:89</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aff9e731b810e8052140509d0c4ee19b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* fdt_stringlist_get </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>property</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>lenp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="libfdt_8h.html#a69e818556330b83a02de930b95216aa9">FDT_ERR_BADVALUE</a>, <a class="el" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>, <a class="el" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop()</a>, <a class="el" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, and <a class="el" href="cstd_8c.html#a7bd978e4981a80586c5b3a0dac22f0f2">strnlen()</a>.</p>
<div class="fragment"><div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;{</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *list, *end;</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="keywordtype">int</span> length;</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    list = <a class="code" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop</a>(fdt, nodeoffset, property, &amp;length);</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="keywordflow">if</span> (!list) {</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <span class="keywordflow">if</span> (lenp)</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;            *lenp = length;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    }</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    end = list + length;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;    <span class="keywordflow">while</span> (list &lt; end) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        length = <a class="code" href="cstd_8c.html#a7bd978e4981a80586c5b3a0dac22f0f2">strnlen</a>(list, end - list) + 1;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <span class="comment">/* Abort if the last string isn&#39;t properly NUL-terminated. */</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <span class="keywordflow">if</span> (list + length &gt; end) {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;            <span class="keywordflow">if</span> (lenp)</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                *lenp = -<a class="code" href="libfdt_8h.html#a69e818556330b83a02de930b95216aa9">FDT_ERR_BADVALUE</a>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        }</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <span class="keywordflow">if</span> (idx == 0) {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;            <span class="keywordflow">if</span> (lenp)</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                *lenp = length - 1;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;            <span class="keywordflow">return</span> list;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        }</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;        list += length;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;        idx--;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    }</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">if</span> (lenp)</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        *lenp = -<a class="code" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;}</div>
<div class="ttc" id="libfdt_8h_html_a69e818556330b83a02de930b95216aa9"><div class="ttname"><a href="libfdt_8h.html#a69e818556330b83a02de930b95216aa9">FDT_ERR_BADVALUE</a></div><div class="ttdeci">#define FDT_ERR_BADVALUE</div><div class="ttdef"><b>Definition:</b> libfdt.h:87</div></div>
<div class="ttc" id="fdt__ro_8c_html_a0a72997fe1eb5a57885bbb988256d08f"><div class="ttname"><a href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop</a></div><div class="ttdeci">const void * fdt_getprop(const void *fdt, int nodeoffset, const char *name, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:502</div></div>
<div class="ttc" id="libfdt_8h_html_a93cfa052f4b28df4bfc7d336b692fa07"><div class="ttname"><a href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a></div><div class="ttdeci">#define FDT_ERR_NOTFOUND</div><div class="ttdef"><b>Definition:</b> libfdt.h:21</div></div>
<div class="ttc" id="kfs_8c_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="kfs_8c.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> kfs.c:24</div></div>
<div class="ttc" id="cstd_8c_html_a7bd978e4981a80586c5b3a0dac22f0f2"><div class="ttname"><a href="cstd_8c.html#a7bd978e4981a80586c5b3a0dac22f0f2">strnlen</a></div><div class="ttdeci">size_t strnlen(const char *s, size_t n)</div><div class="ttdoc">calculates the length of the string s, excluding the terminating null byte, up to the value n ...</div><div class="ttdef"><b>Definition:</b> cstd.c:89</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a13feaf7df3d4cc7d7927d78af31dba3e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_stringlist_search </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>property</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="libfdt_8h.html#a69e818556330b83a02de930b95216aa9">FDT_ERR_BADVALUE</a>, <a class="el" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>, <a class="el" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop()</a>, <a class="el" href="structfdt__property.html#a48e6236319453578c3ca7c106b382a2f">fdt_property::len</a>, <a class="el" href="cstd_8c.html#ace6c4869ab3af01c6f27eac47773917a">memcmp()</a>, <a class="el" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen()</a>, and <a class="el" href="cstd_8c.html#a7bd978e4981a80586c5b3a0dac22f0f2">strnlen()</a>.</p>
<div class="fragment"><div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;{</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="keywordtype">int</span> length, len, idx = 0;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *list, *end;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    list = <a class="code" href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop</a>(fdt, nodeoffset, property, &amp;length);</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="keywordflow">if</span> (!list)</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <span class="keywordflow">return</span> length;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    len = <a class="code" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a>(<span class="keywordtype">string</span>) + 1;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    end = list + length;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    <span class="keywordflow">while</span> (list &lt; end) {</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        length = <a class="code" href="cstd_8c.html#a7bd978e4981a80586c5b3a0dac22f0f2">strnlen</a>(list, end - list) + 1;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;        <span class="comment">/* Abort if the last string isn&#39;t properly NUL-terminated. */</span></div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;        <span class="keywordflow">if</span> (list + length &gt; end)</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;            <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a69e818556330b83a02de930b95216aa9">FDT_ERR_BADVALUE</a>;</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;        <span class="keywordflow">if</span> (length == len &amp;&amp; <a class="code" href="cstd_8c.html#ace6c4869ab3af01c6f27eac47773917a">memcmp</a>(list, <span class="keywordtype">string</span>, length) == 0)</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <span class="keywordflow">return</span> idx;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        list += length;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        idx++;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    }</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;}</div>
<div class="ttc" id="cstd_8c_html_a54684bded3e61e2d78d490650f9b706a"><div class="ttname"><a href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a></div><div class="ttdeci">int strlen(const char *buf)</div><div class="ttdoc">calculates the length of the string s, excluding the terminating null byte </div><div class="ttdef"><b>Definition:</b> cstd.c:82</div></div>
<div class="ttc" id="libfdt_8h_html_a69e818556330b83a02de930b95216aa9"><div class="ttname"><a href="libfdt_8h.html#a69e818556330b83a02de930b95216aa9">FDT_ERR_BADVALUE</a></div><div class="ttdeci">#define FDT_ERR_BADVALUE</div><div class="ttdef"><b>Definition:</b> libfdt.h:87</div></div>
<div class="ttc" id="fdt__ro_8c_html_a0a72997fe1eb5a57885bbb988256d08f"><div class="ttname"><a href="fdt__ro_8c.html#a0a72997fe1eb5a57885bbb988256d08f">fdt_getprop</a></div><div class="ttdeci">const void * fdt_getprop(const void *fdt, int nodeoffset, const char *name, int *lenp)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:502</div></div>
<div class="ttc" id="cstd_8c_html_ace6c4869ab3af01c6f27eac47773917a"><div class="ttname"><a href="cstd_8c.html#ace6c4869ab3af01c6f27eac47773917a">memcmp</a></div><div class="ttdeci">int memcmp(const void *str1, const void *str2, size_t n)</div><div class="ttdoc">compare two buffers byte per byte </div><div class="ttdef"><b>Definition:</b> cstd.c:39</div></div>
<div class="ttc" id="libfdt_8h_html_a93cfa052f4b28df4bfc7d336b692fa07"><div class="ttname"><a href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a></div><div class="ttdeci">#define FDT_ERR_NOTFOUND</div><div class="ttdef"><b>Definition:</b> libfdt.h:21</div></div>
<div class="ttc" id="cstd_8c_html_a7bd978e4981a80586c5b3a0dac22f0f2"><div class="ttname"><a href="cstd_8c.html#a7bd978e4981a80586c5b3a0dac22f0f2">strnlen</a></div><div class="ttdeci">size_t strnlen(const char *s, size_t n)</div><div class="ttdoc">calculates the length of the string s, excluding the terminating null byte, up to the value n ...</div><div class="ttdef"><b>Definition:</b> cstd.c:89</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a22dd90f8bea25063fe0debae7683eb02"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_subnode_offset </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>parentoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="fdt__ro_8c.html#a515ddadab660b50e9d31c05c74f7d351">fdt_subnode_offset_namelen()</a>, and <a class="el" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen()</a>.</p>

<p>Referenced by <a class="el" href="fdt__overlay_8c.html#a8cb95c9322e1e68282eda3e7fc90a314">overlay_apply_node()</a>, <a class="el" href="fdt__overlay_8c.html#a36a905f6566751e42d0a0111b2d78a67">overlay_merge()</a>, <a class="el" href="fdt__overlay_8c.html#add76bc4fa1b36b1c11bfd9a2cf779ac1">overlay_symbol_update()</a>, and <a class="el" href="fdt__overlay_8c.html#a385dd43636a52dc96596827f51511419">overlay_update_local_node_references()</a>.</p>
<div class="fragment"><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;{</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="fdt__ro_8c.html#a515ddadab660b50e9d31c05c74f7d351">fdt_subnode_offset_namelen</a>(fdt, parentoffset, name, <a class="code" href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a>(name));</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;}</div>
<div class="ttc" id="cstd_8c_html_a54684bded3e61e2d78d490650f9b706a"><div class="ttname"><a href="cstd_8c.html#a54684bded3e61e2d78d490650f9b706a">strlen</a></div><div class="ttdeci">int strlen(const char *buf)</div><div class="ttdoc">calculates the length of the string s, excluding the terminating null byte </div><div class="ttdef"><b>Definition:</b> cstd.c:82</div></div>
<div class="ttc" id="fdt__ro_8c_html_a515ddadab660b50e9d31c05c74f7d351"><div class="ttname"><a href="fdt__ro_8c.html#a515ddadab660b50e9d31c05c74f7d351">fdt_subnode_offset_namelen</a></div><div class="ttdeci">int fdt_subnode_offset_namelen(const void *fdt, int offset, const char *name, int namelen)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:225</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a515ddadab660b50e9d31c05c74f7d351"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_subnode_offset_namelen </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>namelen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>References <a class="el" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>, <a class="el" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node()</a>, <a class="el" href="fdt__ro_8c.html#a2d417f67da75b1ebf2871428d952cf8f">fdt_nodename_eq_()</a>, and <a class="el" href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a9ec78ea0fd08982a50310216ff295747">fdt_add_subnode_namelen()</a>, <a class="el" href="libfdt_8h.html#aa8b4d143366fc7d443f47c1c92a8f8cc">fdt_path_offset_namelen()</a>, <a class="el" href="libfdt_8h.html#a22dd90f8bea25063fe0debae7683eb02">fdt_subnode_offset()</a>, and <a class="el" href="fdt__overlay_8c.html#add76bc4fa1b36b1c11bfd9a2cf779ac1">overlay_symbol_update()</a>.</p>
<div class="fragment"><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;{</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="keywordtype">int</span> depth;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a>(fdt);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordflow">for</span> (depth = 0;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;         (offset &gt;= 0) &amp;&amp; (depth &gt;= 0);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;         offset = <a class="code" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a>(fdt, offset, &amp;depth))</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <span class="keywordflow">if</span> ((depth == 1)</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            &amp;&amp; <a class="code" href="fdt__ro_8c.html#a2d417f67da75b1ebf2871428d952cf8f">fdt_nodename_eq_</a>(fdt, offset, name, namelen))</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;            <span class="keywordflow">return</span> offset;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="keywordflow">if</span> (depth &lt; 0)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="keywordflow">return</span> offset; <span class="comment">/* error */</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;}</div>
<div class="ttc" id="libfdt__internal_8h_html_ad6927f926180469d5c044ec5d3b2f84b"><div class="ttname"><a href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a></div><div class="ttdeci">#define FDT_RO_PROBE(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:14</div></div>
<div class="ttc" id="fdt_8c_html_a6603ac8041afcc7fde5c0b25de765103"><div class="ttname"><a href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a></div><div class="ttdeci">int fdt_next_node(const void *fdt, int offset, int *depth)</div><div class="ttdef"><b>Definition:</b> fdt.c:247</div></div>
<div class="ttc" id="fdt__ro_8c_html_a2d417f67da75b1ebf2871428d952cf8f"><div class="ttname"><a href="fdt__ro_8c.html#a2d417f67da75b1ebf2871428d952cf8f">fdt_nodename_eq_</a></div><div class="ttdeci">static int fdt_nodename_eq_(const void *fdt, int offset, const char *s, int len)</div><div class="ttdef"><b>Definition:</b> fdt_ro.c:13</div></div>
<div class="ttc" id="libfdt_8h_html_a93cfa052f4b28df4bfc7d336b692fa07"><div class="ttname"><a href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a></div><div class="ttdeci">#define FDT_ERR_NOTFOUND</div><div class="ttdef"><b>Definition:</b> libfdt.h:21</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6c960d975c6644172ccc71fc2c48dbb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fdt_supernode_atdepth_offset </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>nodeoffset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>supernodedepth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nodedepth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>fdt_supernode_atdepth_offset - find a specific ancestor of a node : pointer to the device tree blob : offset of the node whose parent to find : depth of the ancestor to find : pointer to an integer variable (will be overwritten) or NULL</p>
<p><a class="el" href="fdt__ro_8c.html#a6c960d975c6644172ccc71fc2c48dbb4">fdt_supernode_atdepth_offset()</a> finds an ancestor of the given node at a specific depth from the root (where the root itself has depth 0, its immediate subnodes depth 1 and so forth). So fdt_supernode_atdepth_offset(fdt, nodeoffset, 0, NULL); will always return 0, the offset of the root node. If the node at nodeoffset has depth D, then: fdt_supernode_atdepth_offset(fdt, nodeoffset, D, NULL); will return nodeoffset itself.</p>
<p>NOTE: This function is expensive, as it must scan the device tree structure from the start to nodeoffset.</p>
<p>returns: structure block offset of the node at node offset's ancestor of depth supernodedepth (&gt;=0), on success -FDT_ERR_BADOFFSET, nodeoffset does not refer to a BEGIN_NODE tag -FDT_ERR_NOTFOUND, supernodedepth was greater than the depth of nodeoffset -FDT_ERR_BADMAGIC, -FDT_ERR_BADVERSION, -FDT_ERR_BADSTATE, -FDT_ERR_BADSTRUCTURE, standard meanings </p>

<p>References <a class="el" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>, <a class="el" href="libfdt_8h.html#a5025b6b09a009bd2b516e6a831d7ce72">FDT_ERR_BADOFFSET</a>, <a class="el" href="libfdt_8h.html#aef7e5f2183c72ef2b4698bb918d8f2f7">FDT_ERR_BADSTRUCTURE</a>, <a class="el" href="libfdt_8h.html#a02625761a47e8012c53fb389dd25fadd">FDT_ERR_INTERNAL</a>, <a class="el" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>, <a class="el" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node()</a>, and <a class="el" href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#a2c0d12a5988128f0b674d4ec24b709d8">fdt_node_depth()</a>, and <a class="el" href="libfdt_8h.html#a2b518dbd88cb783a9bffa1680ab297f9">fdt_parent_offset()</a>.</p>
<div class="fragment"><div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;{</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="keywordtype">int</span> offset, depth;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="keywordtype">int</span> supernodeoffset = -<a class="code" href="libfdt_8h.html#a02625761a47e8012c53fb389dd25fadd">FDT_ERR_INTERNAL</a>;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <a class="code" href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a>(fdt);</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;    <span class="keywordflow">if</span> (supernodedepth &lt; 0)</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;        <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="keywordflow">for</span> (offset = 0, depth = 0;</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;         (offset &gt;= 0) &amp;&amp; (offset &lt;= nodeoffset);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;         offset = <a class="code" href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a>(fdt, offset, &amp;depth)) {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordflow">if</span> (depth == supernodedepth)</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;            supernodeoffset = offset;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keywordflow">if</span> (offset == nodeoffset) {</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            <span class="keywordflow">if</span> (nodedepth)</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;                *nodedepth = depth;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <span class="keywordflow">if</span> (supernodedepth &gt; depth)</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;                <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;                <span class="keywordflow">return</span> supernodeoffset;</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        }</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    }</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a>(VALID_INPUT)) {</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        <span class="keywordflow">if</span> ((offset == -<a class="code" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>) || (offset &gt;= 0))</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;            <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a5025b6b09a009bd2b516e6a831d7ce72">FDT_ERR_BADOFFSET</a>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (offset == -<a class="code" href="libfdt_8h.html#a5025b6b09a009bd2b516e6a831d7ce72">FDT_ERR_BADOFFSET</a>)</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;            <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#aef7e5f2183c72ef2b4698bb918d8f2f7">FDT_ERR_BADSTRUCTURE</a>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    }</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="keywordflow">return</span> offset; <span class="comment">/* error from fdt_next_node() */</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;}</div>
<div class="ttc" id="libfdt__internal_8h_html_ad6927f926180469d5c044ec5d3b2f84b"><div class="ttname"><a href="libfdt__internal_8h.html#ad6927f926180469d5c044ec5d3b2f84b">FDT_RO_PROBE</a></div><div class="ttdeci">#define FDT_RO_PROBE(fdt)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:14</div></div>
<div class="ttc" id="libfdt_8h_html_a02625761a47e8012c53fb389dd25fadd"><div class="ttname"><a href="libfdt_8h.html#a02625761a47e8012c53fb389dd25fadd">FDT_ERR_INTERNAL</a></div><div class="ttdeci">#define FDT_ERR_INTERNAL</div><div class="ttdef"><b>Definition:</b> libfdt.h:77</div></div>
<div class="ttc" id="libfdt__internal_8h_html_ae26d08ffdd441f73ecf7de7ca35176b9"><div class="ttname"><a href="libfdt__internal_8h.html#ae26d08ffdd441f73ecf7de7ca35176b9">can_assume</a></div><div class="ttdeci">#define can_assume(_assume)</div><div class="ttdef"><b>Definition:</b> libfdt_internal.h:190</div></div>
<div class="ttc" id="fdt_8c_html_a6603ac8041afcc7fde5c0b25de765103"><div class="ttname"><a href="fdt_8c.html#a6603ac8041afcc7fde5c0b25de765103">fdt_next_node</a></div><div class="ttdeci">int fdt_next_node(const void *fdt, int offset, int *depth)</div><div class="ttdef"><b>Definition:</b> fdt.c:247</div></div>
<div class="ttc" id="libfdt_8h_html_aef7e5f2183c72ef2b4698bb918d8f2f7"><div class="ttname"><a href="libfdt_8h.html#aef7e5f2183c72ef2b4698bb918d8f2f7">FDT_ERR_BADSTRUCTURE</a></div><div class="ttdeci">#define FDT_ERR_BADSTRUCTURE</div><div class="ttdef"><b>Definition:</b> libfdt.h:65</div></div>
<div class="ttc" id="libfdt_8h_html_a93cfa052f4b28df4bfc7d336b692fa07"><div class="ttname"><a href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a></div><div class="ttdeci">#define FDT_ERR_NOTFOUND</div><div class="ttdef"><b>Definition:</b> libfdt.h:21</div></div>
<div class="ttc" id="libfdt_8h_html_a5025b6b09a009bd2b516e6a831d7ce72"><div class="ttname"><a href="libfdt_8h.html#a5025b6b09a009bd2b516e6a831d7ce72">FDT_ERR_BADOFFSET</a></div><div class="ttdeci">#define FDT_ERR_BADOFFSET</div><div class="ttdef"><b>Definition:</b> libfdt.h:33</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0a233378abbb816de0249098cb2fc450"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int nextprop_ </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>fdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>References <a class="el" href="fdt_8h.html#a53275b16340fb458df4782462f283d8c">FDT_END</a>, <a class="el" href="libfdt_8h.html#aef7e5f2183c72ef2b4698bb918d8f2f7">FDT_ERR_BADSTRUCTURE</a>, <a class="el" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>, <a class="el" href="fdt_8c.html#ae1b4b34a1b1fa1230d3ccacf14446b61">fdt_next_tag()</a>, <a class="el" href="fdt_8h.html#a95f6ec2ae047c13339f80ca6adeafc21">FDT_NOP</a>, and <a class="el" href="fdt_8h.html#a3304a9313cbf7ecced77f89ff5f25dde">FDT_PROP</a>.</p>

<p>Referenced by <a class="el" href="libfdt_8h.html#aba2e2271df9d7cbcbb6ac633bd169bcf">fdt_first_property_offset()</a>, and <a class="el" href="libfdt_8h.html#ad17c7077eebb6668f09aadda1f6c8fb2">fdt_next_property_offset()</a>.</p>
<div class="fragment"><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;{</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> tag;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keywordtype">int</span> nextoffset;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;        tag = <a class="code" href="fdt_8c.html#ae1b4b34a1b1fa1230d3ccacf14446b61">fdt_next_tag</a>(fdt, offset, &amp;nextoffset);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">switch</span> (tag) {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="fdt_8h.html#a53275b16340fb458df4782462f283d8c">FDT_END</a>:</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="keywordflow">if</span> (nextoffset &gt;= 0)</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#aef7e5f2183c72ef2b4698bb918d8f2f7">FDT_ERR_BADSTRUCTURE</a>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <span class="keywordflow">return</span> nextoffset;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">case</span> <a class="code" href="fdt_8h.html#a3304a9313cbf7ecced77f89ff5f25dde">FDT_PROP</a>:</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <span class="keywordflow">return</span> offset;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        offset = nextoffset;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    } <span class="keywordflow">while</span> (tag == <a class="code" href="fdt_8h.html#a95f6ec2ae047c13339f80ca6adeafc21">FDT_NOP</a>);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">return</span> -<a class="code" href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;}</div>
<div class="ttc" id="fdt_8c_html_ae1b4b34a1b1fa1230d3ccacf14446b61"><div class="ttname"><a href="fdt_8c.html#ae1b4b34a1b1fa1230d3ccacf14446b61">fdt_next_tag</a></div><div class="ttdeci">uint32_t fdt_next_tag(const void *fdt, int startoffset, int *nextoffset)</div><div class="ttdef"><b>Definition:</b> fdt.c:162</div></div>
<div class="ttc" id="fdt_8h_html_a3304a9313cbf7ecced77f89ff5f25dde"><div class="ttname"><a href="fdt_8h.html#a3304a9313cbf7ecced77f89ff5f25dde">FDT_PROP</a></div><div class="ttdeci">#define FDT_PROP</div><div class="ttdef"><b>Definition:</b> fdt.h:55</div></div>
<div class="ttc" id="fdt_8h_html_a53275b16340fb458df4782462f283d8c"><div class="ttname"><a href="fdt_8h.html#a53275b16340fb458df4782462f283d8c">FDT_END</a></div><div class="ttdeci">#define FDT_END</div><div class="ttdef"><b>Definition:</b> fdt.h:58</div></div>
<div class="ttc" id="libfdt_8h_html_aef7e5f2183c72ef2b4698bb918d8f2f7"><div class="ttname"><a href="libfdt_8h.html#aef7e5f2183c72ef2b4698bb918d8f2f7">FDT_ERR_BADSTRUCTURE</a></div><div class="ttdeci">#define FDT_ERR_BADSTRUCTURE</div><div class="ttdef"><b>Definition:</b> libfdt.h:65</div></div>
<div class="ttc" id="libfdt_8h_html_a93cfa052f4b28df4bfc7d336b692fa07"><div class="ttname"><a href="libfdt_8h.html#a93cfa052f4b28df4bfc7d336b692fa07">FDT_ERR_NOTFOUND</a></div><div class="ttdeci">#define FDT_ERR_NOTFOUND</div><div class="ttdef"><b>Definition:</b> libfdt.h:21</div></div>
<div class="ttc" id="libfdt__env_8h_html_a435d1572bf3f880d55459d9805097f62"><div class="ttname"><a href="libfdt__env_8h.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a></div><div class="ttdeci">unsigned int uint32_t</div><div class="ttdef"><b>Definition:</b> libfdt_env.h:22</div></div>
<div class="ttc" id="fdt_8h_html_a95f6ec2ae047c13339f80ca6adeafc21"><div class="ttname"><a href="fdt_8h.html#a95f6ec2ae047c13339f80ca6adeafc21">FDT_NOP</a></div><div class="ttdeci">#define FDT_NOP</div><div class="ttdef"><b>Definition:</b> fdt.h:57</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
