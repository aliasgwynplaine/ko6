``` Small Operating System for Educational Purpose 

 $|$ $|$\-\_\-\-\_\- /'v'\textbackslash{} / / \begin{DoxyDate}{Date}
2025-\/02-\/11 $|$ / /( )/ \-\_\- \textbackslash{} 
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
2021-\/2025 Sorbonne University $|$\-\_\-\-\_\-\textbackslash{} x\-\_\-\-\_\-\-\_\-x \-\_\-\-\_\-\-\_\-/ \href{https://opensource.org/licenses/MIT}{\tt https\-://opensource.\-org/licenses/\-M\-I\-T} ```
\end{DoxyCopyright}
\subsection*{License}


\begin{DoxyItemize}
\item ko6 is licensed under the {\bfseries M\-I\-T License}.
\item Some third-\/party components, such as {\ttfamily external/libfdt/}, are licensed under the {\bfseries B\-S\-D-\/2-\/\-Clause} License.
\item See the \href{./LICENSE}{\tt L\-I\-C\-E\-N\-S\-E} and \href{./src/soft/external/libfdt/LICENSE.BSD}{\tt L\-I\-C\-E\-N\-S\-E.\-B\-S\-D} files for full details.
\item If you use ko6, let me know! I'll be happy to hear about it and help if I can.
\end{DoxyItemize}

\subsection*{Project Authors}

See the full list of contributors in \href{./CONTRIBUTORS.md}{\tt C\-O\-N\-T\-R\-I\-B\-U\-T\-O\-R\-S.\-md}.

\subsection*{Presentation}

ko6 ({\itshape pronounce it \char`\"{}kit-\/o-\/sys\char`\"{} o is the letter not the number}) is a small operating system for educational purpose.

\subsection*{Configuration}

If you put ko6 in your home directory, you must source the {\ttfamily Source\-Me.\-sh} file to set the environment. You can add {\ttfamily source \$\-H\-O\-M\-E/ko6/\-Source\-Me.sh} in the {\ttfamily \$\-H\-O\-M\-E/.bashrc}. Once, the environment is set, in order to check if it works, run \-: {\ttfamily cd \$\-H\-O\-M\-E/ko6; make hello}, you must see two xterm windows appear. On the big one (xterm0), you must see, the logo and a system dump (internal registers and scheduler). On the small one, you must see « \-Hello World! ».

The source files are all 100 characters long because of the many comments on the lines. Therefore, 100-\/character wide windows must be used for editing. The C code uses the Kernighan and Ritchie style.

\subsection*{K\-O6 Project Structure}

\subsubsection*{$\ast$$\ast$src/hard$\ast$$\ast$}

Plateform definitions

\subsubsection*{$\ast$$\ast$src/soft$\ast$$\ast$}

Code of Operating System and Applications


\begin{DoxyItemize}
\item {\bfseries common/}\par
 Shared files between applications and the kernel.
\item {\bfseries hal/}\par
 Hardware Abstraction Layer (H\-A\-L) A\-P\-I declarations and implementations for each hardware.
\begin{DoxyItemize}
\item {\bfseries cpu/}
\begin{DoxyItemize}
\item {\bfseries mips/}\-: Implementation for M\-I\-P\-S.
\item {\bfseries riscv/}\-: Implementation for R\-I\-S\-C-\/\-V.
\end{DoxyItemize}
\item {\bfseries devices/}\par
 A\-P\-I for different types of devices.\par
 Some device types are missing, particularly block devices.\par
 Each device type may have multiple implementations located in subdirectories.
\begin{DoxyItemize}
\item {\bfseries chardev/}\-: Character devices.
\item {\bfseries dma/}\-: Direct Memory Access.
\item {\bfseries icu/} ({\itshape could be renamed to irq})\-: Interrupt Controller Unit.
\item {\bfseries timer/}\-: Timer management.
\end{DoxyItemize}
\item {\bfseries soc/}\par
 A So\-C consists of a C\-P\-U and various devices.\par
 The A\-P\-I here is limited to initialization, which takes the device tree as an argument.\par
 The initialization function is implemented differently for each So\-C, calling C\-P\-U and device initialization functions.
\begin{DoxyItemize}
\item {\bfseries almo1-\/mips/}\-: So\-C implementation for A\-L\-M\-O1-\/\-M\-I\-P\-S.
\item {\bfseries qemu-\/virt-\/riscv/}\-: So\-C implementation for Q\-E\-M\-U-\/\-Virt-\/\-R\-I\-S\-C-\/\-V.
\end{DoxyItemize}
\end{DoxyItemize}
\item {\bfseries kernel/}\par
 Kernel service code, independent of hardware resources.\par
 The number of files is intentionally minimized, with one C file per subsystem.
\item {\bfseries fs/}\par
 Code related to real file systems.\par
 Includes both the implementation of Virtual File System (V\-F\-S) functions inside the kernel and tools for constructing the disk.
\begin{DoxyItemize}
\item {\bfseries kfs/}\-: Implementation of the K\-F\-S real file system.
\end{DoxyItemize}
\item {\bfseries external/}\par
 Third-\/party code.
\begin{DoxyItemize}
\item {\bfseries libfdt/}\-: Flat Device Tree (F\-D\-T) library.
\end{DoxyItemize}
\item {\bfseries ulib/}\par
 User-\/space libraries.
\item {\bfseries uapp/}\par
 User applications.
\begin{DoxyItemize}
\item {\bfseries barrier/}
\item {\bfseries hello/}
\item {\bfseries test/} 
\end{DoxyItemize}
\end{DoxyItemize}