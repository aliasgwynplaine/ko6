\hypertarget{riscv_2atomic_8S}{\section{/users/enseig/franck/ko6/src/soft/hal/cpu/riscv/atomic.S File Reference}
\label{riscv_2atomic_8S}\index{/users/enseig/franck/ko6/src/soft/hal/cpu/riscv/atomic.\-S@{/users/enseig/franck/ko6/src/soft/hal/cpu/riscv/atomic.\-S}}
}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
section text globl \hyperlink{atomic_8h_a92a25e1136e165cc5472d68e3901e364}{spin\-\_\-lock} \hyperlink{riscv_2atomic_8S_ac58f8c5ceac726ecc3bcc7f0360b5cfa}{spin\-\_\-lock\-\_\-delay}
\item 
section text globl \hyperlink{atomic_8h_a92a25e1136e165cc5472d68e3901e364}{spin\-\_\-lock} \hyperlink{riscv_2atomic_8S_ae9747d0e53eec3077df6659993460c34}{t0}
\item 
section text globl spin\-\_\-lock \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{riscv_2atomic_8S_ac58f8c5ceac726ecc3bcc7f0360b5cfa}{spin\-\_\-lock\-\_\-delay} \hyperlink{riscv_2atomic_8S_a3e45f57ebbb323b69fb4d0b22eae8497}{spin\-\_\-lock}
\item 
section text globl \hyperlink{atomic_8h_a92a25e1136e165cc5472d68e3901e364}{spin\-\_\-lock} \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{riscv_2atomic_8S_ac58f8c5ceac726ecc3bcc7f0360b5cfa}{spin\-\_\-lock\-\_\-delay} \hyperlink{riscv_2threada_8S_aaef62817c8f68f920ec8214f18b86a4c}{a0} \hyperlink{mips_2kpanica_8S_a2fb13edcab8f873099119dfe01c49d47}{la} \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{riscv_2atomic_8S_ae7a3f7baeb6769a5ca90b5626bf66259}{t1}
\item 
section text globl \hyperlink{atomic_8h_a92a25e1136e165cc5472d68e3901e364}{spin\-\_\-lock} \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{riscv_2atomic_8S_ac58f8c5ceac726ecc3bcc7f0360b5cfa}{spin\-\_\-lock\-\_\-delay} \hyperlink{riscv_2threada_8S_aaef62817c8f68f920ec8214f18b86a4c}{a0} \hyperlink{mips_2kpanica_8S_a2fb13edcab8f873099119dfe01c49d47}{la} \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{riscv_2atomic_8S_ac58f8c5ceac726ecc3bcc7f0360b5cfa}{spin\-\_\-lock\-\_\-delay} \hyperlink{riscv_2atomic_8S_ad80941180cbdc552c8ea89350d1d2fd0}{spin\-\_\-lock\-\_\-sc}
\item 
section text globl \hyperlink{atomic_8h_a92a25e1136e165cc5472d68e3901e364}{spin\-\_\-lock} \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{riscv_2atomic_8S_ac58f8c5ceac726ecc3bcc7f0360b5cfa}{spin\-\_\-lock\-\_\-delay} \hyperlink{riscv_2threada_8S_aaef62817c8f68f920ec8214f18b86a4c}{a0} \hyperlink{mips_2kpanica_8S_a2fb13edcab8f873099119dfe01c49d47}{la} \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{riscv_2atomic_8S_ac58f8c5ceac726ecc3bcc7f0360b5cfa}{spin\-\_\-lock\-\_\-delay} \hyperlink{mips_2atomic_8S_a994dd5c708bcbaac056b340c7cd42ceb}{sc} w \hyperlink{riscv_2threada_8S_aaef62817c8f68f920ec8214f18b86a4c}{a0} \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{atomic_8h_a92a25e1136e165cc5472d68e3901e364}{spin\-\_\-lock} ret globl \\*
spin\-\_\-unlock \hyperlink{riscv_2atomic_8S_aec4be218c3989af0a4d0cd74a975d979}{spin\-\_\-unlock}
\item 
section text globl \hyperlink{atomic_8h_a92a25e1136e165cc5472d68e3901e364}{spin\-\_\-lock} \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{riscv_2atomic_8S_ac58f8c5ceac726ecc3bcc7f0360b5cfa}{spin\-\_\-lock\-\_\-delay} \hyperlink{riscv_2threada_8S_aaef62817c8f68f920ec8214f18b86a4c}{a0} \hyperlink{mips_2kpanica_8S_a2fb13edcab8f873099119dfe01c49d47}{la} \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{riscv_2atomic_8S_ac58f8c5ceac726ecc3bcc7f0360b5cfa}{spin\-\_\-lock\-\_\-delay} \hyperlink{mips_2atomic_8S_a994dd5c708bcbaac056b340c7cd42ceb}{sc} w \hyperlink{riscv_2threada_8S_aaef62817c8f68f920ec8214f18b86a4c}{a0} \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{atomic_8h_a92a25e1136e165cc5472d68e3901e364}{spin\-\_\-lock} ret globl \\*
\hyperlink{atomic_8h_a73864b9b10141e82915121078d853a9e}{spin\-\_\-unlock} \hyperlink{riscv_2threada_8S_aaef62817c8f68f920ec8214f18b86a4c}{a0} fence ret globl \\*
\hyperlink{atomic_8h_aa1f3892cb11568fa77c9c4b6fd2e153e}{atomic\-\_\-add} \hyperlink{riscv_2atomic_8S_ad5a03cd35d090a23a5070103775a1095}{atomic\-\_\-inc}
\item 
section text globl \hyperlink{atomic_8h_a92a25e1136e165cc5472d68e3901e364}{spin\-\_\-lock} \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{riscv_2atomic_8S_ac58f8c5ceac726ecc3bcc7f0360b5cfa}{spin\-\_\-lock\-\_\-delay} \hyperlink{riscv_2threada_8S_aaef62817c8f68f920ec8214f18b86a4c}{a0} \hyperlink{mips_2kpanica_8S_a2fb13edcab8f873099119dfe01c49d47}{la} \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{riscv_2atomic_8S_ac58f8c5ceac726ecc3bcc7f0360b5cfa}{spin\-\_\-lock\-\_\-delay} \hyperlink{mips_2atomic_8S_a994dd5c708bcbaac056b340c7cd42ceb}{sc} w \hyperlink{riscv_2threada_8S_aaef62817c8f68f920ec8214f18b86a4c}{a0} \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{atomic_8h_a92a25e1136e165cc5472d68e3901e364}{spin\-\_\-lock} ret globl \\*
\hyperlink{atomic_8h_a73864b9b10141e82915121078d853a9e}{spin\-\_\-unlock} \hyperlink{riscv_2threada_8S_aaef62817c8f68f920ec8214f18b86a4c}{a0} fence ret globl \\*
\hyperlink{atomic_8h_aa1f3892cb11568fa77c9c4b6fd2e153e}{atomic\-\_\-add} \hyperlink{riscv_2atomic_8S_a722b1add1d9781e2115fb2fcc9d5541a}{a1}
\item 
section text globl \hyperlink{atomic_8h_a92a25e1136e165cc5472d68e3901e364}{spin\-\_\-lock} \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{riscv_2atomic_8S_ac58f8c5ceac726ecc3bcc7f0360b5cfa}{spin\-\_\-lock\-\_\-delay} a0 \hyperlink{mips_2kpanica_8S_a2fb13edcab8f873099119dfe01c49d47}{la} \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{riscv_2atomic_8S_ac58f8c5ceac726ecc3bcc7f0360b5cfa}{spin\-\_\-lock\-\_\-delay} \hyperlink{mips_2atomic_8S_a994dd5c708bcbaac056b340c7cd42ceb}{sc} w a0 \\*
\hyperlink{mips_2atomic_8S_ac90faece1c7b2fe2dcf10741e4322281}{bnez} \hyperlink{atomic_8h_a92a25e1136e165cc5472d68e3901e364}{spin\-\_\-lock} ret globl \\*
\hyperlink{atomic_8h_a73864b9b10141e82915121078d853a9e}{spin\-\_\-unlock} a0 fence ret globl \\*
\hyperlink{atomic_8h_aa1f3892cb11568fa77c9c4b6fd2e153e}{atomic\-\_\-add} a0 add \hyperlink{riscv_2atomic_8S_a3d9d4d3857e499e04ab8a29c34ab004d}{a0}
\end{DoxyCompactItemize}


\subsection{Variable Documentation}
\hypertarget{riscv_2atomic_8S_a3d9d4d3857e499e04ab8a29c34ab004d}{\index{riscv/atomic.\-S@{riscv/atomic.\-S}!a0@{a0}}
\index{a0@{a0}!riscv/atomic.S@{riscv/atomic.\-S}}
\subsubsection[{a0}]{\setlength{\rightskip}{0pt plus 5cm}section text globl {\bf thread\-\_\-context\-\_\-save} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S0} $\ast$a0 {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S1} $\ast$a0 {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S2} $\ast$a0 {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S3} $\ast$a0 {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S4} $\ast$a0 {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S5} $\ast$a0 {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S6} $\ast$a0 {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S7} $\ast$a0 {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S8} $\ast$a0 {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S9} $\ast$a0 {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S10} $\ast$a0 {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S11} $\ast$a0 {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-R\-A} $\ast$a0 {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S\-P} $\ast$a0 csrr {\bf mstatus} csrr {\bf mepc} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-M\-S\-T\-A\-T\-U\-S} $\ast$a0 {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-M\-E\-P\-C} $\ast$a0 {\bf li} ret globl {\bf thread\-\_\-context\-\_\-load} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S0} $\ast$a0 {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S1} $\ast$a0 {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S2} $\ast$a0 {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S3} $\ast$a0 {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S4} $\ast$a0 {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S5} $\ast$a0 {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S6} $\ast$a0 {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S7} $\ast$a0 {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S8} $\ast$a0 {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S9} $\ast$a0 {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S10} $\ast$a0 {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S11} $\ast$a0 {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-R\-A} $\ast$a0 {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S\-P} $\ast$a0 {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-M\-S\-T\-A\-T\-U\-S} $\ast$a0 {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-M\-E\-P\-C} $\ast$a0 csrw {\bf t0} csrw {\bf t1} {\bf li} a0}}\label{riscv_2atomic_8S_a3d9d4d3857e499e04ab8a29c34ab004d}


Referenced by main().

\hypertarget{riscv_2atomic_8S_a722b1add1d9781e2115fb2fcc9d5541a}{\index{riscv/atomic.\-S@{riscv/atomic.\-S}!a1@{a1}}
\index{a1@{a1}!riscv/atomic.S@{riscv/atomic.\-S}}
\subsubsection[{a1}]{\setlength{\rightskip}{0pt plus 5cm}globl {\bf kpanic} {\bf sw} {\bf sp} {\bf la} {\bf K\-Panic\-Regs\-Val} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-R\-A} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-G\-P} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-T\-P} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-T1} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-T2} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-S0} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-S1} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-A0} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-A1} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-A2} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-A3} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-A4} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-A5} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-A6} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-A7} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-S2} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-S3} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-S4} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-S5} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-S6} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-S7} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-S8} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-S9} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-S10} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-S11} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-T3} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-T4} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-T5} $\ast${\bf t0} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-T6} $\ast${\bf t0} {\bf la} {\bf K\-Panic\-Regs\-Val} {\bf lw} {\bf sp} addi {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-T0} $\ast${\bf t1} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-S\-P} $\ast${\bf t1} csrr mcycle csrr mtval csrr {\bf mstatus} csrr {\bf mepc} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-M\-C\-Y\-C\-L\-E} $\ast${\bf t1} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-M\-T\-V\-A\-L} $\ast${\bf t1} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-M\-S\-T\-A\-T\-U\-S} $\ast${\bf t1} {\bf sw} {\bf K\-P\-A\-N\-I\-C\-\_\-\-M\-E\-P\-C} $\ast${\bf t1} csrr mcause mv a1}}\label{riscv_2atomic_8S_a722b1add1d9781e2115fb2fcc9d5541a}


Referenced by main().

\hypertarget{riscv_2atomic_8S_ad5a03cd35d090a23a5070103775a1095}{\index{riscv/atomic.\-S@{riscv/atomic.\-S}!atomic\-\_\-inc@{atomic\-\_\-inc}}
\index{atomic\-\_\-inc@{atomic\-\_\-inc}!riscv/atomic.S@{riscv/atomic.\-S}}
\subsubsection[{atomic\-\_\-inc}]{\setlength{\rightskip}{0pt plus 5cm}section text globl {\bf spin\-\_\-lock} {\bf bnez} {\bf spin\-\_\-lock\-\_\-delay} {\bf a0} {\bf la} {\bf bnez} {\bf spin\-\_\-lock\-\_\-delay} {\bf sc} w {\bf a0} {\bf bnez} {\bf spin\-\_\-lock} ret globl {\bf spin\-\_\-unlock} {\bf a0} fence ret globl {\bf atomic\-\_\-add} atomic\-\_\-inc}}\label{riscv_2atomic_8S_ad5a03cd35d090a23a5070103775a1095}
\hypertarget{riscv_2atomic_8S_a3e45f57ebbb323b69fb4d0b22eae8497}{\index{riscv/atomic.\-S@{riscv/atomic.\-S}!spin\-\_\-lock@{spin\-\_\-lock}}
\index{spin\-\_\-lock@{spin\-\_\-lock}!riscv/atomic.S@{riscv/atomic.\-S}}
\subsubsection[{spin\-\_\-lock}]{\setlength{\rightskip}{0pt plus 5cm}section text globl spin\-\_\-lock {\bf bnez} {\bf spin\-\_\-lock\-\_\-delay} spin\-\_\-lock}}\label{riscv_2atomic_8S_a3e45f57ebbb323b69fb4d0b22eae8497}
\hypertarget{riscv_2atomic_8S_ac58f8c5ceac726ecc3bcc7f0360b5cfa}{\index{riscv/atomic.\-S@{riscv/atomic.\-S}!spin\-\_\-lock\-\_\-delay@{spin\-\_\-lock\-\_\-delay}}
\index{spin\-\_\-lock\-\_\-delay@{spin\-\_\-lock\-\_\-delay}!riscv/atomic.S@{riscv/atomic.\-S}}
\subsubsection[{spin\-\_\-lock\-\_\-delay}]{\setlength{\rightskip}{0pt plus 5cm}section text globl {\bf spin\-\_\-lock} spin\-\_\-lock\-\_\-delay}}\label{riscv_2atomic_8S_ac58f8c5ceac726ecc3bcc7f0360b5cfa}
\hypertarget{riscv_2atomic_8S_ad80941180cbdc552c8ea89350d1d2fd0}{\index{riscv/atomic.\-S@{riscv/atomic.\-S}!spin\-\_\-lock\-\_\-sc@{spin\-\_\-lock\-\_\-sc}}
\index{spin\-\_\-lock\-\_\-sc@{spin\-\_\-lock\-\_\-sc}!riscv/atomic.S@{riscv/atomic.\-S}}
\subsubsection[{spin\-\_\-lock\-\_\-sc}]{\setlength{\rightskip}{0pt plus 5cm}section text globl {\bf spin\-\_\-lock} {\bf bnez} {\bf spin\-\_\-lock\-\_\-delay} {\bf a0} {\bf la} {\bf bnez} {\bf spin\-\_\-lock\-\_\-delay} spin\-\_\-lock\-\_\-sc}}\label{riscv_2atomic_8S_ad80941180cbdc552c8ea89350d1d2fd0}
\hypertarget{riscv_2atomic_8S_aec4be218c3989af0a4d0cd74a975d979}{\index{riscv/atomic.\-S@{riscv/atomic.\-S}!spin\-\_\-unlock@{spin\-\_\-unlock}}
\index{spin\-\_\-unlock@{spin\-\_\-unlock}!riscv/atomic.S@{riscv/atomic.\-S}}
\subsubsection[{spin\-\_\-unlock}]{\setlength{\rightskip}{0pt plus 5cm}section text globl {\bf spin\-\_\-lock} {\bf bnez} {\bf spin\-\_\-lock\-\_\-delay} {\bf a0} {\bf la} {\bf bnez} {\bf spin\-\_\-lock\-\_\-delay} {\bf sc} w {\bf a0} {\bf bnez} {\bf spin\-\_\-lock} ret globl spin\-\_\-unlock spin\-\_\-unlock}}\label{riscv_2atomic_8S_aec4be218c3989af0a4d0cd74a975d979}
\hypertarget{riscv_2atomic_8S_ae9747d0e53eec3077df6659993460c34}{\index{riscv/atomic.\-S@{riscv/atomic.\-S}!t0@{t0}}
\index{t0@{t0}!riscv/atomic.S@{riscv/atomic.\-S}}
\subsubsection[{t0}]{\setlength{\rightskip}{0pt plus 5cm}section text globl {\bf thread\-\_\-context\-\_\-save} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S0} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S1} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S2} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S3} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S4} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S5} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S6} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S7} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S8} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S9} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S10} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S11} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-R\-A} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S\-P} $\ast${\bf a0} csrr {\bf mstatus} csrr {\bf mepc} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-M\-S\-T\-A\-T\-U\-S} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-M\-E\-P\-C} $\ast${\bf a0} {\bf li} ret globl {\bf thread\-\_\-context\-\_\-load} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S0} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S1} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S2} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S3} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S4} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S5} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S6} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S7} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S8} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S9} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S10} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S11} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-R\-A} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S\-P} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-M\-S\-T\-A\-T\-U\-S} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-M\-E\-P\-C} $\ast${\bf a0} csrw t0 csrw {\bf t1} {\bf li} ret globl {\bf thread\-\_\-launch} {\bf a2} {\bf li} t0}}\label{riscv_2atomic_8S_ae9747d0e53eec3077df6659993460c34}


Referenced by main().

\hypertarget{riscv_2atomic_8S_ae7a3f7baeb6769a5ca90b5626bf66259}{\index{riscv/atomic.\-S@{riscv/atomic.\-S}!t1@{t1}}
\index{t1@{t1}!riscv/atomic.S@{riscv/atomic.\-S}}
\subsubsection[{t1}]{\setlength{\rightskip}{0pt plus 5cm}section text globl {\bf thread\-\_\-context\-\_\-save} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S0} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S1} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S2} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S3} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S4} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S5} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S6} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S7} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S8} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S9} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S10} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S11} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-R\-A} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S\-P} $\ast${\bf a0} csrr {\bf mstatus} csrr {\bf mepc} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-M\-S\-T\-A\-T\-U\-S} $\ast${\bf a0} {\bf sw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-M\-E\-P\-C} $\ast${\bf a0} {\bf li} ret globl {\bf thread\-\_\-context\-\_\-load} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S0} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S1} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S2} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S3} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S4} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S5} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S6} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S7} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S8} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S9} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S10} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S11} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-R\-A} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-S\-P} $\ast${\bf a0} {\bf lw} {\bf T\-H\-\_\-\-C\-O\-N\-T\-E\-X\-T\-\_\-\-M\-S\-T\-A\-T\-U\-S} $\ast${\bf a0} {\bf lw} t1}}\label{riscv_2atomic_8S_ae7a3f7baeb6769a5ca90b5626bf66259}


Referenced by main().

