\hypertarget{libfdt_8h}{\section{/users/enseig/franck/ko6/src/soft/external/libfdt/libfdt.h File Reference}
\label{libfdt_8h}\index{/users/enseig/franck/ko6/src/soft/external/libfdt/libfdt.\-h@{/users/enseig/franck/ko6/src/soft/external/libfdt/libfdt.\-h}}
}
{\ttfamily \#include $<$external/libfdt/libfdt\-\_\-env.\-h$>$}\\*
{\ttfamily \#include $<$external/libfdt/fdt.\-h$>$}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{libfdt_8h_ab71fe9f2c75280cd75b42263dd2aa3f1}{F\-D\-T\-\_\-\-F\-I\-R\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N}~0x02
\item 
\#define \hyperlink{libfdt_8h_a92dfcdf28c0695fc365661c3b3f2ce6a}{F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-C\-O\-M\-P\-A\-T\-I\-B\-L\-E\-\_\-\-V\-E\-R\-S\-I\-O\-N}~0x10
\item 
\#define \hyperlink{libfdt_8h_a3d13a6bfa946b38c95d1c327d4139c22}{F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N}~0x11
\item 
\#define \hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D}~1
\item 
\#define \hyperlink{libfdt_8h_a26af70ef43c09fafd5eb29f10a09278a}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-E\-X\-I\-S\-T\-S}~2
\item 
\#define \hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E}~3
\item 
\#define \hyperlink{libfdt_8h_a5025b6b09a009bd2b516e6a831d7ce72}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T}~4
\item 
\#define \hyperlink{libfdt_8h_a2b7c103b35891f65523585a43b92a748}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-A\-T\-H}~5
\item 
\#define \hyperlink{libfdt_8h_a0f264f8ba8cc4e98852c8246bc6312bc}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-H\-A\-N\-D\-L\-E}~6
\item 
\#define \hyperlink{libfdt_8h_a87f75249bba66fc5e21110e00a990a81}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E}~7
\item 
\#define \hyperlink{libfdt_8h_a2b814a0775d93b5da1442fc091e49958}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D}~8
\item 
\#define \hyperlink{libfdt_8h_abb777d59bc55628f8736b2b6c799213b}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C}~9
\item 
\#define \hyperlink{libfdt_8h_ad2a3b277a1e6987ead001fcd2415d88d}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N}~10
\item 
\#define \hyperlink{libfdt_8h_aef7e5f2183c72ef2b4698bb918d8f2f7}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E}~11
\item 
\#define \hyperlink{libfdt_8h_ad698818ae8340bbadf1cbbb49e4c968d}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T}~12
\item 
\#define \hyperlink{libfdt_8h_a02625761a47e8012c53fb389dd25fadd}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-I\-N\-T\-E\-R\-N\-A\-L}~13
\item 
\#define \hyperlink{libfdt_8h_ac99b64a390af02e95d9236e5c1d03780}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-N\-C\-E\-L\-L\-S}~14
\item 
\#define \hyperlink{libfdt_8h_a69e818556330b83a02de930b95216aa9}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-A\-L\-U\-E}~15
\item 
\#define \hyperlink{libfdt_8h_aa276d7f3088179b283530d41750ff5e4}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-V\-E\-R\-L\-A\-Y}~16
\item 
\#define \hyperlink{libfdt_8h_a7dbda231b96112ab9cd6d2eca9b42bfb}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-P\-H\-A\-N\-D\-L\-E\-S}~17
\item 
\#define \hyperlink{libfdt_8h_acdbe061469db63aa50b51afa59be2fcf}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-F\-L\-A\-G\-S}~18
\item 
\#define \hyperlink{libfdt_8h_a3700c1466eed663efeb8cfcfb68410e7}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-A\-L\-I\-G\-N\-M\-E\-N\-T}~19
\item 
\#define \hyperlink{libfdt_8h_a417a0f3083b9e164446262d59e89cd5a}{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-M\-A\-X}~19
\item 
\#define \hyperlink{libfdt_8h_adf35cab72ef2f580fb1263c2c4d4f33a}{F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-P\-H\-A\-N\-D\-L\-E}~0xfffffffe
\item 
\#define \hyperlink{libfdt_8h_a7815aea6a1994b5fb035623a86e890a4}{fdt\-\_\-for\-\_\-each\-\_\-subnode}(node, fdt, parent)
\item 
\#define \hyperlink{libfdt_8h_a0eaa7f32ec9d4c441e2e3d3c56bfc850}{fdt\-\_\-get\-\_\-header}(fdt, field)~(\hyperlink{libfdt_8h_abd0ba7fbc53ed7374a1f5c5c1db52420}{fdt32\-\_\-ld}(\&((const struct \hyperlink{structfdt__header}{fdt\-\_\-header} $\ast$)(fdt))-\/$>$field))
\item 
\#define \hyperlink{libfdt_8h_a783c67f6971d10232c84ecd0aa76f461}{fdt\-\_\-magic}(fdt)~(\hyperlink{libfdt_8h_a0eaa7f32ec9d4c441e2e3d3c56bfc850}{fdt\-\_\-get\-\_\-header}(fdt, magic))
\item 
\#define \hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\-\_\-totalsize}(fdt)~(\hyperlink{libfdt_8h_a0eaa7f32ec9d4c441e2e3d3c56bfc850}{fdt\-\_\-get\-\_\-header}(fdt, totalsize))
\item 
\#define \hyperlink{libfdt_8h_ae2ef3611d83ac29bb6de09594ead9969}{fdt\-\_\-off\-\_\-dt\-\_\-struct}(fdt)~(\hyperlink{libfdt_8h_a0eaa7f32ec9d4c441e2e3d3c56bfc850}{fdt\-\_\-get\-\_\-header}(fdt, off\-\_\-dt\-\_\-struct))
\item 
\#define \hyperlink{libfdt_8h_a80994b6320a372f47942ac65f55c0d6c}{fdt\-\_\-off\-\_\-dt\-\_\-strings}(fdt)~(\hyperlink{libfdt_8h_a0eaa7f32ec9d4c441e2e3d3c56bfc850}{fdt\-\_\-get\-\_\-header}(fdt, off\-\_\-dt\-\_\-strings))
\item 
\#define \hyperlink{libfdt_8h_ad34e2939365df0a17061d177356b4e39}{fdt\-\_\-off\-\_\-mem\-\_\-rsvmap}(fdt)~(\hyperlink{libfdt_8h_a0eaa7f32ec9d4c441e2e3d3c56bfc850}{fdt\-\_\-get\-\_\-header}(fdt, off\-\_\-mem\-\_\-rsvmap))
\item 
\#define \hyperlink{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}{fdt\-\_\-version}(fdt)~(\hyperlink{libfdt_8h_a0eaa7f32ec9d4c441e2e3d3c56bfc850}{fdt\-\_\-get\-\_\-header}(fdt, version))
\item 
\#define \hyperlink{libfdt_8h_a6b64d727951727aa9464061496abc1e9}{fdt\-\_\-last\-\_\-comp\-\_\-version}(fdt)~(\hyperlink{libfdt_8h_a0eaa7f32ec9d4c441e2e3d3c56bfc850}{fdt\-\_\-get\-\_\-header}(fdt, last\-\_\-comp\-\_\-version))
\item 
\#define \hyperlink{libfdt_8h_ad5f615bb04034e144f826b3a182ff985}{fdt\-\_\-boot\-\_\-cpuid\-\_\-phys}(fdt)~(\hyperlink{libfdt_8h_a0eaa7f32ec9d4c441e2e3d3c56bfc850}{fdt\-\_\-get\-\_\-header}(fdt, boot\-\_\-cpuid\-\_\-phys))
\item 
\#define \hyperlink{libfdt_8h_aa0748803d707f2be7d15ebfb815d31b4}{fdt\-\_\-size\-\_\-dt\-\_\-strings}(fdt)~(\hyperlink{libfdt_8h_a0eaa7f32ec9d4c441e2e3d3c56bfc850}{fdt\-\_\-get\-\_\-header}(fdt, size\-\_\-dt\-\_\-strings))
\item 
\#define \hyperlink{libfdt_8h_a73b5fa0a791f02805b93ea70c6cb30ab}{fdt\-\_\-size\-\_\-dt\-\_\-struct}(fdt)~(\hyperlink{libfdt_8h_a0eaa7f32ec9d4c441e2e3d3c56bfc850}{fdt\-\_\-get\-\_\-header}(fdt, size\-\_\-dt\-\_\-struct))
\item 
\#define \hyperlink{libfdt_8h_ab7e83b84813fe33ea9f6841f7169887a}{fdt\-\_\-set\-\_\-hdr\-\_\-}(name)
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
const void $\ast$ \hyperlink{libfdt_8h_a0fb70da665ded79540f3855e021704a0}{fdt\-\_\-offset\-\_\-ptr} (const void $\ast$fdt, int offset, unsigned int checklen)
\item 
static void $\ast$ \hyperlink{libfdt_8h_ab5fff326afde3a9b05b6327aa6e5a7bc}{fdt\-\_\-offset\-\_\-ptr\-\_\-w} (void $\ast$fdt, int offset, int checklen)
\item 
\hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} \hyperlink{libfdt_8h_a2634793f3f530d97ca208c56b50accf6}{fdt\-\_\-next\-\_\-tag} (const void $\ast$fdt, int offset, int $\ast$nextoffset)
\item 
static \hyperlink{libfdt__env_8h_a273cf69d639a59973b6019625df33e30}{uint16\-\_\-t} \hyperlink{libfdt_8h_a04e654fe4dec975adf24eb4c8f0c8591}{fdt16\-\_\-ld} (const \hyperlink{libfdt__env_8h_a82fb6f39888712295eff2995092fd355}{fdt16\-\_\-t} $\ast$p)
\item 
static \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} \hyperlink{libfdt_8h_abd0ba7fbc53ed7374a1f5c5c1db52420}{fdt32\-\_\-ld} (const \hyperlink{libfdt__env_8h_a76887ac8786252752fb3f9a39b21f3af}{fdt32\-\_\-t} $\ast$p)
\item 
static void \hyperlink{libfdt_8h_ab8e8a5e7bfa68ba11228a13dfd5baa9a}{fdt32\-\_\-st} (void $\ast$property, \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} value)
\item 
static \hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} \hyperlink{libfdt_8h_a96f6dc1763124772eb6fd22a0fd8a8f5}{fdt64\-\_\-ld} (const \hyperlink{libfdt__env_8h_ace50a73711239df43c98cc1d5fedd1f8}{fdt64\-\_\-t} $\ast$p)
\item 
static void \hyperlink{libfdt_8h_a44619630fdd13843118f56d8bda08256}{fdt64\-\_\-st} (void $\ast$property, \hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} value)
\item 
int \hyperlink{libfdt_8h_a6603ac8041afcc7fde5c0b25de765103}{fdt\-\_\-next\-\_\-node} (const void $\ast$fdt, int offset, int $\ast$depth)
\item 
int \hyperlink{libfdt_8h_a0c888491fbef3ded52e45ac4772ea02f}{fdt\-\_\-first\-\_\-subnode} (const void $\ast$fdt, int offset)
\item 
int \hyperlink{libfdt_8h_acc373b28d3daa598bc3aa9a131224773}{fdt\-\_\-next\-\_\-subnode} (const void $\ast$fdt, int offset)
\item 
\hyperlink{libfdt_8h_a100e37448b872c47834443a7e1f5941f}{fdt\-\_\-set\-\_\-hdr\-\_\-} (magic)
\item 
\hyperlink{libfdt_8h_adc34ac3d1b65faadfad549cbf93a085f}{fdt\-\_\-set\-\_\-hdr\-\_\-} (totalsize)
\item 
\hyperlink{libfdt_8h_a3b2c0231338658a9ace84f5e88dcf232}{fdt\-\_\-set\-\_\-hdr\-\_\-} (off\-\_\-dt\-\_\-struct)
\item 
\hyperlink{libfdt_8h_a48b6ad6512f8deb065ad352f29fd442d}{fdt\-\_\-set\-\_\-hdr\-\_\-} (off\-\_\-dt\-\_\-strings)
\item 
\hyperlink{libfdt_8h_a9b38daa3767247f296d0229ff7e912b3}{fdt\-\_\-set\-\_\-hdr\-\_\-} (off\-\_\-mem\-\_\-rsvmap)
\item 
\hyperlink{libfdt_8h_a59e7b3fd8bfdcdc344d656b175fea7a4}{fdt\-\_\-set\-\_\-hdr\-\_\-} (version)
\item 
\hyperlink{libfdt_8h_a78e10eee50246373982077fccfc29269}{fdt\-\_\-set\-\_\-hdr\-\_\-} (last\-\_\-comp\-\_\-version)
\item 
\hyperlink{libfdt_8h_a5b914e7b3f7f80b7a97f9d0e333fd5d5}{fdt\-\_\-set\-\_\-hdr\-\_\-} (boot\-\_\-cpuid\-\_\-phys)
\item 
\hyperlink{libfdt_8h_ac9909d9590e8708493af4df464c2898c}{fdt\-\_\-set\-\_\-hdr\-\_\-} (size\-\_\-dt\-\_\-strings)
\item 
\hyperlink{libfdt_8h_a5236d6ad13cb5794511b68cf726cb0d4}{fdt\-\_\-set\-\_\-hdr\-\_\-} (size\-\_\-dt\-\_\-struct)
\item 
size\-\_\-t \hyperlink{libfdt_8h_afab057440e1d6aa051c30d16d3f416e0}{fdt\-\_\-header\-\_\-size} (const void $\ast$fdt)
\item 
size\-\_\-t \hyperlink{libfdt_8h_ac07cba787ec63afe1efccabca06018ff}{fdt\-\_\-header\-\_\-size\-\_\-} (\hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} version)
\item 
int \hyperlink{libfdt_8h_a2359dff8b66918e18ba70baab42f2cf1}{fdt\-\_\-check\-\_\-header} (const void $\ast$fdt)
\item 
int \hyperlink{libfdt_8h_a1be79096bbc68a1986e54eb4c57a8007}{fdt\-\_\-move} (const void $\ast$fdt, void $\ast$buf, int bufsize)
\item 
int \hyperlink{libfdt_8h_a9dc21cc097687bcc05c5f536d2313a10}{fdt\-\_\-check\-\_\-full} (const void $\ast$fdt, size\-\_\-t bufsize)
\item 
const char $\ast$ \hyperlink{libfdt_8h_a394c6c241f569f12b5b1f350dfb745ea}{fdt\-\_\-get\-\_\-string} (const void $\ast$fdt, int stroffset, int $\ast$lenp)
\item 
const char $\ast$ \hyperlink{libfdt_8h_a5ccdba67e9d56872ef16dcbd405da94a}{fdt\-\_\-string} (const void $\ast$fdt, int stroffset)
\item 
int \hyperlink{libfdt_8h_a57fbf6be8c4911e8448942b9fed97301}{fdt\-\_\-find\-\_\-max\-\_\-phandle} (const void $\ast$fdt, \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} $\ast$phandle)
\item 
static \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} \hyperlink{libfdt_8h_af3768f9827584e1ae0f09103dfb3c392}{fdt\-\_\-get\-\_\-max\-\_\-phandle} (const void $\ast$fdt)
\item 
int \hyperlink{libfdt_8h_a7ad648a7cf17f33659fb6cbb9545ce38}{fdt\-\_\-generate\-\_\-phandle} (const void $\ast$fdt, \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} $\ast$phandle)
\item 
int \hyperlink{libfdt_8h_a79fa5b76564c75c9fb00fe8ca3ba3eee}{fdt\-\_\-num\-\_\-mem\-\_\-rsv} (const void $\ast$fdt)
\item 
int \hyperlink{libfdt_8h_a4c50a267dcbd5c24256040e5c60362e6}{fdt\-\_\-get\-\_\-mem\-\_\-rsv} (const void $\ast$fdt, int n, \hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} $\ast$address, \hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} $\ast$size)
\end{DoxyCompactItemize}
\begin{Indent}{\bf \-: name of the property to find}\par
{\em fdt\-\_\-getprop -\/ retrieve the value of a given property \-: pointer to the device tree blob \-: offset of the node whose property to find

\-: pointer to an integer variable (will be overwritten) or N\-U\-L\-L

\hyperlink{fdt__ro_8c_a0a72997fe1eb5a57885bbb988256d08f}{fdt\-\_\-getprop()} retrieves a pointer to the value of the property named }\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structfdt__property}{fdt\-\_\-property} $\ast$ \hyperlink{libfdt_8h_ab160a2065f835fb029a3e27f896126e4}{fdt\-\_\-get\-\_\-property\-\_\-namelen} (const void $\ast$fdt, int nodeoffset, const char $\ast$name, int namelen, int $\ast$lenp)
\item 
struct \hyperlink{structfdt__property}{fdt\-\_\-property} $\ast$ \hyperlink{libfdt_8h_a7f394390ede4870838765689941c6e3c}{fdt\-\_\-get\-\_\-property} (const void $\ast$fdt, int nodeoffset, const char $\ast$name, int $\ast$lenp)
\item 
static struct \hyperlink{structfdt__property}{fdt\-\_\-property} $\ast$ \hyperlink{libfdt_8h_a3ef3cd199863ded58e473a71ebdd478c}{fdt\-\_\-get\-\_\-property\-\_\-w} (void $\ast$fdt, int nodeoffset, const char $\ast$name, int $\ast$lenp)
\item 
const void $\ast$ \hyperlink{libfdt_8h_a631207472dcddda9470f5791260da0fd}{fdt\-\_\-getprop\-\_\-by\-\_\-offset} (const void $\ast$fdt, int offset, const char $\ast$$\ast$namep, int $\ast$lenp)
\item 
const void $\ast$ \hyperlink{libfdt_8h_af06aa67642c5e97ec636619a4ac3f19a}{fdt\-\_\-getprop\-\_\-namelen} (const void $\ast$fdt, int nodeoffset, const char $\ast$name, int namelen, int $\ast$lenp)
\item 
static void $\ast$ \hyperlink{libfdt_8h_a2d633fbf4ecff743e2a869a80e330ed6}{fdt\-\_\-getprop\-\_\-namelen\-\_\-w} (void $\ast$fdt, int nodeoffset, const char $\ast$name, int namelen, int $\ast$lenp)
\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf of the node at offset @nodeoffset (this will be a}\par
{\em pointer to within the device blob itself, not a copy of the value). If  is non-\/\-N\-U\-L\-L, the length of the property value is also returned, in the integer pointed to by .

returns\-: pointer to the property's value if lenp is non-\/\-N\-U\-L\-L, $\ast$lenp contains the length of the property value ($>$=0) N\-U\-L\-L, on error if lenp is non-\/\-N\-U\-L\-L, $\ast$lenp contains an error code ($<$0)\-: -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, node does not have named property -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset did not point to F\-D\-T\-\_\-\-B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings }\begin{DoxyCompactItemize}
\item 
const void $\ast$ \hyperlink{libfdt_8h_a0a72997fe1eb5a57885bbb988256d08f}{fdt\-\_\-getprop} (const void $\ast$fdt, int nodeoffset, const char $\ast$name, int $\ast$lenp)
\item 
static void $\ast$ \hyperlink{libfdt_8h_a5f92f335859a2a12ea2aeffb171dca5b}{fdt\-\_\-getprop\-\_\-w} (void $\ast$fdt, int nodeoffset, const char $\ast$name, int $\ast$lenp)
\item 
\hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} \hyperlink{libfdt_8h_a0689bb9f27bdaaa355855425b4eb7149}{fdt\-\_\-get\-\_\-phandle} (const void $\ast$fdt, int nodeoffset)
\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf , if it exists,}\par
{\em N\-U\-L\-L otherwise }\begin{DoxyCompactItemize}
\item 
const char $\ast$ \hyperlink{libfdt_8h_a1446c9a325c1348d88007632675f2641}{fdt\-\_\-get\-\_\-alias\-\_\-namelen} (const void $\ast$fdt, const char $\ast$name, int namelen)
\item 
const char $\ast$ \hyperlink{libfdt_8h_ab6e268a7c7fef650ee0c08f7010ae914}{fdt\-\_\-get\-\_\-symbol\-\_\-namelen} (const void $\ast$fdt, const char $\ast$name, int namelen)
\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf in the node /aliases.}\par
{\em returns\-: a pointer to the expansion of the alias named 'name', if it exists N\-U\-L\-L, if the given alias or the /aliases node does not exist }\begin{DoxyCompactItemize}
\item 
const char $\ast$ \hyperlink{libfdt_8h_af65ebffdb681288cefa41db5ad41d1fe}{fdt\-\_\-get\-\_\-alias} (const void $\ast$fdt, const char $\ast$name)
\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf \-: name of the property to change the value of}\par
{\em fdt\-\_\-setprop\-\_\-inplace\-\_\-cell -\/ change the value of a single-\/cell property \-: pointer to the device tree blob \-: offset of the node containing the property

\-: new value of the 32-\/bit cell

This is an alternative name for \hyperlink{libfdt_8h_aa0ff5bdd0d38a77ffe25261c971d29a3}{fdt\-\_\-setprop\-\_\-inplace\-\_\-u32()} Return\-: 0 on success, negative libfdt error number otherwise. }\begin{DoxyCompactItemize}
\item 
static int \hyperlink{libfdt_8h_a39b5ae524f587a5b8296d46f6595845e}{fdt\-\_\-setprop\-\_\-inplace\-\_\-cell} (void $\ast$fdt, int nodeoffset, const char $\ast$name, \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} val)
\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf \-: name to give the node}\par
{\em fdt\-\_\-set\-\_\-name -\/ change the name of a given node \-: pointer to the device tree blob \-: structure block offset of a node

\hyperlink{fdt__rw_8c_ada21790bc118086b5bfadd815379ecd9}{fdt\-\_\-set\-\_\-name()} replaces the name (including unit address, if any) of the given node with the given string. N\-O\-T\-E\-: this function can't efficiently check if the new name is unique amongst the given node's siblings; results are undefined if this function is invoked with a name equal to one of the given node's siblings.

This function may insert or delete data from the blob, and will therefore change the offsets of some existing nodes.

returns\-: 0, on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, there is insufficient free space in the blob to contain the new name -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset did not point to F\-D\-T\-\_\-\-B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, standard meanings }\begin{DoxyCompactItemize}
\item 
int \hyperlink{libfdt_8h_ada21790bc118086b5bfadd815379ecd9}{fdt\-\_\-set\-\_\-name} (void $\ast$fdt, int nodeoffset, const char $\ast$name)
\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf \-: name of the property to append to}\par
{\em fdt\-\_\-appendprop -\/ append to or create a property \-: pointer to the device tree blob \-: offset of the node whose property to change

\-: pointer to data to append to the property value \-: length of the data to append to the property value

\hyperlink{fdt__rw_8c_a26f2518e2c64f013069c613bee7a83a3}{fdt\-\_\-appendprop()} appends the value to the named property in the given node, creating the property if it does not already exist.

This function may insert data into the blob, and will therefore change the offsets of some existing nodes.

returns\-: 0, on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, there is insufficient free space in the blob to contain the new property value -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset did not point to F\-D\-T\-\_\-\-B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings }\begin{DoxyCompactItemize}
\item 
int \hyperlink{libfdt_8h_a26f2518e2c64f013069c613bee7a83a3}{fdt\-\_\-appendprop} (void $\ast$fdt, int nodeoffset, const char $\ast$name, const void $\ast$val, int len)
\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf \-: name of property}\par
{\em fdt\-\_\-appendprop\-\_\-addrrange -\/ append a address range property \-: pointer to the device tree blob \-: offset of the parent node \-: offset of the node to add a property at

\-: start address of a given range \-: size of a given range

\hyperlink{fdt__addresses_8c_a6039a3956086acc2caa68458393f3825}{fdt\-\_\-appendprop\-\_\-addrrange()} appends an address range value (start address and size) to the value of the named property in the given node, or creates a new property with that value if it does not already exist. If \char`\"{}name\char`\"{} is not specified, a default \char`\"{}reg\char`\"{} is used. Cell sizes are determined by parent's \#address-\/cells and \#size-\/cells.

This function may insert data into the blob, and will therefore change the offsets of some existing nodes.

returns\-: 0, on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-N\-C\-E\-L\-L\-S, if the node has a badly formatted or invalid \#address-\/cells property -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset did not point to F\-D\-T\-\_\-\-B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-A\-L\-U\-E, addr or size doesn't fit to respective cells size -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, there is insufficient free space in the blob to contain a new property -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings }\begin{DoxyCompactItemize}
\item 
int \hyperlink{libfdt_8h_a6039a3956086acc2caa68458393f3825}{fdt\-\_\-appendprop\-\_\-addrrange} (void $\ast$fdt, int parent, int nodeoffset, const char $\ast$name, \hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} addr, \hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} size)
\end{DoxyCompactItemize}
\end{Indent}
\begin{Indent}{\bf as the name of the new node. This is useful for}\par
{\em creating subnodes based on a portion of a larger string, such as a full path.

Return\-: structure block offset of the created subnode ($>$=0), negative libfdt error value otherwise }\begin{DoxyCompactItemize}
\item 
int \hyperlink{libfdt_8h_a9ec78ea0fd08982a50310216ff295747}{fdt\-\_\-add\-\_\-subnode\-\_\-namelen} (void $\ast$fdt, int parentoffset, const char $\ast$name, int namelen)
\end{DoxyCompactItemize}
\end{Indent}
\subsection*{\-: name of the subnode to locate}
\label{_amgrp818bcd47171e451ae5d404c31b1f5b95}%
fdt\-\_\-add\-\_\-subnode -\/ creates a new node \-: pointer to the device tree blob \-: structure block offset of a node

\hyperlink{fdt__rw_8c_a006872c92462f1a3c962192df483600c}{fdt\-\_\-add\-\_\-subnode()} creates a new node as a subnode of the node at structure block offset parentoffset, with the given name (which should include the unit address, if any).

This function will insert data into the blob, and will therefore change the offsets of some existing nodes.

returns\-: structure block offset of the created nodeequested subnode ($>$=0), on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, if the requested subnode does not exist -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, if parentoffset did not point to an F\-D\-T\-\_\-\-B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-E\-X\-I\-S\-T\-S, if the node at parentoffset already has a subnode of the given name -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, if there is insufficient free space in the blob to contain the new node -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings. \begin{DoxyCompactItemize}
\item 
\#define \hyperlink{libfdt_8h_ad994c33538d83be1383d449ed336803a}{fdt\-\_\-for\-\_\-each\-\_\-property\-\_\-offset}(property, fdt, node)
\item 
int \hyperlink{libfdt_8h_a92756de14074ac915bd5b1056453e04c}{fdt\-\_\-subnode\-\_\-offset\-\_\-namelen} (const void $\ast$fdt, int parentoffset, const char $\ast$name, int namelen)
\item 
int \hyperlink{libfdt_8h_a22dd90f8bea25063fe0debae7683eb02}{fdt\-\_\-subnode\-\_\-offset} (const void $\ast$fdt, int parentoffset, const char $\ast$name)
\item 
int \hyperlink{libfdt_8h_aa8b4d143366fc7d443f47c1c92a8f8cc}{fdt\-\_\-path\-\_\-offset\-\_\-namelen} (const void $\ast$fdt, const char $\ast$path, int namelen)
\item 
int \hyperlink{libfdt_8h_a222c01ef0a514a4cf7586f6de8b17072}{fdt\-\_\-path\-\_\-offset} (const void $\ast$fdt, const char $\ast$path)
\item 
const char $\ast$ \hyperlink{libfdt_8h_ac564aade4959681f30ee68200e0ba5c5}{fdt\-\_\-get\-\_\-name} (const void $\ast$fdt, int nodeoffset, int $\ast$lenp)
\item 
int \hyperlink{libfdt_8h_aba2e2271df9d7cbcbb6ac633bd169bcf}{fdt\-\_\-first\-\_\-property\-\_\-offset} (const void $\ast$fdt, int nodeoffset)
\item 
int \hyperlink{libfdt_8h_ad17c7077eebb6668f09aadda1f6c8fb2}{fdt\-\_\-next\-\_\-property\-\_\-offset} (const void $\ast$fdt, int offset)
\item 
struct \hyperlink{structfdt__property}{fdt\-\_\-property} $\ast$ \hyperlink{libfdt_8h_a7de37480221a0d3381830233027d32bd}{fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset} (const void $\ast$fdt, int offset, int $\ast$lenp)
\item 
static struct \hyperlink{structfdt__property}{fdt\-\_\-property} $\ast$ \hyperlink{libfdt_8h_aa405faccea84b86b687e6db83befd2dd}{fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset\-\_\-w} (void $\ast$fdt, int offset, int $\ast$lenp)
\item 
int \hyperlink{libfdt_8h_a006872c92462f1a3c962192df483600c}{fdt\-\_\-add\-\_\-subnode} (void $\ast$fdt, int parentoffset, const char $\ast$name)
\item 
int \hyperlink{libfdt_8h_ad67005f5936eebeb182e55d5f36e9f85}{fdt\-\_\-del\-\_\-node} (void $\ast$fdt, int nodeoffset)
\item 
int \hyperlink{libfdt_8h_ad0fcb152428382bde7f034cdadfe923e}{fdt\-\_\-overlay\-\_\-apply} (void $\ast$fdt, void $\ast$fdto)
\item 
int \hyperlink{libfdt_8h_aa155e9207e65bc6c432c40e301485af5}{fdt\-\_\-overlay\-\_\-target\-\_\-offset} (const void $\ast$fdt, const void $\ast$fdto, int fragment\-\_\-offset, char const $\ast$$\ast$pathp)
\item 
const char $\ast$ \hyperlink{libfdt_8h_a50813a1a70923f23f61c5b617bc6ed68}{fdt\-\_\-strerror} (int errval)
\end{DoxyCompactItemize}
\subsection*{in the node}
\label{_amgrp86f69b3f54a03ec258ef356ca8b0e6da}%
/\-\_\-\-\_\-symbols\-\_\-\-\_\-. Such a node exists only for a device tree blob that has been compiled with the -\/@ dtc option. Each property corresponds to a label appearing in the device tree source, with the name of the property being the label and the value being the full path of the node it is attached to.

returns\-: a pointer to the expansion of the symbol named 'name', if it exists N\-U\-L\-L, if the given symbol or the /\-\_\-\-\_\-symbols\-\_\-\-\_\- node does not exist \begin{DoxyCompactItemize}
\item 
\#define \hyperlink{libfdt_8h_a69cac5a5447cfd945064ef3da50e8b6d}{F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-N\-C\-E\-L\-L\-S}~4
\item 
const char $\ast$ \hyperlink{libfdt_8h_a9d7a5c166e18e81722839c0b5a0541ee}{fdt\-\_\-get\-\_\-symbol} (const void $\ast$fdt, const char $\ast$name)
\item 
int \hyperlink{libfdt_8h_a7b25d4bc3dd83403a39ef84b8a362bd5}{fdt\-\_\-get\-\_\-path} (const void $\ast$fdt, int nodeoffset, char $\ast$buf, int buflen)
\item 
int \hyperlink{libfdt_8h_a6c960d975c6644172ccc71fc2c48dbb4}{fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset} (const void $\ast$fdt, int nodeoffset, int supernodedepth, int $\ast$nodedepth)
\item 
int \hyperlink{libfdt_8h_a2c0d12a5988128f0b674d4ec24b709d8}{fdt\-\_\-node\-\_\-depth} (const void $\ast$fdt, int nodeoffset)
\item 
int \hyperlink{libfdt_8h_a2b518dbd88cb783a9bffa1680ab297f9}{fdt\-\_\-parent\-\_\-offset} (const void $\ast$fdt, int nodeoffset)
\item 
int \hyperlink{libfdt_8h_a99d317b082102ce9a3eea47e86ab5757}{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-prop\-\_\-value} (const void $\ast$fdt, int startoffset, const char $\ast$propname, const void $\ast$propval, int proplen)
\item 
int \hyperlink{libfdt_8h_a4ff6571f3fe2fa89cfd6dc15f52eaf1e}{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-phandle} (const void $\ast$fdt, \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} phandle)
\item 
int \hyperlink{libfdt_8h_ade07583ac432de46013acb3a07eca7be}{fdt\-\_\-node\-\_\-check\-\_\-compatible} (const void $\ast$fdt, int nodeoffset, const char $\ast$compatible)
\item 
int \hyperlink{libfdt_8h_a7fee20e876e2af4dd32e987c6c8f104a}{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-compatible} (const void $\ast$fdt, int startoffset, const char $\ast$compatible)
\item 
int \hyperlink{libfdt_8h_a2492648af0491398295fac892cb8b758}{fdt\-\_\-stringlist\-\_\-contains} (const char $\ast$strlist, int listlen, const char $\ast$str)
\item 
int \hyperlink{libfdt_8h_a9d33c2ffed049f4f1c60ffef7b66fba4}{fdt\-\_\-stringlist\-\_\-count} (const void $\ast$fdt, int nodeoffset, const char $\ast$property)
\item 
int \hyperlink{libfdt_8h_a13feaf7df3d4cc7d7927d78af31dba3e}{fdt\-\_\-stringlist\-\_\-search} (const void $\ast$fdt, int nodeoffset, const char $\ast$property, const char $\ast$string)
\item 
const char $\ast$ \hyperlink{libfdt_8h_a8b3166c9a8a7248f7e6fe383a80f2488}{fdt\-\_\-stringlist\-\_\-get} (const void $\ast$fdt, int nodeoffset, const char $\ast$property, int index, int $\ast$lenp)
\item 
int \hyperlink{libfdt_8h_abc8a070eb5c099eb1718f45134a0915e}{fdt\-\_\-address\-\_\-cells} (const void $\ast$fdt, int nodeoffset)
\item 
int \hyperlink{libfdt_8h_a314966b6182211c6d38cc90748c3234b}{fdt\-\_\-size\-\_\-cells} (const void $\ast$fdt, int nodeoffset)
\end{DoxyCompactItemize}
\subsection*{\-: name of the property to change}
\label{_amgrp242e3828e2251e02325a99cd7ed0bcb3}%
fdt\-\_\-appendprop\-\_\-string -\/ append a string to a property \-: pointer to the device tree blob \-: offset of the node whose property to change

\-: string value to append to the property

\hyperlink{libfdt_8h_aa3e45fb11ddbadd86a15953abfd68f63}{fdt\-\_\-appendprop\-\_\-string()} appends the given string to the value of the named property in the given node, or creates a new property with that value if it does not already exist.

This function may insert data into the blob, and will therefore change the offsets of some existing nodes.

returns\-: 0, on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, there is insufficient free space in the blob to contain the new property value -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset did not point to F\-D\-T\-\_\-\-B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings \begin{DoxyCompactItemize}
\item 
\#define \hyperlink{libfdt_8h_adc54252a52b14e31c6b0dbed83532145}{fdt\-\_\-setprop\-\_\-string}(fdt, nodeoffset, name, str)~\hyperlink{libfdt_8h_ae9e3e4d33edd50404838414b8f36d158}{fdt\-\_\-setprop}((fdt), (nodeoffset), (name), (str), \hyperlink{cstd_8h_a54684bded3e61e2d78d490650f9b706a}{strlen}(str)+1)
\item 
\#define \hyperlink{libfdt_8h_a021365dcc40a96abf29dc6ac3f6e59b4}{fdt\-\_\-setprop\-\_\-empty}(fdt, nodeoffset, name)~\hyperlink{libfdt_8h_ae9e3e4d33edd50404838414b8f36d158}{fdt\-\_\-setprop}((fdt), (nodeoffset), (name), \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{N\-U\-L\-L}, 0)
\item 
\#define \hyperlink{libfdt_8h_aa3e45fb11ddbadd86a15953abfd68f63}{fdt\-\_\-appendprop\-\_\-string}(fdt, nodeoffset, name, str)~\hyperlink{libfdt_8h_a26f2518e2c64f013069c613bee7a83a3}{fdt\-\_\-appendprop}((fdt), (nodeoffset), (name), (str), \hyperlink{cstd_8h_a54684bded3e61e2d78d490650f9b706a}{strlen}(str)+1)
\item 
int \hyperlink{libfdt_8h_ad2d3b0ed8c78b7ca920550656dca6cf9}{fdt\-\_\-setprop\-\_\-inplace\-\_\-namelen\-\_\-partial} (void $\ast$fdt, int nodeoffset, const char $\ast$name, int namelen, \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} idx, const void $\ast$val, int len)
\item 
int \hyperlink{libfdt_8h_a6943ff251ae8c4ffea474788215965a1}{fdt\-\_\-setprop\-\_\-inplace} (void $\ast$fdt, int nodeoffset, const char $\ast$name, const void $\ast$val, int len)
\item 
static int \hyperlink{libfdt_8h_aa0ff5bdd0d38a77ffe25261c971d29a3}{fdt\-\_\-setprop\-\_\-inplace\-\_\-u32} (void $\ast$fdt, int nodeoffset, const char $\ast$name, \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} val)
\item 
static int \hyperlink{libfdt_8h_abae04fd5a0fd061f0717ce1671e79698}{fdt\-\_\-setprop\-\_\-inplace\-\_\-u64} (void $\ast$fdt, int nodeoffset, const char $\ast$name, \hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} val)
\item 
int \hyperlink{libfdt_8h_ae9e3e4d33edd50404838414b8f36d158}{fdt\-\_\-setprop} (void $\ast$fdt, int nodeoffset, const char $\ast$name, const void $\ast$val, int len)
\item 
int \hyperlink{libfdt_8h_a77ab6d302e50d04e373b0371ac56cc9a}{fdt\-\_\-setprop\-\_\-placeholder} (void $\ast$fdt, int nodeoffset, const char $\ast$name, int len, void $\ast$$\ast$prop\-\_\-data)
\item 
static int \hyperlink{libfdt_8h_a47a74244b419ad1a3f6586c3b86a013c}{fdt\-\_\-setprop\-\_\-u32} (void $\ast$fdt, int nodeoffset, const char $\ast$name, \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} val)
\item 
static int \hyperlink{libfdt_8h_a5cdff5ee217d23aee2cfade78050d82c}{fdt\-\_\-setprop\-\_\-u64} (void $\ast$fdt, int nodeoffset, const char $\ast$name, \hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} val)
\item 
static int \hyperlink{libfdt_8h_a2e1f923bfc1fc1be9604d526fcdabfbe}{fdt\-\_\-setprop\-\_\-cell} (void $\ast$fdt, int nodeoffset, const char $\ast$name, \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} val)
\item 
static int \hyperlink{libfdt_8h_a42f2688a9666e001a8155ebbbd96e559}{fdt\-\_\-appendprop\-\_\-u32} (void $\ast$fdt, int nodeoffset, const char $\ast$name, \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} val)
\item 
static int \hyperlink{libfdt_8h_ab72100c77d3ceda20da6a423156a2968}{fdt\-\_\-appendprop\-\_\-u64} (void $\ast$fdt, int nodeoffset, const char $\ast$name, \hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} val)
\item 
static int \hyperlink{libfdt_8h_a78cceaf72acd53f7f702848451ed3d22}{fdt\-\_\-appendprop\-\_\-cell} (void $\ast$fdt, int nodeoffset, const char $\ast$name, \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} val)
\end{DoxyCompactItemize}
\subsection*{\-: name of the property to nop}
\label{_amgrpc0e58ccd6f04a9f81f7d4051def3dbcd}%
fdt\-\_\-delprop -\/ delete a property \-: pointer to the device tree blob \-: offset of the node whose property to nop

fdt\-\_\-del\-\_\-property() will delete the given property.

This function will delete data from the blob, and will therefore change the offsets of some existing nodes.

returns\-: 0, on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, node does not have the named property -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset did not point to F\-D\-T\-\_\-\-B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings \begin{DoxyCompactItemize}
\item 
\#define \hyperlink{libfdt_8h_a439fad457c41818aa238dff416f284aa}{F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-\_\-\-N\-O\-\_\-\-N\-A\-M\-E\-\_\-\-D\-E\-D\-U\-P}~0x1
\item 
\#define \hyperlink{libfdt_8h_a3060ad51979d47143dd5390940c08474}{F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-S\-\_\-\-A\-L\-L}~(\hyperlink{libfdt_8h_a439fad457c41818aa238dff416f284aa}{F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-\_\-\-N\-O\-\_\-\-N\-A\-M\-E\-\_\-\-D\-E\-D\-U\-P})
\item 
int \hyperlink{libfdt_8h_acf3ba20475e7b94a8d31eac14ea7228d}{fdt\-\_\-nop\-\_\-property} (void $\ast$fdt, int nodeoffset, const char $\ast$name)
\item 
int \hyperlink{libfdt_8h_ac1b08e2054997c7e9814fc0b04acb305}{fdt\-\_\-nop\-\_\-node} (void $\ast$fdt, int nodeoffset)
\item 
int \hyperlink{libfdt_8h_a0c1636150835ef9be70997465df6d6e7}{fdt\-\_\-create\-\_\-with\-\_\-flags} (void $\ast$buf, int bufsize, \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} flags)
\item 
int \hyperlink{libfdt_8h_a4dc7458fd1035524255f34a9281f6531}{fdt\-\_\-create} (void $\ast$buf, int bufsize)
\item 
int \hyperlink{libfdt_8h_ac0274b125d712e01d9022bad43756c3c}{fdt\-\_\-resize} (void $\ast$fdt, void $\ast$buf, int bufsize)
\item 
int \hyperlink{libfdt_8h_aa19f8fdf0e1719f5f5f45d5301dba4d8}{fdt\-\_\-add\-\_\-reservemap\-\_\-entry} (void $\ast$fdt, \hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} addr, \hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} size)
\item 
int \hyperlink{libfdt_8h_a05d900f8144f846f0ccafbcf97c46078}{fdt\-\_\-finish\-\_\-reservemap} (void $\ast$fdt)
\item 
int \hyperlink{libfdt_8h_a70390d95f50f22e8c5c175c0922e5f56}{fdt\-\_\-begin\-\_\-node} (void $\ast$fdt, const char $\ast$name)
\item 
int \hyperlink{libfdt_8h_a525f92c0978941a45a4c3a32793266e4}{fdt\-\_\-property} (void $\ast$fdt, const char $\ast$name, const void $\ast$val, int len)
\item 
static int \hyperlink{libfdt_8h_ae176cf7ebbe070938c5881a26355dd74}{fdt\-\_\-property\-\_\-u32} (void $\ast$fdt, const char $\ast$name, \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} val)
\item 
static int \hyperlink{libfdt_8h_a4a3ec15864f83c6e84a03eec276ed8b7}{fdt\-\_\-property\-\_\-u64} (void $\ast$fdt, const char $\ast$name, \hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} val)
\item 
static int \hyperlink{libfdt_8h_adebd22ded4e3a8e4414cfd720332a8c6}{fdt\-\_\-property\-\_\-cell} (void $\ast$fdt, const char $\ast$name, \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\-\_\-t} val)
\item 
int \hyperlink{libfdt_8h_a60669f12d277c4c0cc25bba7b9c2d5c4}{fdt\-\_\-delprop} (void $\ast$fdt, int nodeoffset, const char $\ast$name)
\end{DoxyCompactItemize}
\subsection*{\-: name of property to add}
\label{_amgrp3b0970805250981672f9b61dfc83a67d}%
fdt\-\_\-property\-\_\-placeholder -\/ add a new property and return a ptr to its value

\-: pointer to the device tree blob

\-: length of property value in bytes \-: returns a pointer to where where the value should be placed

returns\-: 0, on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, standard meanings \begin{DoxyCompactItemize}
\item 
\#define \hyperlink{libfdt_8h_a64ff06f7a22f0c7a80f239429b0cf28c}{fdt\-\_\-property\-\_\-string}(fdt, name, str)~\hyperlink{structfdt__property}{fdt\-\_\-property}(fdt, name, str, \hyperlink{cstd_8h_a54684bded3e61e2d78d490650f9b706a}{strlen}(str)+1)
\item 
int \hyperlink{libfdt_8h_a9015fb704ccb78395d5995db76978821}{fdt\-\_\-property\-\_\-placeholder} (void $\ast$fdt, const char $\ast$name, int len, void $\ast$$\ast$valp)
\item 
int \hyperlink{libfdt_8h_ac806fe57ee0d47d0a8621fa82aa5414b}{fdt\-\_\-end\-\_\-node} (void $\ast$fdt)
\item 
int \hyperlink{libfdt_8h_a64e71b32a23ad494306c69b3cd4ba159}{fdt\-\_\-finish} (void $\ast$fdt)
\item 
int \hyperlink{libfdt_8h_abf455011fdab75e2f9df2c5437a04968}{fdt\-\_\-create\-\_\-empty\-\_\-tree} (void $\ast$buf, int bufsize)
\item 
int \hyperlink{libfdt_8h_aa493ca8c4e02dbfdc415e74115c794bb}{fdt\-\_\-open\-\_\-into} (const void $\ast$fdt, void $\ast$buf, int bufsize)
\item 
int \hyperlink{libfdt_8h_a994a93e82b34bfdaeeb8288551e6fa98}{fdt\-\_\-pack} (void $\ast$fdt)
\item 
int \hyperlink{libfdt_8h_a3c35dbaf4263ec1947046c1259f14cbb}{fdt\-\_\-add\-\_\-mem\-\_\-rsv} (void $\ast$fdt, \hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} address, \hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\-\_\-t} size)
\item 
int \hyperlink{libfdt_8h_a409d3f83af0304a896b32d8552c8669d}{fdt\-\_\-del\-\_\-mem\-\_\-rsv} (void $\ast$fdt, int n)
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\hypertarget{libfdt_8h_aa3e45fb11ddbadd86a15953abfd68f63}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-appendprop\-\_\-string@{fdt\-\_\-appendprop\-\_\-string}}
\index{fdt\-\_\-appendprop\-\_\-string@{fdt\-\_\-appendprop\-\_\-string}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-appendprop\-\_\-string}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-appendprop\-\_\-string(
\begin{DoxyParamCaption}
\item[{}]{fdt, }
\item[{}]{nodeoffset, }
\item[{}]{name, }
\item[{}]{str}
\end{DoxyParamCaption}
)~{\bf fdt\-\_\-appendprop}((fdt), (nodeoffset), (name), (str), {\bf strlen}(str)+1)}}\label{libfdt_8h_aa3e45fb11ddbadd86a15953abfd68f63}
\hypertarget{libfdt_8h_ad5f615bb04034e144f826b3a182ff985}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-boot\-\_\-cpuid\-\_\-phys@{fdt\-\_\-boot\-\_\-cpuid\-\_\-phys}}
\index{fdt\-\_\-boot\-\_\-cpuid\-\_\-phys@{fdt\-\_\-boot\-\_\-cpuid\-\_\-phys}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-boot\-\_\-cpuid\-\_\-phys}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-boot\-\_\-cpuid\-\_\-phys(
\begin{DoxyParamCaption}
\item[{}]{fdt}
\end{DoxyParamCaption}
)~({\bf fdt\-\_\-get\-\_\-header}(fdt, boot\-\_\-cpuid\-\_\-phys))}}\label{libfdt_8h_ad5f615bb04034e144f826b3a182ff985}


Referenced by fdt\-\_\-open\-\_\-into().

\hypertarget{libfdt_8h_a439fad457c41818aa238dff416f284aa}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-\_\-\-N\-O\-\_\-\-N\-A\-M\-E\-\_\-\-D\-E\-D\-U\-P@{F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-\_\-\-N\-O\-\_\-\-N\-A\-M\-E\-\_\-\-D\-E\-D\-U\-P}}
\index{F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-\_\-\-N\-O\-\_\-\-N\-A\-M\-E\-\_\-\-D\-E\-D\-U\-P@{F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-\_\-\-N\-O\-\_\-\-N\-A\-M\-E\-\_\-\-D\-E\-D\-U\-P}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-\_\-\-N\-O\-\_\-\-N\-A\-M\-E\-\_\-\-D\-E\-D\-U\-P}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-\_\-\-N\-O\-\_\-\-N\-A\-M\-E\-\_\-\-D\-E\-D\-U\-P~0x1}}\label{libfdt_8h_a439fad457c41818aa238dff416f284aa}


Referenced by fdt\-\_\-property\-\_\-placeholder().

\hypertarget{libfdt_8h_a3060ad51979d47143dd5390940c08474}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-S\-\_\-\-A\-L\-L@{F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-S\-\_\-\-A\-L\-L}}
\index{F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-S\-\_\-\-A\-L\-L@{F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-S\-\_\-\-A\-L\-L}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-S\-\_\-\-A\-L\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-S\-\_\-\-A\-L\-L~({\bf F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-\_\-\-N\-O\-\_\-\-N\-A\-M\-E\-\_\-\-D\-E\-D\-U\-P})}}\label{libfdt_8h_a3060ad51979d47143dd5390940c08474}


Referenced by fdt\-\_\-create\-\_\-with\-\_\-flags().

\hypertarget{libfdt_8h_a3700c1466eed663efeb8cfcfb68410e7}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-A\-L\-I\-G\-N\-M\-E\-N\-T@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-A\-L\-I\-G\-N\-M\-E\-N\-T}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-A\-L\-I\-G\-N\-M\-E\-N\-T@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-A\-L\-I\-G\-N\-M\-E\-N\-T}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-A\-L\-I\-G\-N\-M\-E\-N\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-A\-L\-I\-G\-N\-M\-E\-N\-T~19}}\label{libfdt_8h_a3700c1466eed663efeb8cfcfb68410e7}


Referenced by fdt\-\_\-check\-\_\-header(), and fdt\-\_\-ro\-\_\-probe\-\_\-().

\hypertarget{libfdt_8h_acdbe061469db63aa50b51afa59be2fcf}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-F\-L\-A\-G\-S@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-F\-L\-A\-G\-S}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-F\-L\-A\-G\-S@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-F\-L\-A\-G\-S}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-F\-L\-A\-G\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-F\-L\-A\-G\-S~18}}\label{libfdt_8h_acdbe061469db63aa50b51afa59be2fcf}


Referenced by fdt\-\_\-create\-\_\-with\-\_\-flags().

\hypertarget{libfdt_8h_ad698818ae8340bbadf1cbbb49e4c968d}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T~12}}\label{libfdt_8h_ad698818ae8340bbadf1cbbb49e4c968d}


Referenced by fdt\-\_\-rw\-\_\-probe\-\_\-().

\hypertarget{libfdt_8h_abb777d59bc55628f8736b2b6c799213b}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C~9}}\label{libfdt_8h_abb777d59bc55628f8736b2b6c799213b}


Referenced by fdt\-\_\-check\-\_\-header(), fdt\-\_\-ro\-\_\-probe\-\_\-(), and fdt\-\_\-sw\-\_\-probe\-\_\-().

\hypertarget{libfdt_8h_ac99b64a390af02e95d9236e5c1d03780}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-N\-C\-E\-L\-L\-S@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-N\-C\-E\-L\-L\-S}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-N\-C\-E\-L\-L\-S@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-N\-C\-E\-L\-L\-S}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-N\-C\-E\-L\-L\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-N\-C\-E\-L\-L\-S~14}}\label{libfdt_8h_ac99b64a390af02e95d9236e5c1d03780}


Referenced by fdt\-\_\-address\-\_\-cells(), fdt\-\_\-appendprop\-\_\-addrrange(), and fdt\-\_\-cells().

\hypertarget{libfdt_8h_a5025b6b09a009bd2b516e6a831d7ce72}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T~4}}\label{libfdt_8h_a5025b6b09a009bd2b516e6a831d7ce72}


Referenced by fdt\-\_\-check\-\_\-node\-\_\-offset\-\_\-(), fdt\-\_\-check\-\_\-prop\-\_\-offset\-\_\-(), fdt\-\_\-get\-\_\-mem\-\_\-rsv(), fdt\-\_\-get\-\_\-path(), fdt\-\_\-get\-\_\-string(), fdt\-\_\-splice\-\_\-(), and fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset().

\hypertarget{libfdt_8h_aa276d7f3088179b283530d41750ff5e4}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-V\-E\-R\-L\-A\-Y@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-V\-E\-R\-L\-A\-Y}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-V\-E\-R\-L\-A\-Y@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-V\-E\-R\-L\-A\-Y}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-V\-E\-R\-L\-A\-Y}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-V\-E\-R\-L\-A\-Y~16}}\label{libfdt_8h_aa276d7f3088179b283530d41750ff5e4}


Referenced by fdt\-\_\-overlay\-\_\-target\-\_\-offset(), overlay\-\_\-fixup\-\_\-one\-\_\-phandle(), overlay\-\_\-fixup\-\_\-phandle(), overlay\-\_\-symbol\-\_\-update(), and overlay\-\_\-update\-\_\-local\-\_\-node\-\_\-references().

\hypertarget{libfdt_8h_a2b7c103b35891f65523585a43b92a748}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-A\-T\-H@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-A\-T\-H}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-A\-T\-H@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-A\-T\-H}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-A\-T\-H}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-A\-T\-H~5}}\label{libfdt_8h_a2b7c103b35891f65523585a43b92a748}


Referenced by fdt\-\_\-path\-\_\-offset\-\_\-namelen().

\hypertarget{libfdt_8h_a0f264f8ba8cc4e98852c8246bc6312bc}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-H\-A\-N\-D\-L\-E@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-H\-A\-N\-D\-L\-E}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-H\-A\-N\-D\-L\-E@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-H\-A\-N\-D\-L\-E}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-H\-A\-N\-D\-L\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-H\-A\-N\-D\-L\-E~6}}\label{libfdt_8h_a0f264f8ba8cc4e98852c8246bc6312bc}


Referenced by fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-phandle(), fdt\-\_\-overlay\-\_\-target\-\_\-offset(), and overlay\-\_\-phandle\-\_\-add\-\_\-offset().

\hypertarget{libfdt_8h_a87f75249bba66fc5e21110e00a990a81}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E~7}}\label{libfdt_8h_a87f75249bba66fc5e21110e00a990a81}


Referenced by fdt\-\_\-ro\-\_\-probe\-\_\-(), fdt\-\_\-sw\-\_\-probe\-\_\-(), fdt\-\_\-sw\-\_\-probe\-\_\-memrsv\-\_\-(), and fdt\-\_\-sw\-\_\-probe\-\_\-struct\-\_\-().

\hypertarget{libfdt_8h_aef7e5f2183c72ef2b4698bb918d8f2f7}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E~11}}\label{libfdt_8h_aef7e5f2183c72ef2b4698bb918d8f2f7}


Referenced by fdt\-\_\-check\-\_\-full(), fdt\-\_\-get\-\_\-name(), fdt\-\_\-get\-\_\-path(), fdt\-\_\-next\-\_\-tag(), fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset(), and nextprop\-\_\-().

\hypertarget{libfdt_8h_a69e818556330b83a02de930b95216aa9}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-A\-L\-U\-E@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-A\-L\-U\-E}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-A\-L\-U\-E@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-A\-L\-U\-E}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-A\-L\-U\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-A\-L\-U\-E~15}}\label{libfdt_8h_a69e818556330b83a02de930b95216aa9}


Referenced by fdt\-\_\-appendprop\-\_\-addrrange(), fdt\-\_\-stringlist\-\_\-count(), fdt\-\_\-stringlist\-\_\-get(), fdt\-\_\-stringlist\-\_\-search(), and overlay\-\_\-symbol\-\_\-update().

\hypertarget{libfdt_8h_ad2a3b277a1e6987ead001fcd2415d88d}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N~10}}\label{libfdt_8h_ad2a3b277a1e6987ead001fcd2415d88d}


Referenced by fdt\-\_\-check\-\_\-header(), fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset(), fdt\-\_\-get\-\_\-property\-\_\-namelen(), fdt\-\_\-open\-\_\-into(), fdt\-\_\-ro\-\_\-probe\-\_\-(), and fdt\-\_\-rw\-\_\-probe\-\_\-().

\hypertarget{libfdt_8h_a26af70ef43c09fafd5eb29f10a09278a}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-E\-X\-I\-S\-T\-S@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-E\-X\-I\-S\-T\-S}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-E\-X\-I\-S\-T\-S@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-E\-X\-I\-S\-T\-S}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-E\-X\-I\-S\-T\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-E\-X\-I\-S\-T\-S~2}}\label{libfdt_8h_a26af70ef43c09fafd5eb29f10a09278a}


Referenced by fdt\-\_\-add\-\_\-subnode\-\_\-namelen(), and overlay\-\_\-apply\-\_\-node().

\hypertarget{libfdt_8h_a02625761a47e8012c53fb389dd25fadd}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-I\-N\-T\-E\-R\-N\-A\-L@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-I\-N\-T\-E\-R\-N\-A\-L}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-I\-N\-T\-E\-R\-N\-A\-L@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-I\-N\-T\-E\-R\-N\-A\-L}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-I\-N\-T\-E\-R\-N\-A\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-I\-N\-T\-E\-R\-N\-A\-L~13}}\label{libfdt_8h_a02625761a47e8012c53fb389dd25fadd}


Referenced by fdt\-\_\-add\-\_\-subnode\-\_\-namelen(), fdt\-\_\-check\-\_\-full(), fdt\-\_\-get\-\_\-property\-\_\-namelen\-\_\-(), fdt\-\_\-get\-\_\-string(), fdt\-\_\-node\-\_\-depth(), fdt\-\_\-resize(), fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset(), overlay\-\_\-apply\-\_\-node(), and overlay\-\_\-fixup\-\_\-phandle().

\hypertarget{libfdt_8h_a417a0f3083b9e164446262d59e89cd5a}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-M\-A\-X@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-M\-A\-X}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-M\-A\-X@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-M\-A\-X}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-M\-A\-X}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-M\-A\-X~19}}\label{libfdt_8h_a417a0f3083b9e164446262d59e89cd5a}
\hypertarget{libfdt_8h_a7dbda231b96112ab9cd6d2eca9b42bfb}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-P\-H\-A\-N\-D\-L\-E\-S@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-P\-H\-A\-N\-D\-L\-E\-S}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-P\-H\-A\-N\-D\-L\-E\-S@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-P\-H\-A\-N\-D\-L\-E\-S}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-P\-H\-A\-N\-D\-L\-E\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-P\-H\-A\-N\-D\-L\-E\-S~17}}\label{libfdt_8h_a7dbda231b96112ab9cd6d2eca9b42bfb}


Referenced by fdt\-\_\-generate\-\_\-phandle(), and overlay\-\_\-phandle\-\_\-add\-\_\-offset().

\hypertarget{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E~3}}\label{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}


Referenced by fdt\-\_\-add\-\_\-reservemap\-\_\-entry(), fdt\-\_\-begin\-\_\-node(), fdt\-\_\-create\-\_\-with\-\_\-flags(), fdt\-\_\-end\-\_\-node(), fdt\-\_\-finish(), fdt\-\_\-get\-\_\-path(), fdt\-\_\-move(), fdt\-\_\-open\-\_\-into(), fdt\-\_\-property\-\_\-placeholder(), fdt\-\_\-resize(), fdt\-\_\-setprop\-\_\-inplace(), fdt\-\_\-setprop\-\_\-inplace\-\_\-namelen\-\_\-partial(), fdt\-\_\-splice\-\_\-(), and overlay\-\_\-update\-\_\-local\-\_\-node\-\_\-references().

\hypertarget{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D~1}}\label{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}


Referenced by fdt\-\_\-add\-\_\-subnode\-\_\-namelen(), fdt\-\_\-address\-\_\-cells(), fdt\-\_\-del\-\_\-mem\-\_\-rsv(), fdt\-\_\-find\-\_\-max\-\_\-phandle(), fdt\-\_\-first\-\_\-subnode(), fdt\-\_\-get\-\_\-path(), fdt\-\_\-next\-\_\-node(), fdt\-\_\-next\-\_\-subnode(), fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-compatible(), fdt\-\_\-overlay\-\_\-target\-\_\-offset(), fdt\-\_\-setprop\-\_\-placeholder(), fdt\-\_\-size\-\_\-cells(), fdt\-\_\-stringlist\-\_\-get(), fdt\-\_\-stringlist\-\_\-search(), fdt\-\_\-subnode\-\_\-offset\-\_\-namelen(), fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset(), nextprop\-\_\-(), overlay\-\_\-adjust\-\_\-node\-\_\-phandles(), overlay\-\_\-apply\-\_\-node(), overlay\-\_\-fixup\-\_\-one\-\_\-phandle(), overlay\-\_\-fixup\-\_\-phandle(), overlay\-\_\-fixup\-\_\-phandles(), overlay\-\_\-merge(), overlay\-\_\-symbol\-\_\-update(), overlay\-\_\-update\-\_\-local\-\_\-node\-\_\-references(), overlay\-\_\-update\-\_\-local\-\_\-references(), soc\-\_\-dma\-\_\-init(), soc\-\_\-icu\-\_\-init(), soc\-\_\-timer\-\_\-init(), and soc\-\_\-tty\-\_\-init().

\hypertarget{libfdt_8h_a2b814a0775d93b5da1442fc091e49958}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D}}
\index{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D@{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D~8}}\label{libfdt_8h_a2b814a0775d93b5da1442fc091e49958}


Referenced by fdt\-\_\-check\-\_\-full(), fdt\-\_\-check\-\_\-header(), fdt\-\_\-get\-\_\-string(), fdt\-\_\-next\-\_\-node(), fdt\-\_\-next\-\_\-tag(), fdt\-\_\-num\-\_\-mem\-\_\-rsv(), and fdt\-\_\-ro\-\_\-probe\-\_\-().

\hypertarget{libfdt_8h_ab71fe9f2c75280cd75b42263dd2aa3f1}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-F\-I\-R\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N@{F\-D\-T\-\_\-\-F\-I\-R\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N}}
\index{F\-D\-T\-\_\-\-F\-I\-R\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N@{F\-D\-T\-\_\-\-F\-I\-R\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-F\-I\-R\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-F\-I\-R\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N~0x02}}\label{libfdt_8h_ab71fe9f2c75280cd75b42263dd2aa3f1}


Referenced by fdt\-\_\-check\-\_\-header(), and fdt\-\_\-ro\-\_\-probe\-\_\-().

\hypertarget{libfdt_8h_ad994c33538d83be1383d449ed336803a}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-for\-\_\-each\-\_\-property\-\_\-offset@{fdt\-\_\-for\-\_\-each\-\_\-property\-\_\-offset}}
\index{fdt\-\_\-for\-\_\-each\-\_\-property\-\_\-offset@{fdt\-\_\-for\-\_\-each\-\_\-property\-\_\-offset}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-for\-\_\-each\-\_\-property\-\_\-offset}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-for\-\_\-each\-\_\-property\-\_\-offset(
\begin{DoxyParamCaption}
\item[{}]{property, }
\item[{}]{fdt, }
\item[{}]{node}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ad994c33538d83be1383d449ed336803a}
{\bfseries Value\-:}
\begin{DoxyCode}
\textcolor{keywordflow}{for} (property = \hyperlink{fdt__ro_8c_aba2e2271df9d7cbcbb6ac633bd169bcf}{fdt\_first\_property\_offset}(fdt, node);  \(\backslash\)
         property >= 0;                 \(\backslash\)
         property = \hyperlink{fdt__ro_8c_ad17c7077eebb6668f09aadda1f6c8fb2}{fdt\_next\_property\_offset}(fdt, property))
\end{DoxyCode}


Referenced by overlay\-\_\-apply\-\_\-node(), overlay\-\_\-fixup\-\_\-phandles(), overlay\-\_\-symbol\-\_\-update(), and overlay\-\_\-update\-\_\-local\-\_\-node\-\_\-references().

\hypertarget{libfdt_8h_a7815aea6a1994b5fb035623a86e890a4}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-for\-\_\-each\-\_\-subnode@{fdt\-\_\-for\-\_\-each\-\_\-subnode}}
\index{fdt\-\_\-for\-\_\-each\-\_\-subnode@{fdt\-\_\-for\-\_\-each\-\_\-subnode}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-for\-\_\-each\-\_\-subnode}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-for\-\_\-each\-\_\-subnode(
\begin{DoxyParamCaption}
\item[{}]{node, }
\item[{}]{fdt, }
\item[{}]{parent}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a7815aea6a1994b5fb035623a86e890a4}
{\bfseries Value\-:}
\begin{DoxyCode}
\textcolor{keywordflow}{for} (node = \hyperlink{fdt_8c_a0c888491fbef3ded52e45ac4772ea02f}{fdt\_first\_subnode}(fdt, parent);    \(\backslash\)
         node >= 0;                 \(\backslash\)
         node = \hyperlink{fdt_8c_acc373b28d3daa598bc3aa9a131224773}{fdt\_next\_subnode}(fdt, node))
\end{DoxyCode}
fdt\-\_\-for\-\_\-each\-\_\-subnode -\/ iterate over all subnodes of a parent

\-: child node (int, lvalue) \-: F\-D\-T blob (const void $\ast$) \-: parent node (int)

This is actually a wrapper around a for loop and would be used like so\-:

\hyperlink{libfdt_8h_a7815aea6a1994b5fb035623a86e890a4}{fdt\-\_\-for\-\_\-each\-\_\-subnode(node, fdt, parent)} \{ Use node ... \}

if ((node $<$ 0) \&\& (node != -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D)) \{ Error handling \}

Note that this is implemented as a macro and  is used as iterator in the loop. The parent variable be constant or even a literal. 

Referenced by overlay\-\_\-adjust\-\_\-node\-\_\-phandles(), overlay\-\_\-apply\-\_\-node(), overlay\-\_\-merge(), and overlay\-\_\-update\-\_\-local\-\_\-node\-\_\-references().

\hypertarget{libfdt_8h_a0eaa7f32ec9d4c441e2e3d3c56bfc850}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-get\-\_\-header@{fdt\-\_\-get\-\_\-header}}
\index{fdt\-\_\-get\-\_\-header@{fdt\-\_\-get\-\_\-header}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-get\-\_\-header}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-get\-\_\-header(
\begin{DoxyParamCaption}
\item[{}]{fdt, }
\item[{}]{field}
\end{DoxyParamCaption}
)~({\bf fdt32\-\_\-ld}(\&((const struct {\bf fdt\-\_\-header} $\ast$)(fdt))-\/$>$field))}}\label{libfdt_8h_a0eaa7f32ec9d4c441e2e3d3c56bfc850}
\hypertarget{libfdt_8h_a6b64d727951727aa9464061496abc1e9}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-last\-\_\-comp\-\_\-version@{fdt\-\_\-last\-\_\-comp\-\_\-version}}
\index{fdt\-\_\-last\-\_\-comp\-\_\-version@{fdt\-\_\-last\-\_\-comp\-\_\-version}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-last\-\_\-comp\-\_\-version}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-last\-\_\-comp\-\_\-version(
\begin{DoxyParamCaption}
\item[{}]{fdt}
\end{DoxyParamCaption}
)~({\bf fdt\-\_\-get\-\_\-header}(fdt, last\-\_\-comp\-\_\-version))}}\label{libfdt_8h_a6b64d727951727aa9464061496abc1e9}


Referenced by fdt\-\_\-check\-\_\-header(), fdt\-\_\-ro\-\_\-probe\-\_\-(), and sw\-\_\-flags().

\hypertarget{libfdt_8h_a92dfcdf28c0695fc365661c3b3f2ce6a}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-C\-O\-M\-P\-A\-T\-I\-B\-L\-E\-\_\-\-V\-E\-R\-S\-I\-O\-N@{F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-C\-O\-M\-P\-A\-T\-I\-B\-L\-E\-\_\-\-V\-E\-R\-S\-I\-O\-N}}
\index{F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-C\-O\-M\-P\-A\-T\-I\-B\-L\-E\-\_\-\-V\-E\-R\-S\-I\-O\-N@{F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-C\-O\-M\-P\-A\-T\-I\-B\-L\-E\-\_\-\-V\-E\-R\-S\-I\-O\-N}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-C\-O\-M\-P\-A\-T\-I\-B\-L\-E\-\_\-\-V\-E\-R\-S\-I\-O\-N}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-C\-O\-M\-P\-A\-T\-I\-B\-L\-E\-\_\-\-V\-E\-R\-S\-I\-O\-N~0x10}}\label{libfdt_8h_a92dfcdf28c0695fc365661c3b3f2ce6a}


Referenced by fdt\-\_\-finish().

\hypertarget{libfdt_8h_a3d13a6bfa946b38c95d1c327d4139c22}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N@{F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N}}
\index{F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N@{F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N~0x11}}\label{libfdt_8h_a3d13a6bfa946b38c95d1c327d4139c22}


Referenced by fdt\-\_\-check\-\_\-header(), fdt\-\_\-create\-\_\-with\-\_\-flags(), and fdt\-\_\-ro\-\_\-probe\-\_\-().

\hypertarget{libfdt_8h_a783c67f6971d10232c84ecd0aa76f461}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-magic@{fdt\-\_\-magic}}
\index{fdt\-\_\-magic@{fdt\-\_\-magic}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-magic}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-magic(
\begin{DoxyParamCaption}
\item[{}]{fdt}
\end{DoxyParamCaption}
)~({\bf fdt\-\_\-get\-\_\-header}(fdt, magic))}}\label{libfdt_8h_a783c67f6971d10232c84ecd0aa76f461}


Referenced by fdt\-\_\-check\-\_\-header(), fdt\-\_\-get\-\_\-string(), fdt\-\_\-ro\-\_\-probe\-\_\-(), fdt\-\_\-sw\-\_\-probe\-\_\-(), and soc\-\_\-init().

\hypertarget{libfdt_8h_a69cac5a5447cfd945064ef3da50e8b6d}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-N\-C\-E\-L\-L\-S@{F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-N\-C\-E\-L\-L\-S}}
\index{F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-N\-C\-E\-L\-L\-S@{F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-N\-C\-E\-L\-L\-S}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-N\-C\-E\-L\-L\-S}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-N\-C\-E\-L\-L\-S~4}}\label{libfdt_8h_a69cac5a5447cfd945064ef3da50e8b6d}
F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-N\-C\-E\-L\-L\-S -\/ maximum value for \#address-\/cells and \#size-\/cells

This is the maximum value for \#address-\/cells, \#size-\/cells and similar properties that will be processed by libfdt. I\-E\-E1275 requires that O\-F implementations handle values up to 4. Implementations may support larger values, but in practice higher values aren't used. 

Referenced by fdt\-\_\-cells().

\hypertarget{libfdt_8h_adf35cab72ef2f580fb1263c2c4d4f33a}{\index{libfdt.\-h@{libfdt.\-h}!F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-P\-H\-A\-N\-D\-L\-E@{F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-P\-H\-A\-N\-D\-L\-E}}
\index{F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-P\-H\-A\-N\-D\-L\-E@{F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-P\-H\-A\-N\-D\-L\-E}!libfdt.h@{libfdt.\-h}}
\subsubsection[{F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-P\-H\-A\-N\-D\-L\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-P\-H\-A\-N\-D\-L\-E~0xfffffffe}}\label{libfdt_8h_adf35cab72ef2f580fb1263c2c4d4f33a}


Referenced by fdt\-\_\-generate\-\_\-phandle().

\hypertarget{libfdt_8h_a80994b6320a372f47942ac65f55c0d6c}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-off\-\_\-dt\-\_\-strings@{fdt\-\_\-off\-\_\-dt\-\_\-strings}}
\index{fdt\-\_\-off\-\_\-dt\-\_\-strings@{fdt\-\_\-off\-\_\-dt\-\_\-strings}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-off\-\_\-dt\-\_\-strings}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-off\-\_\-dt\-\_\-strings(
\begin{DoxyParamCaption}
\item[{}]{fdt}
\end{DoxyParamCaption}
)~({\bf fdt\-\_\-get\-\_\-header}(fdt, off\-\_\-dt\-\_\-strings))}}\label{libfdt_8h_a80994b6320a372f47942ac65f55c0d6c}


Referenced by fdt\-\_\-blocks\-\_\-misordered\-\_\-(), fdt\-\_\-check\-\_\-header(), fdt\-\_\-data\-\_\-size\-\_\-(), fdt\-\_\-find\-\_\-add\-\_\-string\-\_\-(), fdt\-\_\-get\-\_\-string(), fdt\-\_\-packblocks\-\_\-(), fdt\-\_\-resize(), fdt\-\_\-splice\-\_\-mem\-\_\-rsv\-\_\-(), fdt\-\_\-splice\-\_\-string\-\_\-(), fdt\-\_\-splice\-\_\-struct\-\_\-(), fdt\-\_\-sw\-\_\-probe\-\_\-memrsv\-\_\-(), and fdt\-\_\-sw\-\_\-probe\-\_\-struct\-\_\-().

\hypertarget{libfdt_8h_ae2ef3611d83ac29bb6de09594ead9969}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-off\-\_\-dt\-\_\-struct@{fdt\-\_\-off\-\_\-dt\-\_\-struct}}
\index{fdt\-\_\-off\-\_\-dt\-\_\-struct@{fdt\-\_\-off\-\_\-dt\-\_\-struct}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-off\-\_\-dt\-\_\-struct}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-off\-\_\-dt\-\_\-struct(
\begin{DoxyParamCaption}
\item[{}]{fdt}
\end{DoxyParamCaption}
)~({\bf fdt\-\_\-get\-\_\-header}(fdt, off\-\_\-dt\-\_\-struct))}}\label{libfdt_8h_ae2ef3611d83ac29bb6de09594ead9969}


Referenced by fdt\-\_\-add\-\_\-reservemap\-\_\-entry(), fdt\-\_\-add\-\_\-string\-\_\-(), fdt\-\_\-blocks\-\_\-misordered\-\_\-(), fdt\-\_\-check\-\_\-header(), fdt\-\_\-finish(), fdt\-\_\-grab\-\_\-space\-\_\-(), fdt\-\_\-offset\-\_\-ptr(), fdt\-\_\-offset\-\_\-ptr\-\_\-(), fdt\-\_\-packblocks\-\_\-(), fdt\-\_\-resize(), and fdt\-\_\-splice\-\_\-mem\-\_\-rsv\-\_\-().

\hypertarget{libfdt_8h_ad34e2939365df0a17061d177356b4e39}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-off\-\_\-mem\-\_\-rsvmap@{fdt\-\_\-off\-\_\-mem\-\_\-rsvmap}}
\index{fdt\-\_\-off\-\_\-mem\-\_\-rsvmap@{fdt\-\_\-off\-\_\-mem\-\_\-rsvmap}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-off\-\_\-mem\-\_\-rsvmap}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-off\-\_\-mem\-\_\-rsvmap(
\begin{DoxyParamCaption}
\item[{}]{fdt}
\end{DoxyParamCaption}
)~({\bf fdt\-\_\-get\-\_\-header}(fdt, off\-\_\-mem\-\_\-rsvmap))}}\label{libfdt_8h_ad34e2939365df0a17061d177356b4e39}


Referenced by fdt\-\_\-blocks\-\_\-misordered\-\_\-(), fdt\-\_\-check\-\_\-header(), fdt\-\_\-create\-\_\-with\-\_\-flags(), fdt\-\_\-mem\-\_\-rsv(), fdt\-\_\-mem\-\_\-rsv\-\_\-(), and fdt\-\_\-packblocks\-\_\-().

\hypertarget{libfdt_8h_a64ff06f7a22f0c7a80f239429b0cf28c}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-property\-\_\-string@{fdt\-\_\-property\-\_\-string}}
\index{fdt\-\_\-property\-\_\-string@{fdt\-\_\-property\-\_\-string}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-property\-\_\-string}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-property\-\_\-string(
\begin{DoxyParamCaption}
\item[{}]{fdt, }
\item[{}]{name, }
\item[{}]{str}
\end{DoxyParamCaption}
)~{\bf fdt\-\_\-property}(fdt, name, str, {\bf strlen}(str)+1)}}\label{libfdt_8h_a64ff06f7a22f0c7a80f239429b0cf28c}
\hypertarget{libfdt_8h_ab7e83b84813fe33ea9f6841f7169887a}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}}
\index{fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-set\-\_\-hdr\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-set\-\_\-hdr\-\_\-(
\begin{DoxyParamCaption}
\item[{}]{name}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ab7e83b84813fe33ea9f6841f7169887a}
{\bfseries Value\-:}
\begin{DoxyCode}
\textcolor{keyword}{static} \textcolor{keyword}{inline} \textcolor{keywordtype}{void} fdt\_set\_##name(\textcolor{keywordtype}{void} *fdt, \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t} val) \(\backslash\)
    \{ \(\backslash\)
        struct \hyperlink{structfdt__header}{fdt\_header} *fdth = (\textcolor{keyword}{struct }\hyperlink{structfdt__header}{fdt\_header} *)fdt; \(\backslash\)
        fdth->name = \hyperlink{libfdt__env_8h_a06ce41f441b8a56710000af3c3e516e5}{cpu\_to\_fdt32}(val); \(\backslash\)
    \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a021365dcc40a96abf29dc6ac3f6e59b4}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-setprop\-\_\-empty@{fdt\-\_\-setprop\-\_\-empty}}
\index{fdt\-\_\-setprop\-\_\-empty@{fdt\-\_\-setprop\-\_\-empty}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-setprop\-\_\-empty}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-setprop\-\_\-empty(
\begin{DoxyParamCaption}
\item[{}]{fdt, }
\item[{}]{nodeoffset, }
\item[{}]{name}
\end{DoxyParamCaption}
)~{\bf fdt\-\_\-setprop}((fdt), (nodeoffset), (name), {\bf N\-U\-L\-L}, 0)}}\label{libfdt_8h_a021365dcc40a96abf29dc6ac3f6e59b4}
\hypertarget{libfdt_8h_adc54252a52b14e31c6b0dbed83532145}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-setprop\-\_\-string@{fdt\-\_\-setprop\-\_\-string}}
\index{fdt\-\_\-setprop\-\_\-string@{fdt\-\_\-setprop\-\_\-string}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-setprop\-\_\-string}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-setprop\-\_\-string(
\begin{DoxyParamCaption}
\item[{}]{fdt, }
\item[{}]{nodeoffset, }
\item[{}]{name, }
\item[{}]{str}
\end{DoxyParamCaption}
)~{\bf fdt\-\_\-setprop}((fdt), (nodeoffset), (name), (str), {\bf strlen}(str)+1)}}\label{libfdt_8h_adc54252a52b14e31c6b0dbed83532145}
\hypertarget{libfdt_8h_aa0748803d707f2be7d15ebfb815d31b4}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-size\-\_\-dt\-\_\-strings@{fdt\-\_\-size\-\_\-dt\-\_\-strings}}
\index{fdt\-\_\-size\-\_\-dt\-\_\-strings@{fdt\-\_\-size\-\_\-dt\-\_\-strings}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-size\-\_\-dt\-\_\-strings}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-size\-\_\-dt\-\_\-strings(
\begin{DoxyParamCaption}
\item[{}]{fdt}
\end{DoxyParamCaption}
)~({\bf fdt\-\_\-get\-\_\-header}(fdt, size\-\_\-dt\-\_\-strings))}}\label{libfdt_8h_aa0748803d707f2be7d15ebfb815d31b4}


Referenced by fdt\-\_\-add\-\_\-string\-\_\-(), fdt\-\_\-blocks\-\_\-misordered\-\_\-(), fdt\-\_\-check\-\_\-header(), fdt\-\_\-data\-\_\-size\-\_\-(), fdt\-\_\-del\-\_\-last\-\_\-string\-\_\-(), fdt\-\_\-find\-\_\-add\-\_\-string\-\_\-(), fdt\-\_\-finish(), fdt\-\_\-get\-\_\-string(), fdt\-\_\-grab\-\_\-space\-\_\-(), fdt\-\_\-open\-\_\-into(), fdt\-\_\-pack(), fdt\-\_\-packblocks\-\_\-(), fdt\-\_\-resize(), and fdt\-\_\-splice\-\_\-string\-\_\-().

\hypertarget{libfdt_8h_a73b5fa0a791f02805b93ea70c6cb30ab}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-size\-\_\-dt\-\_\-struct@{fdt\-\_\-size\-\_\-dt\-\_\-struct}}
\index{fdt\-\_\-size\-\_\-dt\-\_\-struct@{fdt\-\_\-size\-\_\-dt\-\_\-struct}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-size\-\_\-dt\-\_\-struct}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-size\-\_\-dt\-\_\-struct(
\begin{DoxyParamCaption}
\item[{}]{fdt}
\end{DoxyParamCaption}
)~({\bf fdt\-\_\-get\-\_\-header}(fdt, size\-\_\-dt\-\_\-struct))}}\label{libfdt_8h_a73b5fa0a791f02805b93ea70c6cb30ab}


Referenced by fdt\-\_\-add\-\_\-string\-\_\-(), fdt\-\_\-check\-\_\-header(), fdt\-\_\-finish(), fdt\-\_\-grab\-\_\-space\-\_\-(), fdt\-\_\-offset\-\_\-ptr(), fdt\-\_\-open\-\_\-into(), fdt\-\_\-pack(), fdt\-\_\-resize(), fdt\-\_\-ro\-\_\-probe\-\_\-(), fdt\-\_\-rw\-\_\-probe\-\_\-(), and fdt\-\_\-splice\-\_\-struct\-\_\-().

\hypertarget{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-totalsize@{fdt\-\_\-totalsize}}
\index{fdt\-\_\-totalsize@{fdt\-\_\-totalsize}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-totalsize}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-totalsize(
\begin{DoxyParamCaption}
\item[{}]{fdt}
\end{DoxyParamCaption}
)~({\bf fdt\-\_\-get\-\_\-header}(fdt, totalsize))}}\label{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}


Referenced by fdt\-\_\-add\-\_\-reservemap\-\_\-entry(), fdt\-\_\-add\-\_\-string\-\_\-(), fdt\-\_\-blocks\-\_\-misordered\-\_\-(), fdt\-\_\-check\-\_\-full(), fdt\-\_\-check\-\_\-header(), fdt\-\_\-find\-\_\-add\-\_\-string\-\_\-(), fdt\-\_\-finish(), fdt\-\_\-finish\-\_\-reservemap(), fdt\-\_\-grab\-\_\-space\-\_\-(), fdt\-\_\-mem\-\_\-rsv(), fdt\-\_\-move(), fdt\-\_\-offset\-\_\-ptr(), fdt\-\_\-open\-\_\-into(), fdt\-\_\-resize(), fdt\-\_\-ro\-\_\-probe\-\_\-(), fdt\-\_\-splice\-\_\-(), and fdt\-\_\-sw\-\_\-probe\-\_\-struct\-\_\-().

\hypertarget{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-version@{fdt\-\_\-version}}
\index{fdt\-\_\-version@{fdt\-\_\-version}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-version}]{\setlength{\rightskip}{0pt plus 5cm}\#define fdt\-\_\-version(
\begin{DoxyParamCaption}
\item[{}]{fdt}
\end{DoxyParamCaption}
)~({\bf fdt\-\_\-get\-\_\-header}(fdt, version))}}\label{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}


Referenced by fdt\-\_\-check\-\_\-header(), fdt\-\_\-get\-\_\-name(), fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset(), fdt\-\_\-get\-\_\-property\-\_\-namelen(), fdt\-\_\-get\-\_\-string(), fdt\-\_\-getprop\-\_\-by\-\_\-offset(), fdt\-\_\-getprop\-\_\-namelen(), fdt\-\_\-header\-\_\-size(), fdt\-\_\-next\-\_\-tag(), fdt\-\_\-offset\-\_\-ptr(), fdt\-\_\-open\-\_\-into(), fdt\-\_\-ro\-\_\-probe\-\_\-(), and fdt\-\_\-rw\-\_\-probe\-\_\-().



\subsection{Function Documentation}
\hypertarget{libfdt_8h_a04e654fe4dec975adf24eb4c8f0c8591}{\index{libfdt.\-h@{libfdt.\-h}!fdt16\-\_\-ld@{fdt16\-\_\-ld}}
\index{fdt16\-\_\-ld@{fdt16\-\_\-ld}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt16\-\_\-ld}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf uint16\-\_\-t} fdt16\-\_\-ld (
\begin{DoxyParamCaption}
\item[{const {\bf fdt16\-\_\-t} $\ast$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_a04e654fe4dec975adf24eb4c8f0c8591}

\begin{DoxyCode}
135 \{
136     \textcolor{keyword}{const} \hyperlink{libfdt__env_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *bp = (\textcolor{keyword}{const} \hyperlink{libfdt__env_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *)p;
137 
138     \textcolor{keywordflow}{return} ((\hyperlink{libfdt__env_8h_a273cf69d639a59973b6019625df33e30}{uint16\_t})bp[0] << 8) | bp[1];
139 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_abd0ba7fbc53ed7374a1f5c5c1db52420}{\index{libfdt.\-h@{libfdt.\-h}!fdt32\-\_\-ld@{fdt32\-\_\-ld}}
\index{fdt32\-\_\-ld@{fdt32\-\_\-ld}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt32\-\_\-ld}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf uint32\-\_\-t} fdt32\-\_\-ld (
\begin{DoxyParamCaption}
\item[{const {\bf fdt32\-\_\-t} $\ast$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_abd0ba7fbc53ed7374a1f5c5c1db52420}

\begin{DoxyCode}
142 \{
143     \textcolor{keyword}{const} \hyperlink{libfdt__env_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *bp = (\textcolor{keyword}{const} \hyperlink{libfdt__env_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *)p;
144 
145     \textcolor{keywordflow}{return} ((\hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t})bp[0] << 24)
146         | ((\hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t})bp[1] << 16)
147         | ((\hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t})bp[2] << 8)
148         | bp[3];
149 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ab8e8a5e7bfa68ba11228a13dfd5baa9a}{\index{libfdt.\-h@{libfdt.\-h}!fdt32\-\_\-st@{fdt32\-\_\-st}}
\index{fdt32\-\_\-st@{fdt32\-\_\-st}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt32\-\_\-st}]{\setlength{\rightskip}{0pt plus 5cm}static void fdt32\-\_\-st (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{property, }
\item[{{\bf uint32\-\_\-t}}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_ab8e8a5e7bfa68ba11228a13dfd5baa9a}


Referenced by fdt\-\_\-appendprop\-\_\-addrrange().


\begin{DoxyCode}
152 \{
153     \hyperlink{libfdt__env_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *bp = (\hyperlink{libfdt__env_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *)property;
154 
155     bp[0] = value >> 24;
156     bp[1] = (value >> 16) & 0xff;
157     bp[2] = (value >> 8) & 0xff;
158     bp[3] = value & 0xff;
159 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a96f6dc1763124772eb6fd22a0fd8a8f5}{\index{libfdt.\-h@{libfdt.\-h}!fdt64\-\_\-ld@{fdt64\-\_\-ld}}
\index{fdt64\-\_\-ld@{fdt64\-\_\-ld}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt64\-\_\-ld}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf uint64\-\_\-t} fdt64\-\_\-ld (
\begin{DoxyParamCaption}
\item[{const {\bf fdt64\-\_\-t} $\ast$}]{p}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_a96f6dc1763124772eb6fd22a0fd8a8f5}

\begin{DoxyCode}
162 \{
163     \textcolor{keyword}{const} \hyperlink{libfdt__env_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *bp = (\textcolor{keyword}{const} \hyperlink{libfdt__env_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *)p;
164 
165     \textcolor{keywordflow}{return} ((\hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t})bp[0] << 56)
166         | ((\hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t})bp[1] << 48)
167         | ((\hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t})bp[2] << 40)
168         | ((\hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t})bp[3] << 32)
169         | ((\hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t})bp[4] << 24)
170         | ((\hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t})bp[5] << 16)
171         | ((\hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t})bp[6] << 8)
172         | bp[7];
173 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a44619630fdd13843118f56d8bda08256}{\index{libfdt.\-h@{libfdt.\-h}!fdt64\-\_\-st@{fdt64\-\_\-st}}
\index{fdt64\-\_\-st@{fdt64\-\_\-st}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt64\-\_\-st}]{\setlength{\rightskip}{0pt plus 5cm}static void fdt64\-\_\-st (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{property, }
\item[{{\bf uint64\-\_\-t}}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_a44619630fdd13843118f56d8bda08256}


Referenced by fdt\-\_\-appendprop\-\_\-addrrange().


\begin{DoxyCode}
176 \{
177     \hyperlink{libfdt__env_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *bp = (\hyperlink{libfdt__env_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} *)property;
178 
179     bp[0] = value >> 56;
180     bp[1] = (value >> 48) & 0xff;
181     bp[2] = (value >> 40) & 0xff;
182     bp[3] = (value >> 32) & 0xff;
183     bp[4] = (value >> 24) & 0xff;
184     bp[5] = (value >> 16) & 0xff;
185     bp[6] = (value >> 8) & 0xff;
186     bp[7] = value & 0xff;
187 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a3c35dbaf4263ec1947046c1259f14cbb}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-add\-\_\-mem\-\_\-rsv@{fdt\-\_\-add\-\_\-mem\-\_\-rsv}}
\index{fdt\-\_\-add\-\_\-mem\-\_\-rsv@{fdt\-\_\-add\-\_\-mem\-\_\-rsv}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-add\-\_\-mem\-\_\-rsv}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-add\-\_\-mem\-\_\-rsv (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{{\bf uint64\-\_\-t}}]{address, }
\item[{{\bf uint64\-\_\-t}}]{size}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a3c35dbaf4263ec1947046c1259f14cbb}
fdt\-\_\-add\-\_\-mem\-\_\-rsv -\/ add one memory reserve map entry \-: pointer to the device tree blob \-: 64-\/bit start address of the reserve map entry \-: 64-\/bit size of the reserved region

Adds a reserve map entry to the given blob reserving a region at address address of length size.

This function will insert data into the reserve map and will therefore change the indexes of some entries in the table.

returns\-: 0, on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, there is insufficient free space in the blob to contain the new reservation entry -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings 

References fdt\-\_\-reserve\-\_\-entry\-::address, cpu\-\_\-to\-\_\-fdt64(), fdt\-\_\-mem\-\_\-rsv\-\_\-w\-\_\-(), fdt\-\_\-num\-\_\-mem\-\_\-rsv(), F\-D\-T\-\_\-\-R\-W\-\_\-\-P\-R\-O\-B\-E, fdt\-\_\-splice\-\_\-mem\-\_\-rsv\-\_\-(), and fdt\-\_\-reserve\-\_\-entry\-::size.


\begin{DoxyCode}
156 \{
157     \textcolor{keyword}{struct }\hyperlink{structfdt__reserve__entry}{fdt\_reserve\_entry} *re;
158     \textcolor{keywordtype}{int} err;
159 
160     \hyperlink{fdt__rw_8c_a8a087a089359a4a7a0ac78608ab6b2b9}{FDT\_RW\_PROBE}(fdt);
161 
162     re = \hyperlink{libfdt__internal_8h_a8ca1c0f897d5cfa497cd9f4c52f8f5e9}{fdt\_mem\_rsv\_w\_}(fdt, \hyperlink{fdt__ro_8c_a79fa5b76564c75c9fb00fe8ca3ba3eee}{fdt\_num\_mem\_rsv}(fdt));
163     err = \hyperlink{fdt__rw_8c_a7b79e435b2a13401208cc45a79a9128b}{fdt\_splice\_mem\_rsv\_}(fdt, re, 0, 1);
164     \textcolor{keywordflow}{if} (err)
165         \textcolor{keywordflow}{return} err;
166 
167     re->\hyperlink{structfdt__reserve__entry_a1453319ff97e2d7c2ec0762cee56e98e}{address} = \hyperlink{libfdt__env_8h_a516d5270419a4000d9617b3df5e6f665}{cpu\_to\_fdt64}(\hyperlink{structfdt__reserve__entry_a1453319ff97e2d7c2ec0762cee56e98e}{address});
168     re->\hyperlink{structfdt__reserve__entry_ace12399f157bc46877fbcddec98da67e}{size} = \hyperlink{libfdt__env_8h_a516d5270419a4000d9617b3df5e6f665}{cpu\_to\_fdt64}(\hyperlink{structfdt__reserve__entry_ace12399f157bc46877fbcddec98da67e}{size});
169     \textcolor{keywordflow}{return} 0;
170 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_aa19f8fdf0e1719f5f5f45d5301dba4d8}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-add\-\_\-reservemap\-\_\-entry@{fdt\-\_\-add\-\_\-reservemap\-\_\-entry}}
\index{fdt\-\_\-add\-\_\-reservemap\-\_\-entry@{fdt\-\_\-add\-\_\-reservemap\-\_\-entry}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-add\-\_\-reservemap\-\_\-entry}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-add\-\_\-reservemap\-\_\-entry (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{{\bf uint64\-\_\-t}}]{addr, }
\item[{{\bf uint64\-\_\-t}}]{size}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_aa19f8fdf0e1719f5f5f45d5301dba4d8}


References fdt\-\_\-reserve\-\_\-entry\-::address, cpu\-\_\-to\-\_\-fdt64(), F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, fdt\-\_\-off\-\_\-dt\-\_\-struct, F\-D\-T\-\_\-\-S\-W\-\_\-\-P\-R\-O\-B\-E\-\_\-\-M\-E\-M\-R\-S\-V, fdt\-\_\-totalsize, and fdt\-\_\-reserve\-\_\-entry\-::size.



Referenced by fdt\-\_\-finish\-\_\-reservemap().


\begin{DoxyCode}
189 \{
190     \textcolor{keyword}{struct }\hyperlink{structfdt__reserve__entry}{fdt\_reserve\_entry} *re;
191     \textcolor{keywordtype}{int} offset;
192 
193     \hyperlink{fdt__sw_8c_a9924ae9c09a00ab2b426fa2c730a34a9}{FDT\_SW\_PROBE\_MEMRSV}(fdt);
194 
195     offset = \hyperlink{libfdt_8h_ae2ef3611d83ac29bb6de09594ead9969}{fdt\_off\_dt\_struct}(fdt);
196     \textcolor{keywordflow}{if} ((offset + \textcolor{keyword}{sizeof}(*re)) > \hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\_totalsize}(fdt))
197         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
198 
199     re = (\textcolor{keyword}{struct }\hyperlink{structfdt__reserve__entry}{fdt\_reserve\_entry} *)((\textcolor{keywordtype}{char} *)fdt + offset);
200     re->\hyperlink{structfdt__reserve__entry_a1453319ff97e2d7c2ec0762cee56e98e}{address} = \hyperlink{libfdt__env_8h_a516d5270419a4000d9617b3df5e6f665}{cpu\_to\_fdt64}(addr);
201     re->\hyperlink{structfdt__reserve__entry_ace12399f157bc46877fbcddec98da67e}{size} = \hyperlink{libfdt__env_8h_a516d5270419a4000d9617b3df5e6f665}{cpu\_to\_fdt64}(\hyperlink{structfdt__reserve__entry_ace12399f157bc46877fbcddec98da67e}{size});
202 
203     fdt\_set\_off\_dt\_struct(fdt, offset + \textcolor{keyword}{sizeof}(*re));
204 
205     \textcolor{keywordflow}{return} 0;
206 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a006872c92462f1a3c962192df483600c}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-add\-\_\-subnode@{fdt\-\_\-add\-\_\-subnode}}
\index{fdt\-\_\-add\-\_\-subnode@{fdt\-\_\-add\-\_\-subnode}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-add\-\_\-subnode}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-add\-\_\-subnode (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{parentoffset, }
\item[{const char $\ast$}]{name}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a006872c92462f1a3c962192df483600c}


References fdt\-\_\-add\-\_\-subnode\-\_\-namelen(), and strlen().



Referenced by overlay\-\_\-apply\-\_\-node(), and overlay\-\_\-symbol\-\_\-update().


\begin{DoxyCode}
378 \{
379     \textcolor{keywordflow}{return} \hyperlink{fdt__rw_8c_a9ec78ea0fd08982a50310216ff295747}{fdt\_add\_subnode\_namelen}(fdt, parentoffset, name, 
      \hyperlink{cstd_8c_a54684bded3e61e2d78d490650f9b706a}{strlen}(name));
380 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a9ec78ea0fd08982a50310216ff295747}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-add\-\_\-subnode\-\_\-namelen@{fdt\-\_\-add\-\_\-subnode\-\_\-namelen}}
\index{fdt\-\_\-add\-\_\-subnode\-\_\-namelen@{fdt\-\_\-add\-\_\-subnode\-\_\-namelen}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-add\-\_\-subnode\-\_\-namelen}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-add\-\_\-subnode\-\_\-namelen (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{parentoffset, }
\item[{const char $\ast$}]{name, }
\item[{int}]{namelen}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a9ec78ea0fd08982a50310216ff295747}


References can\-\_\-assume, cpu\-\_\-to\-\_\-fdt32(), F\-D\-T\-\_\-\-B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E, F\-D\-T\-\_\-\-E\-N\-D\-\_\-\-N\-O\-D\-E, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-E\-X\-I\-S\-T\-S, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-I\-N\-T\-E\-R\-N\-A\-L, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, fdt\-\_\-next\-\_\-tag(), F\-D\-T\-\_\-\-N\-O\-P, fdt\-\_\-offset\-\_\-ptr\-\_\-w\-\_\-(), F\-D\-T\-\_\-\-P\-R\-O\-P, F\-D\-T\-\_\-\-R\-W\-\_\-\-P\-R\-O\-B\-E, fdt\-\_\-splice\-\_\-struct\-\_\-(), fdt\-\_\-subnode\-\_\-offset\-\_\-namelen(), F\-D\-T\-\_\-\-T\-A\-G\-A\-L\-I\-G\-N, F\-D\-T\-\_\-\-T\-A\-G\-S\-I\-Z\-E, memcpy(), memset(), fdt\-\_\-node\-\_\-header\-::name, and fdt\-\_\-node\-\_\-header\-::tag.



Referenced by fdt\-\_\-add\-\_\-subnode().


\begin{DoxyCode}
335 \{
336     \textcolor{keyword}{struct }\hyperlink{structfdt__node__header}{fdt\_node\_header} *nh;
337     \textcolor{keywordtype}{int} offset, nextoffset;
338     \textcolor{keywordtype}{int} nodelen;
339     \textcolor{keywordtype}{int} err;
340     \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t} \hyperlink{structfdt__node__header_a073164a8ce430c15d2147ccba6bc7340}{tag};
341     \hyperlink{libfdt__env_8h_a76887ac8786252752fb3f9a39b21f3af}{fdt32\_t} *endtag;
342 
343     \hyperlink{fdt__rw_8c_a8a087a089359a4a7a0ac78608ab6b2b9}{FDT\_RW\_PROBE}(fdt);
344 
345     offset = \hyperlink{fdt__ro_8c_a515ddadab660b50e9d31c05c74f7d351}{fdt\_subnode\_offset\_namelen}(fdt, parentoffset, 
      \hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name}, namelen);
346     \textcolor{keywordflow}{if} (offset >= 0)
347         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a26af70ef43c09fafd5eb29f10a09278a}{FDT\_ERR\_EXISTS};
348     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (offset != -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND})
349         \textcolor{keywordflow}{return} offset;
350 
351     \textcolor{comment}{/* Try to place the new node after the parent's properties */}
352     tag = \hyperlink{fdt_8c_ae1b4b34a1b1fa1230d3ccacf14446b61}{fdt\_next\_tag}(fdt, parentoffset, &nextoffset);
353     \textcolor{comment}{/* the fdt\_subnode\_offset\_namelen() should ensure this never hits */}
354     \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(LIBFDT\_FLAWLESS) && (tag != \hyperlink{fdt_8h_a84974b092f97d4f2588c8efb4f6fdd67}{FDT\_BEGIN\_NODE}))
355         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a02625761a47e8012c53fb389dd25fadd}{FDT\_ERR\_INTERNAL};
356     \textcolor{keywordflow}{do} \{
357         offset = nextoffset;
358         tag = \hyperlink{fdt_8c_ae1b4b34a1b1fa1230d3ccacf14446b61}{fdt\_next\_tag}(fdt, offset, &nextoffset);
359     \} \textcolor{keywordflow}{while} ((tag == \hyperlink{fdt_8h_a3304a9313cbf7ecced77f89ff5f25dde}{FDT\_PROP}) || (tag == \hyperlink{fdt_8h_a95f6ec2ae047c13339f80ca6adeafc21}{FDT\_NOP}));
360 
361     nh = \hyperlink{libfdt__internal_8h_ae42dc2243a1db6dc0c0eee8771367315}{fdt\_offset\_ptr\_w\_}(fdt, offset);
362     nodelen = \textcolor{keyword}{sizeof}(*nh) + \hyperlink{libfdt__internal_8h_a8955518b67338925d939fe2389b41796}{FDT\_TAGALIGN}(namelen+1) + \hyperlink{fdt_8h_ada36dac7d767aceec040a00307dba77b}{FDT\_TAGSIZE};
363 
364     err = \hyperlink{fdt__rw_8c_a81016864afd7abbca6d2f35389f6809f}{fdt\_splice\_struct\_}(fdt, nh, 0, nodelen);
365     \textcolor{keywordflow}{if} (err)
366         \textcolor{keywordflow}{return} err;
367 
368     nh->\hyperlink{structfdt__node__header_a073164a8ce430c15d2147ccba6bc7340}{tag} = \hyperlink{libfdt__env_8h_a06ce41f441b8a56710000af3c3e516e5}{cpu\_to\_fdt32}(\hyperlink{fdt_8h_a84974b092f97d4f2588c8efb4f6fdd67}{FDT\_BEGIN\_NODE});
369     \hyperlink{cstd_8c_a3459ebf29bb6519d0160ff500d7c997f}{memset}(nh->\hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name}, 0, \hyperlink{libfdt__internal_8h_a8955518b67338925d939fe2389b41796}{FDT\_TAGALIGN}(namelen+1));
370     \hyperlink{cstd_8c_a40deeb5b928964e60d97b3b8fd8a9b33}{memcpy}(nh->\hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name}, \hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name}, namelen);
371     endtag = (\hyperlink{libfdt__env_8h_a76887ac8786252752fb3f9a39b21f3af}{fdt32\_t} *)((\textcolor{keywordtype}{char} *)nh + nodelen - \hyperlink{fdt_8h_ada36dac7d767aceec040a00307dba77b}{FDT\_TAGSIZE});
372     *endtag = \hyperlink{libfdt__env_8h_a06ce41f441b8a56710000af3c3e516e5}{cpu\_to\_fdt32}(\hyperlink{fdt_8h_a97c9b3b1971681a8183442ddd0a8009c}{FDT\_END\_NODE});
373 
374     \textcolor{keywordflow}{return} offset;
375 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_abc8a070eb5c099eb1718f45134a0915e}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-address\-\_\-cells@{fdt\-\_\-address\-\_\-cells}}
\index{fdt\-\_\-address\-\_\-cells@{fdt\-\_\-address\-\_\-cells}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-address\-\_\-cells}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-address\-\_\-cells (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_abc8a070eb5c099eb1718f45134a0915e}
fdt\-\_\-address\-\_\-cells -\/ retrieve address size for a bus represented in the tree \-: pointer to the device tree blob \-: offset of the node to find the address size for

When the node has a valid \#address-\/cells property, returns its value.

returns\-: 0 $<$= n $<$ F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-N\-C\-E\-L\-L\-S, on success 2, if the node has no \#address-\/cells property -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-N\-C\-E\-L\-L\-S, if the node has a badly formatted or invalid \#address-\/cells property -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings 

References fdt\-\_\-cells(), F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-N\-C\-E\-L\-L\-S, and F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D.



Referenced by fdt\-\_\-appendprop\-\_\-addrrange().


\begin{DoxyCode}
35 \{
36     \textcolor{keywordtype}{int} val;
37 
38     val = \hyperlink{fdt__addresses_8c_ab53e36aeec213b1a0acee1363e4e8795}{fdt\_cells}(fdt, nodeoffset, \textcolor{stringliteral}{"#address-cells"});
39     \textcolor{keywordflow}{if} (val == 0)
40         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_ac99b64a390af02e95d9236e5c1d03780}{FDT\_ERR\_BADNCELLS};
41     \textcolor{keywordflow}{if} (val == -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND})
42         \textcolor{keywordflow}{return} 2;
43     \textcolor{keywordflow}{return} val;
44 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a26f2518e2c64f013069c613bee7a83a3}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-appendprop@{fdt\-\_\-appendprop}}
\index{fdt\-\_\-appendprop@{fdt\-\_\-appendprop}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-appendprop}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-appendprop (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{const void $\ast$}]{val, }
\item[{int}]{len}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a26f2518e2c64f013069c613bee7a83a3}


References cpu\-\_\-to\-\_\-fdt32(), fdt\-\_\-property\-::data, fdt\-\_\-add\-\_\-property\-\_\-(), fdt\-\_\-get\-\_\-property\-\_\-w(), F\-D\-T\-\_\-\-R\-W\-\_\-\-P\-R\-O\-B\-E, fdt\-\_\-splice\-\_\-struct\-\_\-(), F\-D\-T\-\_\-\-T\-A\-G\-A\-L\-I\-G\-N, fdt\-\_\-property\-::len, and memcpy().



Referenced by fdt\-\_\-appendprop\-\_\-addrrange(), fdt\-\_\-appendprop\-\_\-u32(), and fdt\-\_\-appendprop\-\_\-u64().


\begin{DoxyCode}
293 \{
294     \textcolor{keyword}{struct }\hyperlink{structfdt__property}{fdt\_property} *prop;
295     \textcolor{keywordtype}{int} err, oldlen, newlen;
296 
297     \hyperlink{fdt__rw_8c_a8a087a089359a4a7a0ac78608ab6b2b9}{FDT\_RW\_PROBE}(fdt);
298 
299     prop = \hyperlink{libfdt_8h_a3ef3cd199863ded58e473a71ebdd478c}{fdt\_get\_property\_w}(fdt, nodeoffset, name, &oldlen);
300     \textcolor{keywordflow}{if} (prop) \{
301         newlen = \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len} + oldlen;
302         err = \hyperlink{fdt__rw_8c_a81016864afd7abbca6d2f35389f6809f}{fdt\_splice\_struct\_}(fdt, prop->\hyperlink{structfdt__property_abb52f21622f86ed9b268f49b76f23aef}{data},
303                      \hyperlink{libfdt__internal_8h_a8955518b67338925d939fe2389b41796}{FDT\_TAGALIGN}(oldlen),
304                      \hyperlink{libfdt__internal_8h_a8955518b67338925d939fe2389b41796}{FDT\_TAGALIGN}(newlen));
305         \textcolor{keywordflow}{if} (err)
306             \textcolor{keywordflow}{return} err;
307         prop->\hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len} = \hyperlink{libfdt__env_8h_a06ce41f441b8a56710000af3c3e516e5}{cpu\_to\_fdt32}(newlen);
308         \hyperlink{cstd_8c_a40deeb5b928964e60d97b3b8fd8a9b33}{memcpy}(prop->\hyperlink{structfdt__property_abb52f21622f86ed9b268f49b76f23aef}{data} + oldlen, val, \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len});
309     \} \textcolor{keywordflow}{else} \{
310         err = \hyperlink{fdt__rw_8c_a56be49519a7a62e6da99ed9e7b8ee9f9}{fdt\_add\_property\_}(fdt, nodeoffset, name, \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len}, &prop);
311         \textcolor{keywordflow}{if} (err)
312             \textcolor{keywordflow}{return} err;
313         \hyperlink{cstd_8c_a40deeb5b928964e60d97b3b8fd8a9b33}{memcpy}(prop->\hyperlink{structfdt__property_abb52f21622f86ed9b268f49b76f23aef}{data}, val, \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len});
314     \}
315     \textcolor{keywordflow}{return} 0;
316 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a6039a3956086acc2caa68458393f3825}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-appendprop\-\_\-addrrange@{fdt\-\_\-appendprop\-\_\-addrrange}}
\index{fdt\-\_\-appendprop\-\_\-addrrange@{fdt\-\_\-appendprop\-\_\-addrrange}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-appendprop\-\_\-addrrange}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-appendprop\-\_\-addrrange (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{parent, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{{\bf uint64\-\_\-t}}]{addr, }
\item[{{\bf uint64\-\_\-t}}]{size}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a6039a3956086acc2caa68458393f3825}


References fdt32\-\_\-st(), fdt64\-\_\-st(), fdt\-\_\-address\-\_\-cells(), fdt\-\_\-appendprop(), F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-N\-C\-E\-L\-L\-S, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-A\-L\-U\-E, fdt\-\_\-size\-\_\-cells(), and U\-I\-N\-T32\-\_\-\-M\-A\-X.


\begin{DoxyCode}
59 \{
60     \textcolor{keywordtype}{int} addr\_cells, size\_cells, ret;
61     \hyperlink{libfdt__env_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\_t} \hyperlink{structfdt__property_abb52f21622f86ed9b268f49b76f23aef}{data}[\textcolor{keyword}{sizeof}(\hyperlink{libfdt__env_8h_ace50a73711239df43c98cc1d5fedd1f8}{fdt64\_t}) * 2], *prop;
62 
63     ret = \hyperlink{fdt__addresses_8c_abc8a070eb5c099eb1718f45134a0915e}{fdt\_address\_cells}(fdt, parent);
64     \textcolor{keywordflow}{if} (ret < 0)
65         \textcolor{keywordflow}{return} ret;
66     addr\_cells = ret;
67 
68     ret = \hyperlink{fdt__addresses_8c_a314966b6182211c6d38cc90748c3234b}{fdt\_size\_cells}(fdt, parent);
69     \textcolor{keywordflow}{if} (ret < 0)
70         \textcolor{keywordflow}{return} ret;
71     size\_cells = ret;
72 
73     \textcolor{comment}{/* check validity of address */}
74     prop = \hyperlink{structfdt__property_abb52f21622f86ed9b268f49b76f23aef}{data};
75     \textcolor{keywordflow}{if} (addr\_cells == 1) \{
76         \textcolor{keywordflow}{if} ((addr > \hyperlink{cstd_8h_ab5eb23180f7cc12b7d6c04a8ec067fdd}{UINT32\_MAX}) || (((\hyperlink{libfdt__env_8h_aaa5d1cd013383c889537491c3cfd9aad}{uint64\_t}) \hyperlink{cstd_8h_ab5eb23180f7cc12b7d6c04a8ec067fdd}{UINT32\_MAX} + 1 - addr) < size))
77             \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a69e818556330b83a02de930b95216aa9}{FDT\_ERR\_BADVALUE};
78 
79         \hyperlink{libfdt_8h_ab8e8a5e7bfa68ba11228a13dfd5baa9a}{fdt32\_st}(prop, (\hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t})addr);
80     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (addr\_cells == 2) \{
81         \hyperlink{libfdt_8h_a44619630fdd13843118f56d8bda08256}{fdt64\_st}(prop, addr);
82     \} \textcolor{keywordflow}{else} \{
83         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_ac99b64a390af02e95d9236e5c1d03780}{FDT\_ERR\_BADNCELLS};
84     \}
85 
86     \textcolor{comment}{/* check validity of size */}
87     prop += addr\_cells * \textcolor{keyword}{sizeof}(\hyperlink{libfdt__env_8h_a76887ac8786252752fb3f9a39b21f3af}{fdt32\_t});
88     \textcolor{keywordflow}{if} (size\_cells == 1) \{
89         \textcolor{keywordflow}{if} (size > \hyperlink{cstd_8h_ab5eb23180f7cc12b7d6c04a8ec067fdd}{UINT32\_MAX})
90             \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a69e818556330b83a02de930b95216aa9}{FDT\_ERR\_BADVALUE};
91 
92         \hyperlink{libfdt_8h_ab8e8a5e7bfa68ba11228a13dfd5baa9a}{fdt32\_st}(prop, (\hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t})size);
93     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (size\_cells == 2) \{
94         \hyperlink{libfdt_8h_a44619630fdd13843118f56d8bda08256}{fdt64\_st}(prop, size);
95     \} \textcolor{keywordflow}{else} \{
96         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_ac99b64a390af02e95d9236e5c1d03780}{FDT\_ERR\_BADNCELLS};
97     \}
98 
99     \textcolor{keywordflow}{return} \hyperlink{fdt__rw_8c_a26f2518e2c64f013069c613bee7a83a3}{fdt\_appendprop}(fdt, nodeoffset, name, \hyperlink{structfdt__property_abb52f21622f86ed9b268f49b76f23aef}{data},
100                   (addr\_cells + size\_cells) * \textcolor{keyword}{sizeof}(\hyperlink{libfdt__env_8h_a76887ac8786252752fb3f9a39b21f3af}{fdt32\_t}));
101 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a78cceaf72acd53f7f702848451ed3d22}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-appendprop\-\_\-cell@{fdt\-\_\-appendprop\-\_\-cell}}
\index{fdt\-\_\-appendprop\-\_\-cell@{fdt\-\_\-appendprop\-\_\-cell}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-appendprop\-\_\-cell}]{\setlength{\rightskip}{0pt plus 5cm}static int fdt\-\_\-appendprop\-\_\-cell (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{{\bf uint32\-\_\-t}}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_a78cceaf72acd53f7f702848451ed3d22}


References fdt\-\_\-appendprop\-\_\-u32().


\begin{DoxyCode}
1985 \{
1986     \textcolor{keywordflow}{return} \hyperlink{libfdt_8h_a42f2688a9666e001a8155ebbbd96e559}{fdt\_appendprop\_u32}(fdt, nodeoffset, name, val);
1987 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a42f2688a9666e001a8155ebbbd96e559}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-appendprop\-\_\-u32@{fdt\-\_\-appendprop\-\_\-u32}}
\index{fdt\-\_\-appendprop\-\_\-u32@{fdt\-\_\-appendprop\-\_\-u32}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-appendprop\-\_\-u32}]{\setlength{\rightskip}{0pt plus 5cm}static int fdt\-\_\-appendprop\-\_\-u32 (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{{\bf uint32\-\_\-t}}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_a42f2688a9666e001a8155ebbbd96e559}


References cpu\-\_\-to\-\_\-fdt32(), and fdt\-\_\-appendprop().



Referenced by fdt\-\_\-appendprop\-\_\-cell().


\begin{DoxyCode}
1932 \{
1933     \hyperlink{libfdt__env_8h_a76887ac8786252752fb3f9a39b21f3af}{fdt32\_t} tmp = \hyperlink{libfdt__env_8h_a06ce41f441b8a56710000af3c3e516e5}{cpu\_to\_fdt32}(val);
1934     \textcolor{keywordflow}{return} \hyperlink{fdt__rw_8c_a26f2518e2c64f013069c613bee7a83a3}{fdt\_appendprop}(fdt, nodeoffset, name, &tmp, \textcolor{keyword}{sizeof}(tmp));
1935 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ab72100c77d3ceda20da6a423156a2968}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-appendprop\-\_\-u64@{fdt\-\_\-appendprop\-\_\-u64}}
\index{fdt\-\_\-appendprop\-\_\-u64@{fdt\-\_\-appendprop\-\_\-u64}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-appendprop\-\_\-u64}]{\setlength{\rightskip}{0pt plus 5cm}static int fdt\-\_\-appendprop\-\_\-u64 (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{{\bf uint64\-\_\-t}}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_ab72100c77d3ceda20da6a423156a2968}


References cpu\-\_\-to\-\_\-fdt64(), and fdt\-\_\-appendprop().


\begin{DoxyCode}
1967 \{
1968     \hyperlink{libfdt__env_8h_ace50a73711239df43c98cc1d5fedd1f8}{fdt64\_t} tmp = \hyperlink{libfdt__env_8h_a516d5270419a4000d9617b3df5e6f665}{cpu\_to\_fdt64}(val);
1969     \textcolor{keywordflow}{return} \hyperlink{fdt__rw_8c_a26f2518e2c64f013069c613bee7a83a3}{fdt\_appendprop}(fdt, nodeoffset, name, &tmp, \textcolor{keyword}{sizeof}(tmp));
1970 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a70390d95f50f22e8c5c175c0922e5f56}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-begin\-\_\-node@{fdt\-\_\-begin\-\_\-node}}
\index{fdt\-\_\-begin\-\_\-node@{fdt\-\_\-begin\-\_\-node}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-begin\-\_\-node}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-begin\-\_\-node (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{const char $\ast$}]{name}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a70390d95f50f22e8c5c175c0922e5f56}


References cpu\-\_\-to\-\_\-fdt32(), F\-D\-T\-\_\-\-B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, fdt\-\_\-grab\-\_\-space\-\_\-(), F\-D\-T\-\_\-\-S\-W\-\_\-\-P\-R\-O\-B\-E\-\_\-\-S\-T\-R\-U\-C\-T, F\-D\-T\-\_\-\-T\-A\-G\-A\-L\-I\-G\-N, memcpy(), fdt\-\_\-node\-\_\-header\-::name, strlen(), and fdt\-\_\-node\-\_\-header\-::tag.



Referenced by fdt\-\_\-create\-\_\-empty\-\_\-tree().


\begin{DoxyCode}
220 \{
221     \textcolor{keyword}{struct }\hyperlink{structfdt__node__header}{fdt\_node\_header} *nh;
222     \textcolor{keywordtype}{int} namelen;
223 
224     \hyperlink{fdt__sw_8c_a71f41b9df0134e4b8e4bc2cf023741d2}{FDT\_SW\_PROBE\_STRUCT}(fdt);
225 
226     namelen = \hyperlink{cstd_8c_a54684bded3e61e2d78d490650f9b706a}{strlen}(\hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name}) + 1;
227     nh = \hyperlink{fdt__sw_8c_a2b84719929e321e90fce03acaf600413}{fdt\_grab\_space\_}(fdt, \textcolor{keyword}{sizeof}(*nh) + \hyperlink{libfdt__internal_8h_a8955518b67338925d939fe2389b41796}{FDT\_TAGALIGN}(namelen));
228     \textcolor{keywordflow}{if} (! nh)
229         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
230 
231     nh->\hyperlink{structfdt__node__header_a073164a8ce430c15d2147ccba6bc7340}{tag} = \hyperlink{libfdt__env_8h_a06ce41f441b8a56710000af3c3e516e5}{cpu\_to\_fdt32}(\hyperlink{fdt_8h_a84974b092f97d4f2588c8efb4f6fdd67}{FDT\_BEGIN\_NODE});
232     \hyperlink{cstd_8c_a40deeb5b928964e60d97b3b8fd8a9b33}{memcpy}(nh->\hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name}, \hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name}, namelen);
233     \textcolor{keywordflow}{return} 0;
234 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a9dc21cc097687bcc05c5f536d2313a10}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-check\-\_\-full@{fdt\-\_\-check\-\_\-full}}
\index{fdt\-\_\-check\-\_\-full@{fdt\-\_\-check\-\_\-full}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-check\-\_\-full}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-check\-\_\-full (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{size\-\_\-t}]{bufsize}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a9dc21cc097687bcc05c5f536d2313a10}


References F\-D\-T\-\_\-\-B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E, fdt\-\_\-check\-\_\-header(), F\-D\-T\-\_\-\-E\-N\-D, F\-D\-T\-\_\-\-E\-N\-D\-\_\-\-N\-O\-D\-E, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-I\-N\-T\-E\-R\-N\-A\-L, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, fdt\-\_\-get\-\_\-name(), fdt\-\_\-getprop\-\_\-by\-\_\-offset(), fdt\-\_\-header\-\_\-size(), fdt\-\_\-next\-\_\-tag(), F\-D\-T\-\_\-\-N\-O\-P, fdt\-\_\-num\-\_\-mem\-\_\-rsv(), F\-D\-T\-\_\-\-P\-R\-O\-P, fdt\-\_\-totalsize, F\-D\-T\-\_\-\-V1\-\_\-\-S\-I\-Z\-E, and I\-N\-T\-\_\-\-M\-A\-X.


\begin{DoxyCode}
14 \{
15     \textcolor{keywordtype}{int} err;
16     \textcolor{keywordtype}{int} num\_memrsv;
17     \textcolor{keywordtype}{int} offset, nextoffset = 0;
18     \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t} \hyperlink{structfdt__node__header_a073164a8ce430c15d2147ccba6bc7340}{tag};
19     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} depth = 0;
20     \textcolor{keyword}{const} \textcolor{keywordtype}{void} *prop;
21     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *propname;
22     \textcolor{keywordtype}{bool} expect\_end = \textcolor{keyword}{false};
23 
24     \textcolor{keywordflow}{if} (bufsize < \hyperlink{fdt_8h_ace28b75a3463b5d1f3bd243ea2116f47}{FDT\_V1\_SIZE})
25         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a2b814a0775d93b5da1442fc091e49958}{FDT\_ERR\_TRUNCATED};
26     \textcolor{keywordflow}{if} (bufsize < \hyperlink{fdt_8c_afab057440e1d6aa051c30d16d3f416e0}{fdt\_header\_size}(fdt))
27         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a2b814a0775d93b5da1442fc091e49958}{FDT\_ERR\_TRUNCATED};
28     err = \hyperlink{fdt_8c_a2359dff8b66918e18ba70baab42f2cf1}{fdt\_check\_header}(fdt);
29     \textcolor{keywordflow}{if} (err != 0)
30         \textcolor{keywordflow}{return} err;
31     \textcolor{keywordflow}{if} (bufsize < \hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\_totalsize}(fdt))
32         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a2b814a0775d93b5da1442fc091e49958}{FDT\_ERR\_TRUNCATED};
33 
34     num\_memrsv = \hyperlink{fdt__ro_8c_a79fa5b76564c75c9fb00fe8ca3ba3eee}{fdt\_num\_mem\_rsv}(fdt);
35     \textcolor{keywordflow}{if} (num\_memrsv < 0)
36         \textcolor{keywordflow}{return} num\_memrsv;
37 
38     \textcolor{keywordflow}{while} (1) \{
39         offset = nextoffset;
40         tag = \hyperlink{fdt_8c_ae1b4b34a1b1fa1230d3ccacf14446b61}{fdt\_next\_tag}(fdt, offset, &nextoffset);
41 
42         \textcolor{keywordflow}{if} (nextoffset < 0)
43             \textcolor{keywordflow}{return} nextoffset;
44 
45         \textcolor{comment}{/* If we see two root nodes, something is wrong */}
46         \textcolor{keywordflow}{if} (expect\_end && tag != \hyperlink{fdt_8h_a53275b16340fb458df4782462f283d8c}{FDT\_END})
47             \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_aef7e5f2183c72ef2b4698bb918d8f2f7}{FDT\_ERR\_BADSTRUCTURE};
48 
49         \textcolor{keywordflow}{switch} (tag) \{
50         \textcolor{keywordflow}{case} \hyperlink{fdt_8h_a95f6ec2ae047c13339f80ca6adeafc21}{FDT\_NOP}:
51             \textcolor{keywordflow}{break};
52 
53         \textcolor{keywordflow}{case} \hyperlink{fdt_8h_a53275b16340fb458df4782462f283d8c}{FDT\_END}:
54             \textcolor{keywordflow}{if} (depth != 0)
55                 \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_aef7e5f2183c72ef2b4698bb918d8f2f7}{FDT\_ERR\_BADSTRUCTURE};
56             \textcolor{keywordflow}{return} 0;
57 
58         \textcolor{keywordflow}{case} \hyperlink{fdt_8h_a84974b092f97d4f2588c8efb4f6fdd67}{FDT\_BEGIN\_NODE}:
59             depth++;
60             \textcolor{keywordflow}{if} (depth > \hyperlink{cstd_8h_a9ec306f36d50c7375e74f0d1c55a3a67}{INT\_MAX})
61                 \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_aef7e5f2183c72ef2b4698bb918d8f2f7}{FDT\_ERR\_BADSTRUCTURE};
62 
63             \textcolor{comment}{/* The root node must have an empty name */}
64             \textcolor{keywordflow}{if} (depth == 1) \{
65                 \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name};
66                 \textcolor{keywordtype}{int} len;
67 
68                 name = \hyperlink{fdt__ro_8c_a22a72941a288c00c88c36164fdc793c0}{fdt\_get\_name}(fdt, offset, &len);
69                 \textcolor{keywordflow}{if} (!name)
70                     \textcolor{keywordflow}{return} len;
71 
72                 \textcolor{keywordflow}{if} (*name || len)
73                     \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_aef7e5f2183c72ef2b4698bb918d8f2f7}{FDT\_ERR\_BADSTRUCTURE};
74             \}
75             \textcolor{keywordflow}{break};
76 
77         \textcolor{keywordflow}{case} \hyperlink{fdt_8h_a97c9b3b1971681a8183442ddd0a8009c}{FDT\_END\_NODE}:
78             \textcolor{keywordflow}{if} (depth == 0)
79                 \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_aef7e5f2183c72ef2b4698bb918d8f2f7}{FDT\_ERR\_BADSTRUCTURE};
80             depth--;
81             \textcolor{keywordflow}{if} (depth == 0)
82                 expect\_end = \textcolor{keyword}{true};
83             \textcolor{keywordflow}{break};
84 
85         \textcolor{keywordflow}{case} \hyperlink{fdt_8h_a3304a9313cbf7ecced77f89ff5f25dde}{FDT\_PROP}:
86             prop = \hyperlink{fdt__ro_8c_a631207472dcddda9470f5791260da0fd}{fdt\_getprop\_by\_offset}(fdt, offset, &propname,
87                              &err);
88             \textcolor{keywordflow}{if} (!prop)
89                 \textcolor{keywordflow}{return} err;
90             \textcolor{keywordflow}{break};
91 
92         \textcolor{keywordflow}{default}:
93             \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a02625761a47e8012c53fb389dd25fadd}{FDT\_ERR\_INTERNAL};
94         \}
95     \}
96 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a2359dff8b66918e18ba70baab42f2cf1}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-check\-\_\-header@{fdt\-\_\-check\-\_\-header}}
\index{fdt\-\_\-check\-\_\-header@{fdt\-\_\-check\-\_\-header}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-check\-\_\-header}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-check\-\_\-header (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a2359dff8b66918e18ba70baab42f2cf1}
fdt\-\_\-check\-\_\-header -\/ sanity check a device tree header \-: pointer to data which might be a flattened device tree

\hyperlink{fdt_8c_a2359dff8b66918e18ba70baab42f2cf1}{fdt\-\_\-check\-\_\-header()} checks that the given buffer contains what appears to be a flattened device tree, and that the header contains valid information (to the extent that can be determined from the header alone).

returns\-: 0, if the buffer appears to contain a valid device tree -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings, as above 

References can\-\_\-assume, check\-\_\-block\-\_\-(), check\-\_\-off\-\_\-(), F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-A\-L\-I\-G\-N\-M\-E\-N\-T, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, F\-D\-T\-\_\-\-F\-I\-R\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N, fdt\-\_\-header\-\_\-size(), fdt\-\_\-last\-\_\-comp\-\_\-version, F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N, F\-D\-T\-\_\-\-M\-A\-G\-I\-C, fdt\-\_\-magic, fdt\-\_\-off\-\_\-dt\-\_\-strings, fdt\-\_\-off\-\_\-dt\-\_\-struct, fdt\-\_\-off\-\_\-mem\-\_\-rsvmap, fdt\-\_\-size\-\_\-dt\-\_\-strings, fdt\-\_\-size\-\_\-dt\-\_\-struct, fdt\-\_\-totalsize, fdt\-\_\-version, and I\-N\-T\-\_\-\-M\-A\-X.



Referenced by fdt\-\_\-check\-\_\-full().


\begin{DoxyCode}
90 \{
91     \textcolor{keywordtype}{size\_t} hdrsize;
92 
93     \textcolor{comment}{/* The device tree must be at an 8-byte aligned address */}
94     \textcolor{keywordflow}{if} ((\hyperlink{libfdt__env_8h_a83242de74310b4aec3fc506bc3644211}{uintptr\_t})fdt & 7)
95         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a3700c1466eed663efeb8cfcfb68410e7}{FDT\_ERR\_ALIGNMENT};
96 
97     \textcolor{keywordflow}{if} (\hyperlink{libfdt_8h_a783c67f6971d10232c84ecd0aa76f461}{fdt\_magic}(fdt) != \hyperlink{fdt_8h_a5d5b14eccb44e809abddd8a946ddc8a3}{FDT\_MAGIC})
98         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_abb777d59bc55628f8736b2b6c799213b}{FDT\_ERR\_BADMAGIC};
99     \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(LATEST)) \{
100         \textcolor{keywordflow}{if} ((\hyperlink{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}{fdt\_version}(fdt) < \hyperlink{libfdt_8h_ab71fe9f2c75280cd75b42263dd2aa3f1}{FDT\_FIRST\_SUPPORTED\_VERSION})
101             || (\hyperlink{libfdt_8h_a6b64d727951727aa9464061496abc1e9}{fdt\_last\_comp\_version}(fdt) >
102             \hyperlink{libfdt_8h_a3d13a6bfa946b38c95d1c327d4139c22}{FDT\_LAST\_SUPPORTED\_VERSION}))
103             \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_ad2a3b277a1e6987ead001fcd2415d88d}{FDT\_ERR\_BADVERSION};
104         \textcolor{keywordflow}{if} (\hyperlink{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}{fdt\_version}(fdt) < \hyperlink{libfdt_8h_a6b64d727951727aa9464061496abc1e9}{fdt\_last\_comp\_version}(fdt))
105             \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_ad2a3b277a1e6987ead001fcd2415d88d}{FDT\_ERR\_BADVERSION};
106     \}
107     hdrsize = \hyperlink{fdt_8c_afab057440e1d6aa051c30d16d3f416e0}{fdt\_header\_size}(fdt);
108     \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(VALID\_DTB)) \{
109         \textcolor{keywordflow}{if} ((\hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\_totalsize}(fdt) < hdrsize)
110             || (\hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\_totalsize}(fdt) > \hyperlink{cstd_8h_a9ec306f36d50c7375e74f0d1c55a3a67}{INT\_MAX}))
111             \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a2b814a0775d93b5da1442fc091e49958}{FDT\_ERR\_TRUNCATED};
112 
113         \textcolor{comment}{/* Bounds check memrsv block */}
114         \textcolor{keywordflow}{if} (!\hyperlink{fdt_8c_aef915f11c17fabec690347cdc942424e}{check\_off\_}(hdrsize, \hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\_totalsize}(fdt),
115                 \hyperlink{libfdt_8h_ad34e2939365df0a17061d177356b4e39}{fdt\_off\_mem\_rsvmap}(fdt)))
116             \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a2b814a0775d93b5da1442fc091e49958}{FDT\_ERR\_TRUNCATED};
117 
118         \textcolor{comment}{/* Bounds check structure block */}
119         \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(LATEST) && \hyperlink{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}{fdt\_version}(fdt) < 17) \{
120             \textcolor{keywordflow}{if} (!\hyperlink{fdt_8c_aef915f11c17fabec690347cdc942424e}{check\_off\_}(hdrsize, \hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\_totalsize}(fdt),
121                     \hyperlink{libfdt_8h_ae2ef3611d83ac29bb6de09594ead9969}{fdt\_off\_dt\_struct}(fdt)))
122                 \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a2b814a0775d93b5da1442fc091e49958}{FDT\_ERR\_TRUNCATED};
123         \} \textcolor{keywordflow}{else} \{
124             \textcolor{keywordflow}{if} (!\hyperlink{fdt_8c_aa1b5cd420057c0450ab8acc723025f46}{check\_block\_}(hdrsize, \hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\_totalsize}(fdt),
125                       \hyperlink{libfdt_8h_ae2ef3611d83ac29bb6de09594ead9969}{fdt\_off\_dt\_struct}(fdt),
126                       \hyperlink{libfdt_8h_a73b5fa0a791f02805b93ea70c6cb30ab}{fdt\_size\_dt\_struct}(fdt)))
127                 \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a2b814a0775d93b5da1442fc091e49958}{FDT\_ERR\_TRUNCATED};
128         \}
129 
130         \textcolor{comment}{/* Bounds check strings block */}
131         \textcolor{keywordflow}{if} (!\hyperlink{fdt_8c_aa1b5cd420057c0450ab8acc723025f46}{check\_block\_}(hdrsize, \hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\_totalsize}(fdt),
132                   \hyperlink{libfdt_8h_a80994b6320a372f47942ac65f55c0d6c}{fdt\_off\_dt\_strings}(fdt),
133                   \hyperlink{libfdt_8h_aa0748803d707f2be7d15ebfb815d31b4}{fdt\_size\_dt\_strings}(fdt)))
134             \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a2b814a0775d93b5da1442fc091e49958}{FDT\_ERR\_TRUNCATED};
135     \}
136 
137     \textcolor{keywordflow}{return} 0;
138 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a4dc7458fd1035524255f34a9281f6531}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-create@{fdt\-\_\-create}}
\index{fdt\-\_\-create@{fdt\-\_\-create}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-create}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-create (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{buf, }
\item[{int}]{bufsize}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a4dc7458fd1035524255f34a9281f6531}
fdt\-\_\-create -\/ begin creation of a new fdt \-: pointer to memory allocated where fdt will be created \-: size of the memory space at fdt

\hyperlink{fdt__sw_8c_a4dc7458fd1035524255f34a9281f6531}{fdt\-\_\-create()} is equivalent to \hyperlink{fdt__sw_8c_a0c1636150835ef9be70997465df6d6e7}{fdt\-\_\-create\-\_\-with\-\_\-flags()} with flags=0.

returns\-: 0, on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, bufsize is insufficient for a minimal fdt 

References fdt\-\_\-create\-\_\-with\-\_\-flags().



Referenced by fdt\-\_\-create\-\_\-empty\-\_\-tree().


\begin{DoxyCode}
144 \{
145     \textcolor{keywordflow}{return} \hyperlink{fdt__sw_8c_a0c1636150835ef9be70997465df6d6e7}{fdt\_create\_with\_flags}(buf, bufsize, 0);
146 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_abf455011fdab75e2f9df2c5437a04968}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-create\-\_\-empty\-\_\-tree@{fdt\-\_\-create\-\_\-empty\-\_\-tree}}
\index{fdt\-\_\-create\-\_\-empty\-\_\-tree@{fdt\-\_\-create\-\_\-empty\-\_\-tree}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-create\-\_\-empty\-\_\-tree}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-create\-\_\-empty\-\_\-tree (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{buf, }
\item[{int}]{bufsize}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_abf455011fdab75e2f9df2c5437a04968}


References fdt\-\_\-begin\-\_\-node(), fdt\-\_\-create(), fdt\-\_\-end\-\_\-node(), fdt\-\_\-finish(), fdt\-\_\-finish\-\_\-reservemap(), and fdt\-\_\-open\-\_\-into().


\begin{DoxyCode}
14 \{
15     \textcolor{keywordtype}{int} err;
16 
17     err = \hyperlink{fdt__sw_8c_a4dc7458fd1035524255f34a9281f6531}{fdt\_create}(buf, bufsize);
18     \textcolor{keywordflow}{if} (err)
19         \textcolor{keywordflow}{return} err;
20 
21     err = \hyperlink{fdt__sw_8c_a05d900f8144f846f0ccafbcf97c46078}{fdt\_finish\_reservemap}(buf);
22     \textcolor{keywordflow}{if} (err)
23         \textcolor{keywordflow}{return} err;
24 
25     err = \hyperlink{fdt__sw_8c_a70390d95f50f22e8c5c175c0922e5f56}{fdt\_begin\_node}(buf, \textcolor{stringliteral}{""});
26     \textcolor{keywordflow}{if} (err)
27         \textcolor{keywordflow}{return} err;
28 
29     err =  \hyperlink{fdt__sw_8c_ac806fe57ee0d47d0a8621fa82aa5414b}{fdt\_end\_node}(buf);
30     \textcolor{keywordflow}{if} (err)
31         \textcolor{keywordflow}{return} err;
32 
33     err = \hyperlink{fdt__sw_8c_a64e71b32a23ad494306c69b3cd4ba159}{fdt\_finish}(buf);
34     \textcolor{keywordflow}{if} (err)
35         \textcolor{keywordflow}{return} err;
36 
37     \textcolor{keywordflow}{return} \hyperlink{fdt__rw_8c_aa493ca8c4e02dbfdc415e74115c794bb}{fdt\_open\_into}(buf, buf, bufsize);
38 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a0c1636150835ef9be70997465df6d6e7}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-create\-\_\-with\-\_\-flags@{fdt\-\_\-create\-\_\-with\-\_\-flags}}
\index{fdt\-\_\-create\-\_\-with\-\_\-flags@{fdt\-\_\-create\-\_\-with\-\_\-flags}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-create\-\_\-with\-\_\-flags}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-create\-\_\-with\-\_\-flags (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{buf, }
\item[{int}]{bufsize, }
\item[{{\bf uint32\-\_\-t}}]{flags}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a0c1636150835ef9be70997465df6d6e7}
fdt\-\_\-create\-\_\-with\-\_\-flags -\/ begin creation of a new fdt \-: pointer to memory allocated where fdt will be created \-: size of the memory space at fdt \-: a valid combination of F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-\_\- flags, or 0.

\hyperlink{fdt__sw_8c_a0c1636150835ef9be70997465df6d6e7}{fdt\-\_\-create\-\_\-with\-\_\-flags()} begins the process of creating a new fdt with the sequential write interface.

fdt creation process must end with \hyperlink{fdt__sw_8c_a64e71b32a23ad494306c69b3cd4ba159}{fdt\-\_\-finish()} to produce a valid fdt.

returns\-: 0, on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, bufsize is insufficient for a minimal fdt -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-F\-L\-A\-G\-S, flags is not valid 

References F\-D\-T\-\_\-\-A\-L\-I\-G\-N, F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-S\-\_\-\-A\-L\-L, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-F\-L\-A\-G\-S, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D\-\_\-\-V\-E\-R\-S\-I\-O\-N, fdt\-\_\-off\-\_\-mem\-\_\-rsvmap, F\-D\-T\-\_\-\-S\-W\-\_\-\-M\-A\-G\-I\-C, and memset().



Referenced by fdt\-\_\-create().


\begin{DoxyCode}
110 \{
111     \textcolor{keyword}{const} \textcolor{keywordtype}{int} hdrsize = \hyperlink{libfdt__internal_8h_a47d522a4cadae635e3549c08f4032c3b}{FDT\_ALIGN}(\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structfdt__header}{fdt\_header}),
112                       \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structfdt__reserve__entry}{fdt\_reserve\_entry}));
113     \textcolor{keywordtype}{void} *fdt = buf;
114 
115     \textcolor{keywordflow}{if} (bufsize < hdrsize)
116         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
117 
118     \textcolor{keywordflow}{if} (flags & ~\hyperlink{libfdt_8h_a3060ad51979d47143dd5390940c08474}{FDT\_CREATE\_FLAGS\_ALL})
119         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_acdbe061469db63aa50b51afa59be2fcf}{FDT\_ERR\_BADFLAGS};
120 
121     \hyperlink{cstd_8c_a3459ebf29bb6519d0160ff500d7c997f}{memset}(buf, 0, bufsize);
122 
123     \textcolor{comment}{/*}
124 \textcolor{comment}{     * magic and last\_comp\_version keep intermediate state during the fdt}
125 \textcolor{comment}{     * creation process, which is replaced with the proper FDT format by}
126 \textcolor{comment}{     * fdt\_finish().}
127 \textcolor{comment}{     *}
128 \textcolor{comment}{     * flags should be accessed with sw\_flags().}
129 \textcolor{comment}{     */}
130     fdt\_set\_magic(fdt, \hyperlink{libfdt__internal_8h_a8beb41f034bfe7967b246bbad463a575}{FDT\_SW\_MAGIC});
131     fdt\_set\_version(fdt, \hyperlink{libfdt_8h_a3d13a6bfa946b38c95d1c327d4139c22}{FDT\_LAST\_SUPPORTED\_VERSION});
132     fdt\_set\_last\_comp\_version(fdt, flags);
133 
134     fdt\_set\_totalsize(fdt,  bufsize);
135 
136     fdt\_set\_off\_mem\_rsvmap(fdt, hdrsize);
137     fdt\_set\_off\_dt\_struct(fdt, \hyperlink{libfdt_8h_ad34e2939365df0a17061d177356b4e39}{fdt\_off\_mem\_rsvmap}(fdt));
138     fdt\_set\_off\_dt\_strings(fdt, 0);
139 
140     \textcolor{keywordflow}{return} 0;
141 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a409d3f83af0304a896b32d8552c8669d}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-del\-\_\-mem\-\_\-rsv@{fdt\-\_\-del\-\_\-mem\-\_\-rsv}}
\index{fdt\-\_\-del\-\_\-mem\-\_\-rsv@{fdt\-\_\-del\-\_\-mem\-\_\-rsv}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-del\-\_\-mem\-\_\-rsv}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-del\-\_\-mem\-\_\-rsv (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{n}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a409d3f83af0304a896b32d8552c8669d}
fdt\-\_\-del\-\_\-mem\-\_\-rsv -\/ remove a memory reserve map entry \-: pointer to the device tree blob \par
\-: entry to remove

\hyperlink{fdt__rw_8c_a409d3f83af0304a896b32d8552c8669d}{fdt\-\_\-del\-\_\-mem\-\_\-rsv()} removes the n-\/th memory reserve map entry from the blob.

This function will delete data from the reservation table and will therefore change the indexes of some entries in the table.

returns\-: 0, on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, there is no entry of the given index (i.\-e. there are less than n+1 reserve map entries) -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings 

References F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, fdt\-\_\-mem\-\_\-rsv\-\_\-w\-\_\-(), fdt\-\_\-num\-\_\-mem\-\_\-rsv(), F\-D\-T\-\_\-\-R\-W\-\_\-\-P\-R\-O\-B\-E, and fdt\-\_\-splice\-\_\-mem\-\_\-rsv\-\_\-().


\begin{DoxyCode}
173 \{
174     \textcolor{keyword}{struct }\hyperlink{structfdt__reserve__entry}{fdt\_reserve\_entry} *re = \hyperlink{libfdt__internal_8h_a8ca1c0f897d5cfa497cd9f4c52f8f5e9}{fdt\_mem\_rsv\_w\_}(fdt, n);
175 
176     \hyperlink{fdt__rw_8c_a8a087a089359a4a7a0ac78608ab6b2b9}{FDT\_RW\_PROBE}(fdt);
177 
178     \textcolor{keywordflow}{if} (n >= \hyperlink{fdt__ro_8c_a79fa5b76564c75c9fb00fe8ca3ba3eee}{fdt\_num\_mem\_rsv}(fdt))
179         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND};
180 
181     \textcolor{keywordflow}{return} \hyperlink{fdt__rw_8c_a7b79e435b2a13401208cc45a79a9128b}{fdt\_splice\_mem\_rsv\_}(fdt, re, 1, 0);
182 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ad67005f5936eebeb182e55d5f36e9f85}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-del\-\_\-node@{fdt\-\_\-del\-\_\-node}}
\index{fdt\-\_\-del\-\_\-node@{fdt\-\_\-del\-\_\-node}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-del\-\_\-node}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-del\-\_\-node (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ad67005f5936eebeb182e55d5f36e9f85}
fdt\-\_\-del\-\_\-node -\/ delete a node (subtree) \-: pointer to the device tree blob \-: offset of the node to nop

\hyperlink{fdt__rw_8c_ad67005f5936eebeb182e55d5f36e9f85}{fdt\-\_\-del\-\_\-node()} will remove the given node, including all its subnodes if any, from the blob.

This function will delete data from the blob, and will therefore change the offsets of some existing nodes.

returns\-: 0, on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset did not point to F\-D\-T\-\_\-\-B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings 

References fdt\-\_\-node\-\_\-end\-\_\-offset\-\_\-(), fdt\-\_\-offset\-\_\-ptr\-\_\-w\-\_\-(), F\-D\-T\-\_\-\-R\-W\-\_\-\-P\-R\-O\-B\-E, and fdt\-\_\-splice\-\_\-struct\-\_\-().


\begin{DoxyCode}
383 \{
384     \textcolor{keywordtype}{int} endoffset;
385 
386     \hyperlink{fdt__rw_8c_a8a087a089359a4a7a0ac78608ab6b2b9}{FDT\_RW\_PROBE}(fdt);
387 
388     endoffset = \hyperlink{fdt__wip_8c_a45210c5c83d2fc1bed7cb7161e471fad}{fdt\_node\_end\_offset\_}(fdt, nodeoffset);
389     \textcolor{keywordflow}{if} (endoffset < 0)
390         \textcolor{keywordflow}{return} endoffset;
391 
392     \textcolor{keywordflow}{return} \hyperlink{fdt__rw_8c_a81016864afd7abbca6d2f35389f6809f}{fdt\_splice\_struct\_}(fdt, \hyperlink{libfdt__internal_8h_ae42dc2243a1db6dc0c0eee8771367315}{fdt\_offset\_ptr\_w\_}(fdt, nodeoffset),
393                   endoffset - nodeoffset, 0);
394 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a60669f12d277c4c0cc25bba7b9c2d5c4}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-delprop@{fdt\-\_\-delprop}}
\index{fdt\-\_\-delprop@{fdt\-\_\-delprop}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-delprop}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-delprop (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a60669f12d277c4c0cc25bba7b9c2d5c4}


References fdt\-\_\-get\-\_\-property\-\_\-w(), F\-D\-T\-\_\-\-R\-W\-\_\-\-P\-R\-O\-B\-E, fdt\-\_\-splice\-\_\-struct\-\_\-(), F\-D\-T\-\_\-\-T\-A\-G\-A\-L\-I\-G\-N, and fdt\-\_\-property\-::len.


\begin{DoxyCode}
319 \{
320     \textcolor{keyword}{struct }\hyperlink{structfdt__property}{fdt\_property} *prop;
321     \textcolor{keywordtype}{int} \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len}, proplen;
322 
323     \hyperlink{fdt__rw_8c_a8a087a089359a4a7a0ac78608ab6b2b9}{FDT\_RW\_PROBE}(fdt);
324 
325     prop = \hyperlink{libfdt_8h_a3ef3cd199863ded58e473a71ebdd478c}{fdt\_get\_property\_w}(fdt, nodeoffset, name, &len);
326     \textcolor{keywordflow}{if} (!prop)
327         \textcolor{keywordflow}{return} \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len};
328 
329     proplen = \textcolor{keyword}{sizeof}(*prop) + \hyperlink{libfdt__internal_8h_a8955518b67338925d939fe2389b41796}{FDT\_TAGALIGN}(len);
330     \textcolor{keywordflow}{return} \hyperlink{fdt__rw_8c_a81016864afd7abbca6d2f35389f6809f}{fdt\_splice\_struct\_}(fdt, prop, proplen, 0);
331 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ac806fe57ee0d47d0a8621fa82aa5414b}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-end\-\_\-node@{fdt\-\_\-end\-\_\-node}}
\index{fdt\-\_\-end\-\_\-node@{fdt\-\_\-end\-\_\-node}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-end\-\_\-node}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-end\-\_\-node (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ac806fe57ee0d47d0a8621fa82aa5414b}


References cpu\-\_\-to\-\_\-fdt32(), F\-D\-T\-\_\-\-E\-N\-D\-\_\-\-N\-O\-D\-E, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, fdt\-\_\-grab\-\_\-space\-\_\-(), F\-D\-T\-\_\-\-S\-W\-\_\-\-P\-R\-O\-B\-E\-\_\-\-S\-T\-R\-U\-C\-T, and F\-D\-T\-\_\-\-T\-A\-G\-S\-I\-Z\-E.



Referenced by fdt\-\_\-create\-\_\-empty\-\_\-tree().


\begin{DoxyCode}
237 \{
238     \hyperlink{libfdt__env_8h_a76887ac8786252752fb3f9a39b21f3af}{fdt32\_t} *en;
239 
240     \hyperlink{fdt__sw_8c_a71f41b9df0134e4b8e4bc2cf023741d2}{FDT\_SW\_PROBE\_STRUCT}(fdt);
241 
242     en = \hyperlink{fdt__sw_8c_a2b84719929e321e90fce03acaf600413}{fdt\_grab\_space\_}(fdt, \hyperlink{fdt_8h_ada36dac7d767aceec040a00307dba77b}{FDT\_TAGSIZE});
243     \textcolor{keywordflow}{if} (! en)
244         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
245 
246     *en = \hyperlink{libfdt__env_8h_a06ce41f441b8a56710000af3c3e516e5}{cpu\_to\_fdt32}(\hyperlink{fdt_8h_a97c9b3b1971681a8183442ddd0a8009c}{FDT\_END\_NODE});
247     \textcolor{keywordflow}{return} 0;
248 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a57fbf6be8c4911e8448942b9fed97301}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-find\-\_\-max\-\_\-phandle@{fdt\-\_\-find\-\_\-max\-\_\-phandle}}
\index{fdt\-\_\-find\-\_\-max\-\_\-phandle@{fdt\-\_\-find\-\_\-max\-\_\-phandle}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-find\-\_\-max\-\_\-phandle}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-find\-\_\-max\-\_\-phandle (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{{\bf uint32\-\_\-t} $\ast$}]{phandle}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a57fbf6be8c4911e8448942b9fed97301}
fdt\-\_\-find\-\_\-max\-\_\-phandle -\/ find and return the highest phandle in a tree \-: pointer to the device tree blob \-: return location for the highest phandle value found in the tree

\hyperlink{fdt__ro_8c_a57fbf6be8c4911e8448942b9fed97301}{fdt\-\_\-find\-\_\-max\-\_\-phandle()} finds the highest phandle value in the given device tree. The value returned in  is only valid if the function returns success.

returns\-: 0 on success or a negative error code on failure 

References F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, fdt\-\_\-get\-\_\-phandle(), fdt\-\_\-next\-\_\-node(), and N\-U\-L\-L.



Referenced by fdt\-\_\-generate\-\_\-phandle(), fdt\-\_\-get\-\_\-max\-\_\-phandle(), and fdt\-\_\-overlay\-\_\-apply().


\begin{DoxyCode}
115 \{
116     \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t} max = 0;
117     \textcolor{keywordtype}{int} offset = -1;
118 
119     \textcolor{keywordflow}{while} (\textcolor{keyword}{true}) \{
120         \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t} value;
121 
122         offset = \hyperlink{fdt_8c_a6603ac8041afcc7fde5c0b25de765103}{fdt\_next\_node}(fdt, offset, \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
123         \textcolor{keywordflow}{if} (offset < 0) \{
124             \textcolor{keywordflow}{if} (offset == -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND})
125                 \textcolor{keywordflow}{break};
126 
127             \textcolor{keywordflow}{return} offset;
128         \}
129 
130         value = \hyperlink{fdt__ro_8c_a0689bb9f27bdaaa355855425b4eb7149}{fdt\_get\_phandle}(fdt, offset);
131 
132         \textcolor{keywordflow}{if} (value > max)
133             max = value;
134     \}
135 
136     \textcolor{keywordflow}{if} (phandle)
137         *phandle = max;
138 
139     \textcolor{keywordflow}{return} 0;
140 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a64e71b32a23ad494306c69b3cd4ba159}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-finish@{fdt\-\_\-finish}}
\index{fdt\-\_\-finish@{fdt\-\_\-finish}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-finish}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-finish (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a64e71b32a23ad494306c69b3cd4ba159}


References cpu\-\_\-to\-\_\-fdt32(), fdt32\-\_\-to\-\_\-cpu(), F\-D\-T\-\_\-\-E\-N\-D, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, fdt\-\_\-grab\-\_\-space\-\_\-(), F\-D\-T\-\_\-\-L\-A\-S\-T\-\_\-\-C\-O\-M\-P\-A\-T\-I\-B\-L\-E\-\_\-\-V\-E\-R\-S\-I\-O\-N, F\-D\-T\-\_\-\-M\-A\-G\-I\-C, fdt\-\_\-next\-\_\-tag(), fdt\-\_\-off\-\_\-dt\-\_\-struct, fdt\-\_\-offset\-\_\-ptr\-\_\-w\-\_\-(), F\-D\-T\-\_\-\-P\-R\-O\-P, fdt\-\_\-size\-\_\-dt\-\_\-strings, fdt\-\_\-size\-\_\-dt\-\_\-struct, F\-D\-T\-\_\-\-S\-W\-\_\-\-P\-R\-O\-B\-E\-\_\-\-S\-T\-R\-U\-C\-T, fdt\-\_\-totalsize, memmove(), fdt\-\_\-property\-::nameoff, and fdt\-\_\-property\-::tag.



Referenced by fdt\-\_\-create\-\_\-empty\-\_\-tree().


\begin{DoxyCode}
338 \{
339     \textcolor{keywordtype}{char} *p = (\textcolor{keywordtype}{char} *)fdt;
340     \hyperlink{libfdt__env_8h_a76887ac8786252752fb3f9a39b21f3af}{fdt32\_t} *end;
341     \textcolor{keywordtype}{int} oldstroffset, newstroffset;
342     \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t} \hyperlink{structfdt__property_a6c0d0fd0e741c931f7b3ca1482193740}{tag};
343     \textcolor{keywordtype}{int} offset, nextoffset;
344 
345     \hyperlink{fdt__sw_8c_a71f41b9df0134e4b8e4bc2cf023741d2}{FDT\_SW\_PROBE\_STRUCT}(fdt);
346 
347     \textcolor{comment}{/* Add terminator */}
348     end = \hyperlink{fdt__sw_8c_a2b84719929e321e90fce03acaf600413}{fdt\_grab\_space\_}(fdt, \textcolor{keyword}{sizeof}(*end));
349     \textcolor{keywordflow}{if} (! end)
350         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
351     *end = \hyperlink{libfdt__env_8h_a06ce41f441b8a56710000af3c3e516e5}{cpu\_to\_fdt32}(\hyperlink{fdt_8h_a53275b16340fb458df4782462f283d8c}{FDT\_END});
352 
353     \textcolor{comment}{/* Relocate the string table */}
354     oldstroffset = \hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\_totalsize}(fdt) - \hyperlink{libfdt_8h_aa0748803d707f2be7d15ebfb815d31b4}{fdt\_size\_dt\_strings}(fdt);
355     newstroffset = \hyperlink{libfdt_8h_ae2ef3611d83ac29bb6de09594ead9969}{fdt\_off\_dt\_struct}(fdt) + \hyperlink{libfdt_8h_a73b5fa0a791f02805b93ea70c6cb30ab}{fdt\_size\_dt\_struct}(fdt);
356     \hyperlink{cstd_8c_a802c986820d3866639922b6bc9484f90}{memmove}(p + newstroffset, p + oldstroffset, \hyperlink{libfdt_8h_aa0748803d707f2be7d15ebfb815d31b4}{fdt\_size\_dt\_strings}(fdt));
357     fdt\_set\_off\_dt\_strings(fdt, newstroffset);
358 
359     \textcolor{comment}{/* Walk the structure, correcting string offsets */}
360     offset = 0;
361     \textcolor{keywordflow}{while} ((tag = \hyperlink{fdt_8c_ae1b4b34a1b1fa1230d3ccacf14446b61}{fdt\_next\_tag}(fdt, offset, &nextoffset)) != \hyperlink{fdt_8h_a53275b16340fb458df4782462f283d8c}{FDT\_END}) \{
362         \textcolor{keywordflow}{if} (tag == \hyperlink{fdt_8h_a3304a9313cbf7ecced77f89ff5f25dde}{FDT\_PROP}) \{
363             \textcolor{keyword}{struct }\hyperlink{structfdt__property}{fdt\_property} *prop =
364                 \hyperlink{libfdt__internal_8h_ae42dc2243a1db6dc0c0eee8771367315}{fdt\_offset\_ptr\_w\_}(fdt, offset);
365             \textcolor{keywordtype}{int} \hyperlink{structfdt__property_ad5753794266beffe67b79b6e5b3ab352}{nameoff};
366 
367             nameoff = \hyperlink{libfdt__env_8h_a6485ea7225a1927cc5ab1a34dabe298f}{fdt32\_to\_cpu}(prop->\hyperlink{structfdt__property_ad5753794266beffe67b79b6e5b3ab352}{nameoff});
368             nameoff += \hyperlink{libfdt_8h_aa0748803d707f2be7d15ebfb815d31b4}{fdt\_size\_dt\_strings}(fdt);
369             prop->\hyperlink{structfdt__property_ad5753794266beffe67b79b6e5b3ab352}{nameoff} = \hyperlink{libfdt__env_8h_a06ce41f441b8a56710000af3c3e516e5}{cpu\_to\_fdt32}(nameoff);
370         \}
371         offset = nextoffset;
372     \}
373     \textcolor{keywordflow}{if} (nextoffset < 0)
374         \textcolor{keywordflow}{return} nextoffset;
375 
376     \textcolor{comment}{/* Finally, adjust the header */}
377     fdt\_set\_totalsize(fdt, newstroffset + \hyperlink{libfdt_8h_aa0748803d707f2be7d15ebfb815d31b4}{fdt\_size\_dt\_strings}(fdt));
378 
379     \textcolor{comment}{/* And fix up fields that were keeping intermediate state. */}
380     fdt\_set\_last\_comp\_version(fdt, \hyperlink{libfdt_8h_a92dfcdf28c0695fc365661c3b3f2ce6a}{FDT\_LAST\_COMPATIBLE\_VERSION});
381     fdt\_set\_magic(fdt, \hyperlink{fdt_8h_a5d5b14eccb44e809abddd8a946ddc8a3}{FDT\_MAGIC});
382 
383     \textcolor{keywordflow}{return} 0;
384 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a05d900f8144f846f0ccafbcf97c46078}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-finish\-\_\-reservemap@{fdt\-\_\-finish\-\_\-reservemap}}
\index{fdt\-\_\-finish\-\_\-reservemap@{fdt\-\_\-finish\-\_\-reservemap}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-finish\-\_\-reservemap}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-finish\-\_\-reservemap (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a05d900f8144f846f0ccafbcf97c46078}


References fdt\-\_\-add\-\_\-reservemap\-\_\-entry(), and fdt\-\_\-totalsize.



Referenced by fdt\-\_\-create\-\_\-empty\-\_\-tree().


\begin{DoxyCode}
209 \{
210     \textcolor{keywordtype}{int} err = \hyperlink{fdt__sw_8c_aa19f8fdf0e1719f5f5f45d5301dba4d8}{fdt\_add\_reservemap\_entry}(fdt, 0, 0);
211 
212     \textcolor{keywordflow}{if} (err)
213         \textcolor{keywordflow}{return} err;
214 
215     fdt\_set\_off\_dt\_strings(fdt, \hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\_totalsize}(fdt));
216     \textcolor{keywordflow}{return} 0;
217 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_aba2e2271df9d7cbcbb6ac633bd169bcf}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-first\-\_\-property\-\_\-offset@{fdt\-\_\-first\-\_\-property\-\_\-offset}}
\index{fdt\-\_\-first\-\_\-property\-\_\-offset@{fdt\-\_\-first\-\_\-property\-\_\-offset}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-first\-\_\-property\-\_\-offset}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-first\-\_\-property\-\_\-offset (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_aba2e2271df9d7cbcbb6ac633bd169bcf}
fdt\-\_\-first\-\_\-property\-\_\-offset -\/ find the offset of a node's first property \-: pointer to the device tree blob \-: structure block offset of a node

\hyperlink{fdt__ro_8c_aba2e2271df9d7cbcbb6ac633bd169bcf}{fdt\-\_\-first\-\_\-property\-\_\-offset()} finds the first property of the node at the given structure block offset.

returns\-: structure block offset of the property ($>$=0), on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, if the requested node has no properties -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, if nodeoffset did not point to an F\-D\-T\-\_\-\-B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings. 

References fdt\-\_\-check\-\_\-node\-\_\-offset\-\_\-(), and nextprop\-\_\-().



Referenced by fdt\-\_\-get\-\_\-property\-\_\-namelen\-\_\-().


\begin{DoxyCode}
339 \{
340     \textcolor{keywordtype}{int} offset;
341 
342     \textcolor{keywordflow}{if} ((offset = \hyperlink{fdt_8c_a8f4832389aff9d7c0663b6b70cdd42dd}{fdt\_check\_node\_offset\_}(fdt, nodeoffset)) < 0)
343         \textcolor{keywordflow}{return} offset;
344 
345     \textcolor{keywordflow}{return} \hyperlink{fdt__ro_8c_a0a233378abbb816de0249098cb2fc450}{nextprop\_}(fdt, offset);
346 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a0c888491fbef3ded52e45ac4772ea02f}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-first\-\_\-subnode@{fdt\-\_\-first\-\_\-subnode}}
\index{fdt\-\_\-first\-\_\-subnode@{fdt\-\_\-first\-\_\-subnode}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-first\-\_\-subnode}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-first\-\_\-subnode (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{offset}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a0c888491fbef3ded52e45ac4772ea02f}
\hyperlink{fdt_8c_a0c888491fbef3ded52e45ac4772ea02f}{fdt\-\_\-first\-\_\-subnode()} -\/ get offset of first direct subnode \-: F\-D\-T blob \-: Offset of node to check

Return\-: offset of first subnode, or -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D if there is none 

References F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, and fdt\-\_\-next\-\_\-node().


\begin{DoxyCode}
288 \{
289     \textcolor{keywordtype}{int} depth = 0;
290 
291     offset = \hyperlink{fdt_8c_a6603ac8041afcc7fde5c0b25de765103}{fdt\_next\_node}(fdt, offset, &depth);
292     \textcolor{keywordflow}{if} (offset < 0 || depth != 1)
293         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND};
294 
295     \textcolor{keywordflow}{return} offset;
296 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a7ad648a7cf17f33659fb6cbb9545ce38}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-generate\-\_\-phandle@{fdt\-\_\-generate\-\_\-phandle}}
\index{fdt\-\_\-generate\-\_\-phandle@{fdt\-\_\-generate\-\_\-phandle}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-generate\-\_\-phandle}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-generate\-\_\-phandle (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{{\bf uint32\-\_\-t} $\ast$}]{phandle}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a7ad648a7cf17f33659fb6cbb9545ce38}
fdt\-\_\-generate\-\_\-phandle -\/ return a new, unused phandle for a device tree blob \-: pointer to the device tree blob \-: return location for the new phandle

Walks the device tree blob and looks for the highest phandle value. On success, the new, unused phandle value (one higher than the previously highest phandle value in the device tree blob) will be returned in the  parameter.

Return\-: 0 on success or a negative error-\/code on failure 

References F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-P\-H\-A\-N\-D\-L\-E\-S, fdt\-\_\-find\-\_\-max\-\_\-phandle(), and F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-P\-H\-A\-N\-D\-L\-E.


\begin{DoxyCode}
143 \{
144     \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t} max;
145     \textcolor{keywordtype}{int} err;
146 
147     err = \hyperlink{fdt__ro_8c_a57fbf6be8c4911e8448942b9fed97301}{fdt\_find\_max\_phandle}(fdt, &max);
148     \textcolor{keywordflow}{if} (err < 0)
149         \textcolor{keywordflow}{return} err;
150 
151     \textcolor{keywordflow}{if} (max == \hyperlink{libfdt_8h_adf35cab72ef2f580fb1263c2c4d4f33a}{FDT\_MAX\_PHANDLE})
152         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a7dbda231b96112ab9cd6d2eca9b42bfb}{FDT\_ERR\_NOPHANDLES};
153 
154     \textcolor{keywordflow}{if} (phandle)
155         *phandle = max + 1;
156 
157     \textcolor{keywordflow}{return} 0;
158 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_af65ebffdb681288cefa41db5ad41d1fe}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-get\-\_\-alias@{fdt\-\_\-get\-\_\-alias}}
\index{fdt\-\_\-get\-\_\-alias@{fdt\-\_\-get\-\_\-alias}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-get\-\_\-alias}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ fdt\-\_\-get\-\_\-alias (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{const char $\ast$}]{name}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_af65ebffdb681288cefa41db5ad41d1fe}


References fdt\-\_\-get\-\_\-alias\-\_\-namelen(), and strlen().


\begin{DoxyCode}
544 \{
545     \textcolor{keywordflow}{return} \hyperlink{fdt__ro_8c_a1446c9a325c1348d88007632675f2641}{fdt\_get\_alias\_namelen}(fdt, name, \hyperlink{cstd_8c_a54684bded3e61e2d78d490650f9b706a}{strlen}(name));
546 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a1446c9a325c1348d88007632675f2641}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-get\-\_\-alias\-\_\-namelen@{fdt\-\_\-get\-\_\-alias\-\_\-namelen}}
\index{fdt\-\_\-get\-\_\-alias\-\_\-namelen@{fdt\-\_\-get\-\_\-alias\-\_\-namelen}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-get\-\_\-alias\-\_\-namelen}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ fdt\-\_\-get\-\_\-alias\-\_\-namelen (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{const char $\ast$}]{name, }
\item[{int}]{namelen}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a1446c9a325c1348d88007632675f2641}


References fdt\-\_\-path\-\_\-getprop\-\_\-namelen(), and N\-U\-L\-L.



Referenced by fdt\-\_\-get\-\_\-alias(), and fdt\-\_\-path\-\_\-offset\-\_\-namelen().


\begin{DoxyCode}
539 \{
540     \textcolor{keywordflow}{return} \hyperlink{fdt__ro_8c_a4f970773c1f5023ddb012f1f5d799c5e}{fdt\_path\_getprop\_namelen}(fdt, \textcolor{stringliteral}{"/aliases"}, name, namelen, 
      \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
541 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_af3768f9827584e1ae0f09103dfb3c392}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-get\-\_\-max\-\_\-phandle@{fdt\-\_\-get\-\_\-max\-\_\-phandle}}
\index{fdt\-\_\-get\-\_\-max\-\_\-phandle@{fdt\-\_\-get\-\_\-max\-\_\-phandle}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-get\-\_\-max\-\_\-phandle}]{\setlength{\rightskip}{0pt plus 5cm}static {\bf uint32\-\_\-t} fdt\-\_\-get\-\_\-max\-\_\-phandle (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_af3768f9827584e1ae0f09103dfb3c392}
fdt\-\_\-get\-\_\-max\-\_\-phandle -\/ retrieves the highest phandle in a tree \-: pointer to the device tree blob

fdt\-\_\-get\-\_\-max\-\_\-phandle retrieves the highest phandle in the given device tree. This will ignore badly formatted phandles, or phandles with a value of 0 or -\/1.

This function is deprecated in favour of \hyperlink{fdt__ro_8c_a57fbf6be8c4911e8448942b9fed97301}{fdt\-\_\-find\-\_\-max\-\_\-phandle()}.

returns\-: the highest phandle on success 0, if no phandle was found in the device tree -\/1, if an error occurred 

References fdt\-\_\-find\-\_\-max\-\_\-phandle().


\begin{DoxyCode}
399 \{
400     \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t} phandle;
401     \textcolor{keywordtype}{int} err;
402 
403     err = \hyperlink{fdt__ro_8c_a57fbf6be8c4911e8448942b9fed97301}{fdt\_find\_max\_phandle}(fdt, &phandle);
404     \textcolor{keywordflow}{if} (err < 0)
405         \textcolor{keywordflow}{return} (\hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t})-1;
406 
407     \textcolor{keywordflow}{return} phandle;
408 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a4c50a267dcbd5c24256040e5c60362e6}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-get\-\_\-mem\-\_\-rsv@{fdt\-\_\-get\-\_\-mem\-\_\-rsv}}
\index{fdt\-\_\-get\-\_\-mem\-\_\-rsv@{fdt\-\_\-get\-\_\-mem\-\_\-rsv}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-get\-\_\-mem\-\_\-rsv}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-get\-\_\-mem\-\_\-rsv (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{n, }
\item[{{\bf uint64\-\_\-t} $\ast$}]{address, }
\item[{{\bf uint64\-\_\-t} $\ast$}]{size}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a4c50a267dcbd5c24256040e5c60362e6}
fdt\-\_\-get\-\_\-mem\-\_\-rsv -\/ retrieve one memory reserve map entry \-: pointer to the device tree blob \par
\-: index of reserve map entry \-: pointer to 64-\/bit variable to hold the start address \-: pointer to 64-\/bit variable to hold the size of the entry

On success,  and  will contain the address and size of the n-\/th reserve map entry from the device tree blob, in native-\/endian format.

returns\-: 0, on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, standard meanings 

References fdt\-\_\-reserve\-\_\-entry\-::address, can\-\_\-assume, fdt64\-\_\-ld\-\_\-(), F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, fdt\-\_\-mem\-\_\-rsv(), F\-D\-T\-\_\-\-R\-O\-\_\-\-P\-R\-O\-B\-E, and fdt\-\_\-reserve\-\_\-entry\-::size.


\begin{DoxyCode}
176 \{
177     \textcolor{keyword}{const} \textcolor{keyword}{struct }\hyperlink{structfdt__reserve__entry}{fdt\_reserve\_entry} *re;
178 
179     \hyperlink{libfdt__internal_8h_ad6927f926180469d5c044ec5d3b2f84b}{FDT\_RO\_PROBE}(fdt);
180     re = \hyperlink{fdt__ro_8c_aa26d083555e092c1fc4f07a452502eb4}{fdt\_mem\_rsv}(fdt, n);
181     \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(VALID\_INPUT) && !re)
182         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a5025b6b09a009bd2b516e6a831d7ce72}{FDT\_ERR\_BADOFFSET};
183 
184     *\hyperlink{structfdt__reserve__entry_a1453319ff97e2d7c2ec0762cee56e98e}{address} = \hyperlink{libfdt__internal_8h_af075236a40c956f7e24e7ba5235f35ce}{fdt64\_ld\_}(&re->\hyperlink{structfdt__reserve__entry_a1453319ff97e2d7c2ec0762cee56e98e}{address});
185     *\hyperlink{structfdt__reserve__entry_ace12399f157bc46877fbcddec98da67e}{size} = \hyperlink{libfdt__internal_8h_af075236a40c956f7e24e7ba5235f35ce}{fdt64\_ld\_}(&re->\hyperlink{structfdt__reserve__entry_ace12399f157bc46877fbcddec98da67e}{size});
186     \textcolor{keywordflow}{return} 0;
187 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ac564aade4959681f30ee68200e0ba5c5}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-get\-\_\-name@{fdt\-\_\-get\-\_\-name}}
\index{fdt\-\_\-get\-\_\-name@{fdt\-\_\-get\-\_\-name}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-get\-\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ fdt\-\_\-get\-\_\-name (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{int $\ast$}]{lenp}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ac564aade4959681f30ee68200e0ba5c5}
fdt\-\_\-get\-\_\-name -\/ retrieve the name of a given node \-: pointer to the device tree blob \-: structure block offset of the starting node \-: pointer to an integer variable (will be overwritten) or N\-U\-L\-L

\hyperlink{fdt__ro_8c_a22a72941a288c00c88c36164fdc793c0}{fdt\-\_\-get\-\_\-name()} retrieves the name (including unit address) of the device tree node at structure block offset nodeoffset. If lenp is non-\/\-N\-U\-L\-L, the length of this name is also returned, in the integer pointed to by lenp.

returns\-: pointer to the node's name, on success If lenp is non-\/\-N\-U\-L\-L, $\ast$lenp contains the length of that name ($>$=0) N\-U\-L\-L, on error if lenp is non-\/\-N\-U\-L\-L $\ast$lenp contains an error code ($<$0)\-: -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset did not point to F\-D\-T\-\_\-\-B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, standard meanings 

References can\-\_\-assume, fdt\-\_\-check\-\_\-node\-\_\-offset\-\_\-(), F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, fdt\-\_\-offset\-\_\-ptr\-\_\-(), fdt\-\_\-ro\-\_\-probe\-\_\-(), fdt\-\_\-version, fdt\-\_\-node\-\_\-header\-::name, N\-U\-L\-L, strlen(), and strrchr().



Referenced by fdt\-\_\-check\-\_\-full(), fdt\-\_\-get\-\_\-path(), fdt\-\_\-nodename\-\_\-eq\-\_\-(), fdt\-\_\-set\-\_\-name(), get\-\_\-path\-\_\-len(), overlay\-\_\-apply\-\_\-node(), and overlay\-\_\-update\-\_\-local\-\_\-node\-\_\-references().


\begin{DoxyCode}
301 \{
302     \textcolor{keyword}{const} \textcolor{keyword}{struct }\hyperlink{structfdt__node__header}{fdt\_node\_header} *nh = \hyperlink{libfdt__internal_8h_a669df6806fbbdd717cef1c9c821dff06}{fdt\_offset\_ptr\_}(fdt, nodeoffset);
303     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *nameptr;
304     \textcolor{keywordtype}{int} err;
305 
306     \textcolor{keywordflow}{if} (((err = \hyperlink{fdt_8c_a69f9fe649e0c3dccd2eac79dafe54a4a}{fdt\_ro\_probe\_}(fdt)) < 0)
307         || ((err = \hyperlink{fdt_8c_a8f4832389aff9d7c0663b6b70cdd42dd}{fdt\_check\_node\_offset\_}(fdt, nodeoffset)) < 0))
308             \textcolor{keywordflow}{goto} fail;
309 
310     nameptr = nh->\hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name};
311 
312     \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(LATEST) && \hyperlink{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}{fdt\_version}(fdt) < 0x10) \{
313         \textcolor{comment}{/*}
314 \textcolor{comment}{         * For old FDT versions, match the naming conventions of V16:}
315 \textcolor{comment}{         * give only the leaf name (after all /). The actual tree}
316 \textcolor{comment}{         * contents are loosely checked.}
317 \textcolor{comment}{         */}
318         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *leaf;
319         leaf = \hyperlink{cstd_8c_a0c05a458deff028ef4d4e64059098db4}{strrchr}(nameptr, \textcolor{charliteral}{'/'});
320         \textcolor{keywordflow}{if} (leaf == \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}) \{
321             err = -\hyperlink{libfdt_8h_aef7e5f2183c72ef2b4698bb918d8f2f7}{FDT\_ERR\_BADSTRUCTURE};
322             \textcolor{keywordflow}{goto} fail;
323         \}
324         nameptr = leaf+1;
325     \}
326 
327     \textcolor{keywordflow}{if} (len)
328         *len = \hyperlink{cstd_8c_a54684bded3e61e2d78d490650f9b706a}{strlen}(nameptr);
329 
330     \textcolor{keywordflow}{return} nameptr;
331 
332  fail:
333     \textcolor{keywordflow}{if} (len)
334         *len = err;
335     \textcolor{keywordflow}{return} \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
336 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a7b25d4bc3dd83403a39ef84b8a362bd5}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-get\-\_\-path@{fdt\-\_\-get\-\_\-path}}
\index{fdt\-\_\-get\-\_\-path@{fdt\-\_\-get\-\_\-path}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-get\-\_\-path}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-get\-\_\-path (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{char $\ast$}]{buf, }
\item[{int}]{buflen}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a7b25d4bc3dd83403a39ef84b8a362bd5}
fdt\-\_\-get\-\_\-path -\/ determine the full path of a node \-: pointer to the device tree blob \-: offset of the node whose path to find \-: character buffer to contain the returned path (will be overwritten) \-: size of the character buffer at buf

\hyperlink{fdt__ro_8c_a7b25d4bc3dd83403a39ef84b8a362bd5}{fdt\-\_\-get\-\_\-path()} computes the full path of the node at offset nodeoffset, and records that path in the buffer at buf.

N\-O\-T\-E\-: This function is expensive, as it must scan the device tree structure from the start to nodeoffset.

returns\-: 0, on success buf contains the absolute path of the node at nodeoffset, as a N\-U\-L-\/terminated string. -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset does not refer to a B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, the path of the given node is longer than (bufsize-\/1) characters and will not fit in the given buffer. -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, standard meanings 

References F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, fdt\-\_\-get\-\_\-name(), fdt\-\_\-next\-\_\-node(), F\-D\-T\-\_\-\-R\-O\-\_\-\-P\-R\-O\-B\-E, and memcpy().



Referenced by overlay\-\_\-symbol\-\_\-update().


\begin{DoxyCode}
560 \{
561     \textcolor{keywordtype}{int} pdepth = 0, p = 0;
562     \textcolor{keywordtype}{int} offset, depth, namelen;
563     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *\hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name};
564 
565     \hyperlink{libfdt__internal_8h_ad6927f926180469d5c044ec5d3b2f84b}{FDT\_RO\_PROBE}(fdt);
566 
567     \textcolor{keywordflow}{if} (buflen < 2)
568         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
569 
570     \textcolor{keywordflow}{for} (offset = 0, depth = 0;
571          (offset >= 0) && (offset <= nodeoffset);
572          offset = \hyperlink{fdt_8c_a6603ac8041afcc7fde5c0b25de765103}{fdt\_next\_node}(fdt, offset, &depth)) \{
573         \textcolor{keywordflow}{while} (pdepth > depth) \{
574             \textcolor{keywordflow}{do} \{
575                 p--;
576             \} \textcolor{keywordflow}{while} (buf[p-1] != \textcolor{charliteral}{'/'});
577             pdepth--;
578         \}
579 
580         \textcolor{keywordflow}{if} (pdepth >= depth) \{
581             name = \hyperlink{fdt__ro_8c_a22a72941a288c00c88c36164fdc793c0}{fdt\_get\_name}(fdt, offset, &namelen);
582             \textcolor{keywordflow}{if} (!name)
583                 \textcolor{keywordflow}{return} namelen;
584             \textcolor{keywordflow}{if} ((p + namelen + 1) <= buflen) \{
585                 \hyperlink{cstd_8c_a40deeb5b928964e60d97b3b8fd8a9b33}{memcpy}(buf + p, name, namelen);
586                 p += namelen;
587                 buf[p++] = \textcolor{charliteral}{'/'};
588                 pdepth++;
589             \}
590         \}
591 
592         \textcolor{keywordflow}{if} (offset == nodeoffset) \{
593             \textcolor{keywordflow}{if} (pdepth < (depth + 1))
594                 \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
595 
596             \textcolor{keywordflow}{if} (p > 1) \textcolor{comment}{/* special case so that root path is "/", not "" */}
597                 p--;
598             buf[p] = \textcolor{charliteral}{'\(\backslash\)0'};
599             \textcolor{keywordflow}{return} 0;
600         \}
601     \}
602 
603     \textcolor{keywordflow}{if} ((offset == -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND}) || (offset >= 0))
604         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a5025b6b09a009bd2b516e6a831d7ce72}{FDT\_ERR\_BADOFFSET};
605     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (offset == -\hyperlink{libfdt_8h_a5025b6b09a009bd2b516e6a831d7ce72}{FDT\_ERR\_BADOFFSET})
606         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_aef7e5f2183c72ef2b4698bb918d8f2f7}{FDT\_ERR\_BADSTRUCTURE};
607 
608     \textcolor{keywordflow}{return} offset; \textcolor{comment}{/* error from fdt\_next\_node() */}
609 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a0689bb9f27bdaaa355855425b4eb7149}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-get\-\_\-phandle@{fdt\-\_\-get\-\_\-phandle}}
\index{fdt\-\_\-get\-\_\-phandle@{fdt\-\_\-get\-\_\-phandle}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-get\-\_\-phandle}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\-\_\-t} fdt\-\_\-get\-\_\-phandle (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a0689bb9f27bdaaa355855425b4eb7149}
fdt\-\_\-get\-\_\-phandle -\/ retrieve the phandle of a given node \-: pointer to the device tree blob \-: structure block offset of the node

\hyperlink{fdt__ro_8c_a0689bb9f27bdaaa355855425b4eb7149}{fdt\-\_\-get\-\_\-phandle()} retrieves the phandle of the device tree node at structure block offset nodeoffset.

returns\-: the phandle of the node at nodeoffset, on success (!= 0, != -\/1) 0, if the node has no phandle, or another error occurs 

References fdt32\-\_\-ld\-\_\-(), fdt\-\_\-getprop(), and fdt\-\_\-property\-::len.



Referenced by fdt\-\_\-find\-\_\-max\-\_\-phandle(), fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-phandle(), and overlay\-\_\-fixup\-\_\-one\-\_\-phandle().


\begin{DoxyCode}
509 \{
510     \textcolor{keyword}{const} \hyperlink{libfdt__env_8h_a76887ac8786252752fb3f9a39b21f3af}{fdt32\_t} *php;
511     \textcolor{keywordtype}{int} len;
512 
513     \textcolor{comment}{/* FIXME: This is a bit sub-optimal, since we potentially scan}
514 \textcolor{comment}{     * over all the properties twice. */}
515     php = \hyperlink{fdt__ro_8c_a0a72997fe1eb5a57885bbb988256d08f}{fdt\_getprop}(fdt, nodeoffset, \textcolor{stringliteral}{"phandle"}, &len);
516     \textcolor{keywordflow}{if} (!php || (len != \textcolor{keyword}{sizeof}(*php))) \{
517         php = \hyperlink{fdt__ro_8c_a0a72997fe1eb5a57885bbb988256d08f}{fdt\_getprop}(fdt, nodeoffset, \textcolor{stringliteral}{"linux,phandle"}, &len);
518         \textcolor{keywordflow}{if} (!php || (len != \textcolor{keyword}{sizeof}(*php)))
519             \textcolor{keywordflow}{return} 0;
520     \}
521 
522     \textcolor{keywordflow}{return} \hyperlink{libfdt__internal_8h_a066e0e174590b6a1a34eef6a0c777710}{fdt32\_ld\_}(php);
523 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a7f394390ede4870838765689941c6e3c}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-get\-\_\-property@{fdt\-\_\-get\-\_\-property}}
\index{fdt\-\_\-get\-\_\-property@{fdt\-\_\-get\-\_\-property}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-get\-\_\-property}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf fdt\-\_\-property}$\ast$ fdt\-\_\-get\-\_\-property (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{int $\ast$}]{lenp}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a7f394390ede4870838765689941c6e3c}


References fdt\-\_\-get\-\_\-property\-\_\-namelen(), and strlen().



Referenced by fdt\-\_\-get\-\_\-property\-\_\-w().


\begin{DoxyCode}
446 \{
447     \textcolor{keywordflow}{return} \hyperlink{fdt__ro_8c_ac9739a424852c1400e3c09e5a1bf4364}{fdt\_get\_property\_namelen}(fdt, nodeoffset, 
      \hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name},
448                     \hyperlink{cstd_8c_a54684bded3e61e2d78d490650f9b706a}{strlen}(\hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name}), lenp);
449 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a7de37480221a0d3381830233027d32bd}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset@{fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset}}
\index{fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset@{fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf fdt\-\_\-property}$\ast$ fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{offset, }
\item[{int $\ast$}]{lenp}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a7de37480221a0d3381830233027d32bd}
fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset -\/ retrieve the property at a given offset \-: pointer to the device tree blob \-: offset of the property to retrieve \-: pointer to an integer variable (will be overwritten) or N\-U\-L\-L

\hyperlink{fdt__ro_8c_a7de37480221a0d3381830233027d32bd}{fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset()} retrieves a pointer to the \hyperlink{structfdt__property}{fdt\-\_\-property} structure within the device tree blob at the given offset. If lenp is non-\/\-N\-U\-L\-L, the length of the property value is also returned, in the integer pointed to by lenp.

Note that this code only works on device tree versions $>$= 16. \hyperlink{fdt__ro_8c_a0a72997fe1eb5a57885bbb988256d08f}{fdt\-\_\-getprop()} works on all versions.

returns\-: pointer to the structure representing the property if lenp is non-\/\-N\-U\-L\-L, $\ast$lenp contains the length of the property value ($>$=0) N\-U\-L\-L, on error if lenp is non-\/\-N\-U\-L\-L, $\ast$lenp contains an error code ($<$0)\-: -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset did not point to F\-D\-T\-\_\-\-P\-R\-O\-P tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings 

References can\-\_\-assume, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset\-\_\-(), fdt\-\_\-version, and N\-U\-L\-L.



Referenced by fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset\-\_\-w().


\begin{DoxyCode}
381 \{
382     \textcolor{comment}{/* Prior to version 16, properties may need realignment}
383 \textcolor{comment}{     * and this API does not work. fdt\_getprop\_*() will, however. */}
384 
385     \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(LATEST) && \hyperlink{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}{fdt\_version}(fdt) < 0x10) \{
386         \textcolor{keywordflow}{if} (lenp)
387             *lenp = -\hyperlink{libfdt_8h_ad2a3b277a1e6987ead001fcd2415d88d}{FDT\_ERR\_BADVERSION};
388         \textcolor{keywordflow}{return} \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
389     \}
390 
391     \textcolor{keywordflow}{return} \hyperlink{fdt__ro_8c_a5968ba67990c99975ff5746c4f80c85a}{fdt\_get\_property\_by\_offset\_}(fdt, offset, lenp);
392 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_aa405faccea84b86b687e6db83befd2dd}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset\-\_\-w@{fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset\-\_\-w}}
\index{fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset\-\_\-w@{fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset\-\_\-w}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset\-\_\-w}]{\setlength{\rightskip}{0pt plus 5cm}static struct {\bf fdt\-\_\-property}$\ast$ fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset\-\_\-w (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{offset, }
\item[{int $\ast$}]{lenp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{libfdt_8h_aa405faccea84b86b687e6db83befd2dd}


References fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset().


\begin{DoxyCode}
691 \{
692     \textcolor{keywordflow}{return} (\textcolor{keyword}{struct} \hyperlink{structfdt__property}{fdt\_property} *)(\hyperlink{libfdt__env_8h_a83242de74310b4aec3fc506bc3644211}{uintptr\_t})
693         \hyperlink{fdt__ro_8c_a7de37480221a0d3381830233027d32bd}{fdt\_get\_property\_by\_offset}(fdt, offset, lenp);
694 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ab160a2065f835fb029a3e27f896126e4}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-get\-\_\-property\-\_\-namelen@{fdt\-\_\-get\-\_\-property\-\_\-namelen}}
\index{fdt\-\_\-get\-\_\-property\-\_\-namelen@{fdt\-\_\-get\-\_\-property\-\_\-namelen}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-get\-\_\-property\-\_\-namelen}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf fdt\-\_\-property}$\ast$ fdt\-\_\-get\-\_\-property\-\_\-namelen (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{int}]{namelen, }
\item[{int $\ast$}]{lenp}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ab160a2065f835fb029a3e27f896126e4}


References can\-\_\-assume, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, fdt\-\_\-get\-\_\-property\-\_\-namelen\-\_\-(), fdt\-\_\-version, and N\-U\-L\-L.



Referenced by fdt\-\_\-get\-\_\-property().


\begin{DoxyCode}
429 \{
430     \textcolor{comment}{/* Prior to version 16, properties may need realignment}
431 \textcolor{comment}{     * and this API does not work. fdt\_getprop\_*() will, however. */}
432     \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(LATEST) && \hyperlink{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}{fdt\_version}(fdt) < 0x10) \{
433         \textcolor{keywordflow}{if} (lenp)
434             *lenp = -\hyperlink{libfdt_8h_ad2a3b277a1e6987ead001fcd2415d88d}{FDT\_ERR\_BADVERSION};
435         \textcolor{keywordflow}{return} \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
436     \}
437 
438     \textcolor{keywordflow}{return} \hyperlink{fdt__ro_8c_a3fbd5b94defd29f9e25d8433a03529e9}{fdt\_get\_property\_namelen\_}(fdt, offset, \hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name}, namelen, lenp,
439                      \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
440 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a3ef3cd199863ded58e473a71ebdd478c}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-get\-\_\-property\-\_\-w@{fdt\-\_\-get\-\_\-property\-\_\-w}}
\index{fdt\-\_\-get\-\_\-property\-\_\-w@{fdt\-\_\-get\-\_\-property\-\_\-w}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-get\-\_\-property\-\_\-w}]{\setlength{\rightskip}{0pt plus 5cm}static struct {\bf fdt\-\_\-property}$\ast$ fdt\-\_\-get\-\_\-property\-\_\-w (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{int $\ast$}]{lenp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}}\label{libfdt_8h_a3ef3cd199863ded58e473a71ebdd478c}


References fdt\-\_\-get\-\_\-property().



Referenced by fdt\-\_\-appendprop(), fdt\-\_\-delprop(), fdt\-\_\-nop\-\_\-property(), and fdt\-\_\-resize\-\_\-property\-\_\-().


\begin{DoxyCode}
750 \{
751     \textcolor{keywordflow}{return} (\textcolor{keyword}{struct} \hyperlink{structfdt__property}{fdt\_property} *)(\hyperlink{libfdt__env_8h_a83242de74310b4aec3fc506bc3644211}{uintptr\_t})
752         \hyperlink{fdt__ro_8c_a7f394390ede4870838765689941c6e3c}{fdt\_get\_property}(fdt, nodeoffset, \hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name}, lenp);
753 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a394c6c241f569f12b5b1f350dfb745ea}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-get\-\_\-string@{fdt\-\_\-get\-\_\-string}}
\index{fdt\-\_\-get\-\_\-string@{fdt\-\_\-get\-\_\-string}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-get\-\_\-string}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ fdt\-\_\-get\-\_\-string (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{stroffset, }
\item[{int $\ast$}]{lenp}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a394c6c241f569f12b5b1f350dfb745ea}
fdt\-\_\-get\-\_\-string -\/ retrieve a string from the strings block of a device tree \-: pointer to the device tree blob \-: offset of the string within the strings block (native endian) \-: optional pointer to return the string's length

\hyperlink{fdt__ro_8c_a394c6c241f569f12b5b1f350dfb745ea}{fdt\-\_\-get\-\_\-string()} retrieves a pointer to a single string from the strings block of the device tree blob at fdt, and optionally also returns the string's length in $\ast$lenp.

returns\-: a pointer to the string, on success N\-U\-L\-L, if stroffset is out of bounds, or doesn't point to a valid string 

References can\-\_\-assume, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-I\-N\-T\-E\-R\-N\-A\-L, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, F\-D\-T\-\_\-\-M\-A\-G\-I\-C, fdt\-\_\-magic, fdt\-\_\-off\-\_\-dt\-\_\-strings, fdt\-\_\-ro\-\_\-probe\-\_\-(), fdt\-\_\-size\-\_\-dt\-\_\-strings, F\-D\-T\-\_\-\-S\-W\-\_\-\-M\-A\-G\-I\-C, fdt\-\_\-version, memchr(), N\-U\-L\-L, and strlen().



Referenced by fdt\-\_\-getprop\-\_\-by\-\_\-offset(), fdt\-\_\-string(), and fdt\-\_\-string\-\_\-eq\-\_\-().


\begin{DoxyCode}
35 \{
36     \hyperlink{libfdt__env_8h_a32f2e37ee053cf2ce8ca28d1f74630e5}{int32\_t} totalsize;
37     \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t} absoffset;
38     \textcolor{keywordtype}{size\_t} len;
39     \textcolor{keywordtype}{int} err;
40     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *s, *n;
41 
42     \textcolor{keywordflow}{if} (\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(VALID\_INPUT)) \{
43         s = (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *)fdt + \hyperlink{libfdt_8h_a80994b6320a372f47942ac65f55c0d6c}{fdt\_off\_dt\_strings}(fdt) + stroffset;
44 
45         \textcolor{keywordflow}{if} (lenp)
46             *lenp = \hyperlink{cstd_8c_a54684bded3e61e2d78d490650f9b706a}{strlen}(s);
47         \textcolor{keywordflow}{return} s;
48     \}
49     totalsize = \hyperlink{fdt_8c_a69f9fe649e0c3dccd2eac79dafe54a4a}{fdt\_ro\_probe\_}(fdt);
50     err = totalsize;
51     \textcolor{keywordflow}{if} (totalsize < 0)
52         \textcolor{keywordflow}{goto} fail;
53 
54     err = -\hyperlink{libfdt_8h_a5025b6b09a009bd2b516e6a831d7ce72}{FDT\_ERR\_BADOFFSET};
55     absoffset = stroffset + \hyperlink{libfdt_8h_a80994b6320a372f47942ac65f55c0d6c}{fdt\_off\_dt\_strings}(fdt);
56     \textcolor{keywordflow}{if} (absoffset >= (\textcolor{keywordtype}{unsigned})totalsize)
57         \textcolor{keywordflow}{goto} fail;
58     len = totalsize - absoffset;
59 
60     \textcolor{keywordflow}{if} (\hyperlink{libfdt_8h_a783c67f6971d10232c84ecd0aa76f461}{fdt\_magic}(fdt) == \hyperlink{fdt_8h_a5d5b14eccb44e809abddd8a946ddc8a3}{FDT\_MAGIC}) \{
61         \textcolor{keywordflow}{if} (stroffset < 0)
62             \textcolor{keywordflow}{goto} fail;
63         \textcolor{keywordflow}{if} (\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(LATEST) || \hyperlink{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}{fdt\_version}(fdt) >= 17) \{
64             \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{unsigned})stroffset >= \hyperlink{libfdt_8h_aa0748803d707f2be7d15ebfb815d31b4}{fdt\_size\_dt\_strings}(fdt))
65                 \textcolor{keywordflow}{goto} fail;
66             \textcolor{keywordflow}{if} ((\hyperlink{libfdt_8h_aa0748803d707f2be7d15ebfb815d31b4}{fdt\_size\_dt\_strings}(fdt) - stroffset) < len)
67                 len = \hyperlink{libfdt_8h_aa0748803d707f2be7d15ebfb815d31b4}{fdt\_size\_dt\_strings}(fdt) - stroffset;
68         \}
69     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{libfdt_8h_a783c67f6971d10232c84ecd0aa76f461}{fdt\_magic}(fdt) == \hyperlink{libfdt__internal_8h_a8beb41f034bfe7967b246bbad463a575}{FDT\_SW\_MAGIC}) \{
70         \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} sw\_stroffset = -stroffset;
71 
72         \textcolor{keywordflow}{if} ((stroffset >= 0) ||
73             (sw\_stroffset > \hyperlink{libfdt_8h_aa0748803d707f2be7d15ebfb815d31b4}{fdt\_size\_dt\_strings}(fdt)))
74             \textcolor{keywordflow}{goto} fail;
75         \textcolor{keywordflow}{if} (sw\_stroffset < len)
76             len = sw\_stroffset;
77     \} \textcolor{keywordflow}{else} \{
78         err = -\hyperlink{libfdt_8h_a02625761a47e8012c53fb389dd25fadd}{FDT\_ERR\_INTERNAL};
79         \textcolor{keywordflow}{goto} fail;
80     \}
81 
82     s = (\textcolor{keyword}{const} \textcolor{keywordtype}{char} *)fdt + absoffset;
83     n = \hyperlink{cstd_8c_a7a1a96cef371f847b925fb1478e04080}{memchr}(s, \textcolor{charliteral}{'\(\backslash\)0'}, len);
84     \textcolor{keywordflow}{if} (!n) \{
85         \textcolor{comment}{/* missing terminating NULL */}
86         err = -\hyperlink{libfdt_8h_a2b814a0775d93b5da1442fc091e49958}{FDT\_ERR\_TRUNCATED};
87         \textcolor{keywordflow}{goto} fail;
88     \}
89 
90     \textcolor{keywordflow}{if} (lenp)
91         *lenp = n - s;
92     \textcolor{keywordflow}{return} s;
93 
94 fail:
95     \textcolor{keywordflow}{if} (lenp)
96         *lenp = err;
97     \textcolor{keywordflow}{return} \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
98 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a9d7a5c166e18e81722839c0b5a0541ee}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-get\-\_\-symbol@{fdt\-\_\-get\-\_\-symbol}}
\index{fdt\-\_\-get\-\_\-symbol@{fdt\-\_\-get\-\_\-symbol}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-get\-\_\-symbol}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ fdt\-\_\-get\-\_\-symbol (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{const char $\ast$}]{name}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a9d7a5c166e18e81722839c0b5a0541ee}


References fdt\-\_\-get\-\_\-symbol\-\_\-namelen(), and strlen().


\begin{DoxyCode}
555 \{
556     \textcolor{keywordflow}{return} \hyperlink{fdt__ro_8c_ab6e268a7c7fef650ee0c08f7010ae914}{fdt\_get\_symbol\_namelen}(fdt, \hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name}, \hyperlink{cstd_8c_a54684bded3e61e2d78d490650f9b706a}{strlen}(
      \hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name}));
557 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ab6e268a7c7fef650ee0c08f7010ae914}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-get\-\_\-symbol\-\_\-namelen@{fdt\-\_\-get\-\_\-symbol\-\_\-namelen}}
\index{fdt\-\_\-get\-\_\-symbol\-\_\-namelen@{fdt\-\_\-get\-\_\-symbol\-\_\-namelen}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-get\-\_\-symbol\-\_\-namelen}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ fdt\-\_\-get\-\_\-symbol\-\_\-namelen (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{const char $\ast$}]{name, }
\item[{int}]{namelen}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ab6e268a7c7fef650ee0c08f7010ae914}


References fdt\-\_\-path\-\_\-getprop\-\_\-namelen(), and N\-U\-L\-L.



Referenced by fdt\-\_\-get\-\_\-symbol().


\begin{DoxyCode}
550 \{
551     \textcolor{keywordflow}{return} \hyperlink{fdt__ro_8c_a4f970773c1f5023ddb012f1f5d799c5e}{fdt\_path\_getprop\_namelen}(fdt, \textcolor{stringliteral}{"/\_\_symbols\_\_"}, 
      \hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name}, namelen, \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
552 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a0a72997fe1eb5a57885bbb988256d08f}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-getprop@{fdt\-\_\-getprop}}
\index{fdt\-\_\-getprop@{fdt\-\_\-getprop}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-getprop}]{\setlength{\rightskip}{0pt plus 5cm}const void$\ast$ fdt\-\_\-getprop (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{int $\ast$}]{lenp}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a0a72997fe1eb5a57885bbb988256d08f}


References fdt\-\_\-getprop\-\_\-namelen(), and strlen().



Referenced by fdt\-\_\-cells(), fdt\-\_\-get\-\_\-phandle(), fdt\-\_\-getprop\-\_\-w(), fdt\-\_\-node\-\_\-check\-\_\-compatible(), fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-prop\-\_\-value(), fdt\-\_\-overlay\-\_\-target\-\_\-offset(), fdt\-\_\-setprop\-\_\-inplace(), fdt\-\_\-stringlist\-\_\-count(), fdt\-\_\-stringlist\-\_\-get(), fdt\-\_\-stringlist\-\_\-search(), get\-\_\-base\-\_\-address(), get\-\_\-irq(), overlay\-\_\-fixup\-\_\-one\-\_\-phandle(), overlay\-\_\-get\-\_\-target\-\_\-phandle(), overlay\-\_\-phandle\-\_\-add\-\_\-offset(), and overlay\-\_\-update\-\_\-local\-\_\-node\-\_\-references().


\begin{DoxyCode}
504 \{
505     \textcolor{keywordflow}{return} \hyperlink{fdt__ro_8c_af06aa67642c5e97ec636619a4ac3f19a}{fdt\_getprop\_namelen}(fdt, nodeoffset, \hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name}, 
      \hyperlink{cstd_8c_a54684bded3e61e2d78d490650f9b706a}{strlen}(\hyperlink{structfdt__node__header_a7b13eaf331db0c09640dc3d208c7efcd}{name}), lenp);
506 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a631207472dcddda9470f5791260da0fd}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-getprop\-\_\-by\-\_\-offset@{fdt\-\_\-getprop\-\_\-by\-\_\-offset}}
\index{fdt\-\_\-getprop\-\_\-by\-\_\-offset@{fdt\-\_\-getprop\-\_\-by\-\_\-offset}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-getprop\-\_\-by\-\_\-offset}]{\setlength{\rightskip}{0pt plus 5cm}const void$\ast$ fdt\-\_\-getprop\-\_\-by\-\_\-offset (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{offset, }
\item[{const char $\ast$$\ast$}]{namep, }
\item[{int $\ast$}]{lenp}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a631207472dcddda9470f5791260da0fd}
fdt\-\_\-getprop\-\_\-by\-\_\-offset -\/ retrieve the value of a property at a given offset \-: pointer to the device tree blob \-: offset of the property to read \-: pointer to a string variable (will be overwritten) or N\-U\-L\-L \-: pointer to an integer variable (will be overwritten) or N\-U\-L\-L

\hyperlink{fdt__ro_8c_a631207472dcddda9470f5791260da0fd}{fdt\-\_\-getprop\-\_\-by\-\_\-offset()} retrieves a pointer to the value of the property at structure block offset 'offset' (this will be a pointer to within the device blob itself, not a copy of the value). If lenp is non-\/\-N\-U\-L\-L, the length of the property value is also returned, in the integer pointed to by lenp. If namep is non-\/\-N\-U\-L\-L, the property's namne will also be returned in the char $\ast$ pointed to by namep (this will be a pointer to within the device tree's string block, not a new copy of the name).

returns\-: pointer to the property's value if lenp is non-\/\-N\-U\-L\-L, $\ast$lenp contains the length of the property value ($>$=0) if namep is non-\/\-N\-U\-L\-L $\ast$namep contiains a pointer to the property name. N\-U\-L\-L, on error if lenp is non-\/\-N\-U\-L\-L, $\ast$lenp contains an error code ($<$0)\-: -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset did not point to F\-D\-T\-\_\-\-P\-R\-O\-P tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings 

References can\-\_\-assume, fdt\-\_\-property\-::data, fdt32\-\_\-ld\-\_\-(), fdt\-\_\-get\-\_\-property\-\_\-by\-\_\-offset\-\_\-(), fdt\-\_\-get\-\_\-string(), fdt\-\_\-string(), fdt\-\_\-version, fdt\-\_\-property\-::len, fdt\-\_\-property\-::nameoff, and N\-U\-L\-L.



Referenced by fdt\-\_\-check\-\_\-full(), overlay\-\_\-apply\-\_\-node(), overlay\-\_\-fixup\-\_\-phandle(), overlay\-\_\-symbol\-\_\-update(), and overlay\-\_\-update\-\_\-local\-\_\-node\-\_\-references().


\begin{DoxyCode}
471 \{
472     \textcolor{keyword}{const} \textcolor{keyword}{struct }\hyperlink{structfdt__property}{fdt\_property} *prop;
473 
474     prop = \hyperlink{fdt__ro_8c_a5968ba67990c99975ff5746c4f80c85a}{fdt\_get\_property\_by\_offset\_}(fdt, offset, lenp);
475     \textcolor{keywordflow}{if} (!prop)
476         \textcolor{keywordflow}{return} \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
477     \textcolor{keywordflow}{if} (namep) \{
478         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *name;
479         \textcolor{keywordtype}{int} namelen;
480 
481         \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(VALID\_INPUT)) \{
482             name = \hyperlink{fdt__ro_8c_a394c6c241f569f12b5b1f350dfb745ea}{fdt\_get\_string}(fdt, \hyperlink{libfdt__internal_8h_a066e0e174590b6a1a34eef6a0c777710}{fdt32\_ld\_}(&prop->
      \hyperlink{structfdt__property_ad5753794266beffe67b79b6e5b3ab352}{nameoff}),
483                           &namelen);
484             *namep = name;
485             \textcolor{keywordflow}{if} (!name) \{
486                 \textcolor{keywordflow}{if} (lenp)
487                     *lenp = namelen;
488                 \textcolor{keywordflow}{return} \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
489             \}
490         \} \textcolor{keywordflow}{else} \{
491             *namep = \hyperlink{fdt__ro_8c_a5ccdba67e9d56872ef16dcbd405da94a}{fdt\_string}(fdt, \hyperlink{libfdt__internal_8h_a066e0e174590b6a1a34eef6a0c777710}{fdt32\_ld\_}(&prop->\hyperlink{structfdt__property_ad5753794266beffe67b79b6e5b3ab352}{nameoff}));
492         \}
493     \}
494 
495     \textcolor{comment}{/* Handle realignment */}
496     \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(LATEST) && \hyperlink{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}{fdt\_version}(fdt) < 0x10 &&
497         (offset + \textcolor{keyword}{sizeof}(*prop)) % 8 && \hyperlink{libfdt__internal_8h_a066e0e174590b6a1a34eef6a0c777710}{fdt32\_ld\_}(&prop->\hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len}) >= 8)
498         \textcolor{keywordflow}{return} prop->\hyperlink{structfdt__property_abb52f21622f86ed9b268f49b76f23aef}{data} + 4;
499     \textcolor{keywordflow}{return} prop->\hyperlink{structfdt__property_abb52f21622f86ed9b268f49b76f23aef}{data};
500 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_af06aa67642c5e97ec636619a4ac3f19a}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-getprop\-\_\-namelen@{fdt\-\_\-getprop\-\_\-namelen}}
\index{fdt\-\_\-getprop\-\_\-namelen@{fdt\-\_\-getprop\-\_\-namelen}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-getprop\-\_\-namelen}]{\setlength{\rightskip}{0pt plus 5cm}const void$\ast$ fdt\-\_\-getprop\-\_\-namelen (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{int}]{namelen, }
\item[{int $\ast$}]{lenp}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_af06aa67642c5e97ec636619a4ac3f19a}


References can\-\_\-assume, fdt\-\_\-property\-::data, fdt32\-\_\-ld\-\_\-(), fdt\-\_\-get\-\_\-property\-\_\-namelen\-\_\-(), fdt\-\_\-version, fdt\-\_\-property\-::len, and N\-U\-L\-L.



Referenced by fdt\-\_\-getprop(), fdt\-\_\-getprop\-\_\-namelen\-\_\-w(), and fdt\-\_\-path\-\_\-getprop\-\_\-namelen().


\begin{DoxyCode}
453 \{
454     \textcolor{keywordtype}{int} poffset;
455     \textcolor{keyword}{const} \textcolor{keyword}{struct }\hyperlink{structfdt__property}{fdt\_property} *prop;
456 
457     prop = \hyperlink{fdt__ro_8c_a3fbd5b94defd29f9e25d8433a03529e9}{fdt\_get\_property\_namelen\_}(fdt, nodeoffset, name, namelen, lenp,
458                      &poffset);
459     \textcolor{keywordflow}{if} (!prop)
460         \textcolor{keywordflow}{return} \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
461 
462     \textcolor{comment}{/* Handle realignment */}
463     \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(LATEST) && \hyperlink{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}{fdt\_version}(fdt) < 0x10 &&
464         (poffset + \textcolor{keyword}{sizeof}(*prop)) % 8 && \hyperlink{libfdt__internal_8h_a066e0e174590b6a1a34eef6a0c777710}{fdt32\_ld\_}(&prop->\hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len}) >= 8)
465         \textcolor{keywordflow}{return} prop->\hyperlink{structfdt__property_abb52f21622f86ed9b268f49b76f23aef}{data} + 4;
466     \textcolor{keywordflow}{return} prop->\hyperlink{structfdt__property_abb52f21622f86ed9b268f49b76f23aef}{data};
467 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a2d633fbf4ecff743e2a869a80e330ed6}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-getprop\-\_\-namelen\-\_\-w@{fdt\-\_\-getprop\-\_\-namelen\-\_\-w}}
\index{fdt\-\_\-getprop\-\_\-namelen\-\_\-w@{fdt\-\_\-getprop\-\_\-namelen\-\_\-w}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-getprop\-\_\-namelen\-\_\-w}]{\setlength{\rightskip}{0pt plus 5cm}static void$\ast$ fdt\-\_\-getprop\-\_\-namelen\-\_\-w (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{int}]{namelen, }
\item[{int $\ast$}]{lenp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_a2d633fbf4ecff743e2a869a80e330ed6}


References fdt\-\_\-getprop\-\_\-namelen().



Referenced by fdt\-\_\-setprop\-\_\-inplace\-\_\-namelen\-\_\-partial().


\begin{DoxyCode}
810 \{
811     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void} *)(\hyperlink{libfdt__env_8h_a83242de74310b4aec3fc506bc3644211}{uintptr\_t})\hyperlink{fdt__ro_8c_af06aa67642c5e97ec636619a4ac3f19a}{fdt\_getprop\_namelen}(fdt, nodeoffset, name,
812                               namelen, lenp);
813 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a5f92f335859a2a12ea2aeffb171dca5b}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-getprop\-\_\-w@{fdt\-\_\-getprop\-\_\-w}}
\index{fdt\-\_\-getprop\-\_\-w@{fdt\-\_\-getprop\-\_\-w}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-getprop\-\_\-w}]{\setlength{\rightskip}{0pt plus 5cm}static void$\ast$ fdt\-\_\-getprop\-\_\-w (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{int $\ast$}]{lenp}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_a5f92f335859a2a12ea2aeffb171dca5b}


References fdt\-\_\-getprop().


\begin{DoxyCode}
848 \{
849     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void} *)(\hyperlink{libfdt__env_8h_a83242de74310b4aec3fc506bc3644211}{uintptr\_t})\hyperlink{fdt__ro_8c_a0a72997fe1eb5a57885bbb988256d08f}{fdt\_getprop}(fdt, nodeoffset, name, lenp);
850 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_afab057440e1d6aa051c30d16d3f416e0}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-header\-\_\-size@{fdt\-\_\-header\-\_\-size}}
\index{fdt\-\_\-header\-\_\-size@{fdt\-\_\-header\-\_\-size}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-header\-\_\-size}]{\setlength{\rightskip}{0pt plus 5cm}size\-\_\-t fdt\-\_\-header\-\_\-size (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_afab057440e1d6aa051c30d16d3f416e0}
fdt\-\_\-header\-\_\-size -\/ return the size of the tree's header \-: pointer to a flattened device tree

Return\-: size of D\-T\-B header in bytes 

References can\-\_\-assume, fdt\-\_\-header\-\_\-size\-\_\-(), F\-D\-T\-\_\-\-V17\-\_\-\-S\-I\-Z\-E, and fdt\-\_\-version.



Referenced by fdt\-\_\-check\-\_\-full(), and fdt\-\_\-check\-\_\-header().


\begin{DoxyCode}
84 \{
85     \textcolor{keywordflow}{return} \hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(LATEST) ? \hyperlink{fdt_8h_a1dde12f91e2367a11482a396047ae45b}{FDT\_V17\_SIZE} :
86         \hyperlink{fdt_8c_ac07cba787ec63afe1efccabca06018ff}{fdt\_header\_size\_}(\hyperlink{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}{fdt\_version}(fdt));
87 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ac07cba787ec63afe1efccabca06018ff}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-header\-\_\-size\-\_\-@{fdt\-\_\-header\-\_\-size\-\_\-}}
\index{fdt\-\_\-header\-\_\-size\-\_\-@{fdt\-\_\-header\-\_\-size\-\_\-}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-header\-\_\-size\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}size\-\_\-t fdt\-\_\-header\-\_\-size\-\_\- (
\begin{DoxyParamCaption}
\item[{{\bf uint32\-\_\-t}}]{version}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ac07cba787ec63afe1efccabca06018ff}
fdt\-\_\-header\-\_\-size\-\_\- -\/ internal function to get header size from a version number \begin{DoxyVersion}{Version}
\-: devicetree version number
\end{DoxyVersion}
Return\-: size of D\-T\-B header in bytes 

References F\-D\-T\-\_\-\-V16\-\_\-\-S\-I\-Z\-E, F\-D\-T\-\_\-\-V17\-\_\-\-S\-I\-Z\-E, F\-D\-T\-\_\-\-V1\-\_\-\-S\-I\-Z\-E, F\-D\-T\-\_\-\-V2\-\_\-\-S\-I\-Z\-E, and F\-D\-T\-\_\-\-V3\-\_\-\-S\-I\-Z\-E.



Referenced by fdt\-\_\-header\-\_\-size().


\begin{DoxyCode}
70 \{
71     \textcolor{keywordflow}{if} (version <= 1)
72         \textcolor{keywordflow}{return} \hyperlink{fdt_8h_ace28b75a3463b5d1f3bd243ea2116f47}{FDT\_V1\_SIZE};
73     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (version <= 2)
74         \textcolor{keywordflow}{return} \hyperlink{fdt_8h_a690d667a7d782d1896416e6425c57984}{FDT\_V2\_SIZE};
75     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (version <= 3)
76         \textcolor{keywordflow}{return} \hyperlink{fdt_8h_afb54e1aad74fab1ab1dae9911657912e}{FDT\_V3\_SIZE};
77     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (version <= 16)
78         \textcolor{keywordflow}{return} \hyperlink{fdt_8h_ac1999ce4eecaf54075bfac7650e2ceeb}{FDT\_V16\_SIZE};
79     \textcolor{keywordflow}{else}
80         \textcolor{keywordflow}{return} \hyperlink{fdt_8h_a1dde12f91e2367a11482a396047ae45b}{FDT\_V17\_SIZE};
81 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a1be79096bbc68a1986e54eb4c57a8007}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-move@{fdt\-\_\-move}}
\index{fdt\-\_\-move@{fdt\-\_\-move}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-move}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-move (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{void $\ast$}]{buf, }
\item[{int}]{bufsize}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a1be79096bbc68a1986e54eb4c57a8007}
fdt\-\_\-move -\/ move a device tree around in memory \-: pointer to the device tree to move \-: pointer to memory where the device is to be moved \-: size of the memory space at buf

\hyperlink{fdt_8c_a1be79096bbc68a1986e54eb4c57a8007}{fdt\-\_\-move()} relocates, if possible, the device tree blob located at fdt to the buffer at buf of size bufsize. The buffer may overlap with the existing device tree blob at fdt. Therefore, fdt\-\_\-move(fdt, fdt, \hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\-\_\-totalsize(fdt)}) should always succeed.

returns\-: 0, on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, bufsize is insufficient to contain the device tree -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, standard meanings 

References can\-\_\-assume, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, F\-D\-T\-\_\-\-R\-O\-\_\-\-P\-R\-O\-B\-E, fdt\-\_\-totalsize, and memmove().



Referenced by fdt\-\_\-open\-\_\-into().


\begin{DoxyCode}
328 \{
329     \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(VALID\_INPUT) && bufsize < 0)
330         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
331 
332     \hyperlink{libfdt__internal_8h_ad6927f926180469d5c044ec5d3b2f84b}{FDT\_RO\_PROBE}(fdt);
333 
334     \textcolor{keywordflow}{if} (\hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\_totalsize}(fdt) > (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int})bufsize)
335         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
336 
337     \hyperlink{cstd_8c_a802c986820d3866639922b6bc9484f90}{memmove}(buf, fdt, \hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\_totalsize}(fdt));
338     \textcolor{keywordflow}{return} 0;
339 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a6603ac8041afcc7fde5c0b25de765103}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-next\-\_\-node@{fdt\-\_\-next\-\_\-node}}
\index{fdt\-\_\-next\-\_\-node@{fdt\-\_\-next\-\_\-node}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-next\-\_\-node}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-next\-\_\-node (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{offset, }
\item[{int $\ast$}]{depth}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a6603ac8041afcc7fde5c0b25de765103}


References F\-D\-T\-\_\-\-B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E, fdt\-\_\-check\-\_\-node\-\_\-offset\-\_\-(), F\-D\-T\-\_\-\-E\-N\-D, F\-D\-T\-\_\-\-E\-N\-D\-\_\-\-N\-O\-D\-E, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, fdt\-\_\-next\-\_\-tag(), F\-D\-T\-\_\-\-N\-O\-P, F\-D\-T\-\_\-\-P\-R\-O\-P, and fdt\-\_\-property\-::tag.



Referenced by fdt\-\_\-find\-\_\-max\-\_\-phandle(), fdt\-\_\-first\-\_\-subnode(), fdt\-\_\-get\-\_\-path(), fdt\-\_\-next\-\_\-subnode(), fdt\-\_\-node\-\_\-end\-\_\-offset\-\_\-(), fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-compatible(), fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-phandle(), fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-prop\-\_\-value(), fdt\-\_\-subnode\-\_\-offset\-\_\-namelen(), and fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset().


\begin{DoxyCode}
248 \{
249     \textcolor{keywordtype}{int} nextoffset = 0;
250     \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t} \hyperlink{structfdt__property_a6c0d0fd0e741c931f7b3ca1482193740}{tag};
251 
252     \textcolor{keywordflow}{if} (offset >= 0)
253         \textcolor{keywordflow}{if} ((nextoffset = \hyperlink{fdt_8c_a8f4832389aff9d7c0663b6b70cdd42dd}{fdt\_check\_node\_offset\_}(fdt, offset)) < 0)
254             \textcolor{keywordflow}{return} nextoffset;
255 
256     \textcolor{keywordflow}{do} \{
257         offset = nextoffset;
258         tag = \hyperlink{fdt_8c_ae1b4b34a1b1fa1230d3ccacf14446b61}{fdt\_next\_tag}(fdt, offset, &nextoffset);
259 
260         \textcolor{keywordflow}{switch} (tag) \{
261         \textcolor{keywordflow}{case} \hyperlink{fdt_8h_a3304a9313cbf7ecced77f89ff5f25dde}{FDT\_PROP}:
262         \textcolor{keywordflow}{case} \hyperlink{fdt_8h_a95f6ec2ae047c13339f80ca6adeafc21}{FDT\_NOP}:
263             \textcolor{keywordflow}{break};
264 
265         \textcolor{keywordflow}{case} \hyperlink{fdt_8h_a84974b092f97d4f2588c8efb4f6fdd67}{FDT\_BEGIN\_NODE}:
266             \textcolor{keywordflow}{if} (depth)
267                 (*depth)++;
268             \textcolor{keywordflow}{break};
269 
270         \textcolor{keywordflow}{case} \hyperlink{fdt_8h_a97c9b3b1971681a8183442ddd0a8009c}{FDT\_END\_NODE}:
271             \textcolor{keywordflow}{if} (depth && ((--(*depth)) < 0))
272                 \textcolor{keywordflow}{return} nextoffset;
273             \textcolor{keywordflow}{break};
274 
275         \textcolor{keywordflow}{case} \hyperlink{fdt_8h_a53275b16340fb458df4782462f283d8c}{FDT\_END}:
276             \textcolor{keywordflow}{if} ((nextoffset >= 0)
277                 || ((nextoffset == -\hyperlink{libfdt_8h_a2b814a0775d93b5da1442fc091e49958}{FDT\_ERR\_TRUNCATED}) && !depth))
278                 \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND};
279             \textcolor{keywordflow}{else}
280                 \textcolor{keywordflow}{return} nextoffset;
281         \}
282     \} \textcolor{keywordflow}{while} (tag != \hyperlink{fdt_8h_a84974b092f97d4f2588c8efb4f6fdd67}{FDT\_BEGIN\_NODE});
283 
284     \textcolor{keywordflow}{return} offset;
285 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ad17c7077eebb6668f09aadda1f6c8fb2}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-next\-\_\-property\-\_\-offset@{fdt\-\_\-next\-\_\-property\-\_\-offset}}
\index{fdt\-\_\-next\-\_\-property\-\_\-offset@{fdt\-\_\-next\-\_\-property\-\_\-offset}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-next\-\_\-property\-\_\-offset}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-next\-\_\-property\-\_\-offset (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{offset}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ad17c7077eebb6668f09aadda1f6c8fb2}
fdt\-\_\-next\-\_\-property\-\_\-offset -\/ step through a node's properties \-: pointer to the device tree blob \-: structure block offset of a property

\hyperlink{fdt__ro_8c_ad17c7077eebb6668f09aadda1f6c8fb2}{fdt\-\_\-next\-\_\-property\-\_\-offset()} finds the property immediately after the one at the given structure block offset. This will be a property of the same node as the given property.

returns\-: structure block offset of the next property ($>$=0), on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, if the given property is the last in its node -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, if nodeoffset did not point to an F\-D\-T\-\_\-\-P\-R\-O\-P tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings. 

References fdt\-\_\-check\-\_\-prop\-\_\-offset\-\_\-(), and nextprop\-\_\-().



Referenced by fdt\-\_\-get\-\_\-property\-\_\-namelen\-\_\-().


\begin{DoxyCode}
349 \{
350     \textcolor{keywordflow}{if} ((offset = \hyperlink{fdt_8c_a299827db3d34b686d9ca7f4c60b88a08}{fdt\_check\_prop\_offset\_}(fdt, offset)) < 0)
351         \textcolor{keywordflow}{return} offset;
352 
353     \textcolor{keywordflow}{return} \hyperlink{fdt__ro_8c_a0a233378abbb816de0249098cb2fc450}{nextprop\_}(fdt, offset);
354 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_acc373b28d3daa598bc3aa9a131224773}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-next\-\_\-subnode@{fdt\-\_\-next\-\_\-subnode}}
\index{fdt\-\_\-next\-\_\-subnode@{fdt\-\_\-next\-\_\-subnode}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-next\-\_\-subnode}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-next\-\_\-subnode (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{offset}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_acc373b28d3daa598bc3aa9a131224773}
\hyperlink{fdt_8c_acc373b28d3daa598bc3aa9a131224773}{fdt\-\_\-next\-\_\-subnode()} -\/ get offset of next direct subnode \-: F\-D\-T blob \-: Offset of previous subnode

After first calling \hyperlink{fdt_8c_a0c888491fbef3ded52e45ac4772ea02f}{fdt\-\_\-first\-\_\-subnode()}, call this function repeatedly to get direct subnodes of a parent node.

Return\-: offset of next subnode, or -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D if there are no more subnodes 

References F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, and fdt\-\_\-next\-\_\-node().


\begin{DoxyCode}
299 \{
300     \textcolor{keywordtype}{int} depth = 1;
301 
302     \textcolor{comment}{/*}
303 \textcolor{comment}{     * With respect to the parent, the depth of the next subnode will be}
304 \textcolor{comment}{     * the same as the last.}
305 \textcolor{comment}{     */}
306     \textcolor{keywordflow}{do} \{
307         offset = \hyperlink{fdt_8c_a6603ac8041afcc7fde5c0b25de765103}{fdt\_next\_node}(fdt, offset, &depth);
308         \textcolor{keywordflow}{if} (offset < 0 || depth < 1)
309             \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND};
310     \} \textcolor{keywordflow}{while} (depth > 1);
311 
312     \textcolor{keywordflow}{return} offset;
313 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a2634793f3f530d97ca208c56b50accf6}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-next\-\_\-tag@{fdt\-\_\-next\-\_\-tag}}
\index{fdt\-\_\-next\-\_\-tag@{fdt\-\_\-next\-\_\-tag}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-next\-\_\-tag}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint32\-\_\-t} fdt\-\_\-next\-\_\-tag (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{offset, }
\item[{int $\ast$}]{nextoffset}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a2634793f3f530d97ca208c56b50accf6}


References can\-\_\-assume, fdt32\-\_\-to\-\_\-cpu(), F\-D\-T\-\_\-\-B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E, F\-D\-T\-\_\-\-E\-N\-D, F\-D\-T\-\_\-\-E\-N\-D\-\_\-\-N\-O\-D\-E, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, F\-D\-T\-\_\-\-N\-O\-P, fdt\-\_\-offset\-\_\-ptr(), F\-D\-T\-\_\-\-P\-R\-O\-P, F\-D\-T\-\_\-\-T\-A\-G\-A\-L\-I\-G\-N, F\-D\-T\-\_\-\-T\-A\-G\-S\-I\-Z\-E, fdt\-\_\-version, I\-N\-T\-\_\-\-M\-A\-X, and fdt\-\_\-property\-::tag.



Referenced by fdt\-\_\-add\-\_\-subnode\-\_\-namelen(), fdt\-\_\-check\-\_\-full(), fdt\-\_\-check\-\_\-node\-\_\-offset\-\_\-(), fdt\-\_\-check\-\_\-prop\-\_\-offset\-\_\-(), fdt\-\_\-finish(), fdt\-\_\-next\-\_\-node(), fdt\-\_\-open\-\_\-into(), and nextprop\-\_\-().


\begin{DoxyCode}
163 \{
164     \textcolor{keyword}{const} \hyperlink{libfdt__env_8h_a76887ac8786252752fb3f9a39b21f3af}{fdt32\_t} *tagp, *lenp;
165     \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t} \hyperlink{structfdt__property_a6c0d0fd0e741c931f7b3ca1482193740}{tag}, \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len}, sum;
166     \textcolor{keywordtype}{int} offset = startoffset;
167     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *p;
168 
169     *nextoffset = -\hyperlink{libfdt_8h_a2b814a0775d93b5da1442fc091e49958}{FDT\_ERR\_TRUNCATED};
170     tagp = \hyperlink{fdt_8c_a8ff1531b134887d2b9f7845df85ffe4c}{fdt\_offset\_ptr}(fdt, offset, \hyperlink{fdt_8h_ada36dac7d767aceec040a00307dba77b}{FDT\_TAGSIZE});
171     \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(VALID\_DTB) && !tagp)
172         \textcolor{keywordflow}{return} \hyperlink{fdt_8h_a53275b16340fb458df4782462f283d8c}{FDT\_END}; \textcolor{comment}{/* premature end */}
173     tag = \hyperlink{libfdt__env_8h_a6485ea7225a1927cc5ab1a34dabe298f}{fdt32\_to\_cpu}(*tagp);
174     offset += \hyperlink{fdt_8h_ada36dac7d767aceec040a00307dba77b}{FDT\_TAGSIZE};
175 
176     *nextoffset = -\hyperlink{libfdt_8h_aef7e5f2183c72ef2b4698bb918d8f2f7}{FDT\_ERR\_BADSTRUCTURE};
177     \textcolor{keywordflow}{switch} (tag) \{
178     \textcolor{keywordflow}{case} \hyperlink{fdt_8h_a84974b092f97d4f2588c8efb4f6fdd67}{FDT\_BEGIN\_NODE}:
179         \textcolor{comment}{/* skip name */}
180         \textcolor{keywordflow}{do} \{
181             p = \hyperlink{fdt_8c_a8ff1531b134887d2b9f7845df85ffe4c}{fdt\_offset\_ptr}(fdt, offset++, 1);
182         \} \textcolor{keywordflow}{while} (p && (*p != \textcolor{charliteral}{'\(\backslash\)0'}));
183         \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(VALID\_DTB) && !p)
184             \textcolor{keywordflow}{return} \hyperlink{fdt_8h_a53275b16340fb458df4782462f283d8c}{FDT\_END}; \textcolor{comment}{/* premature end */}
185         \textcolor{keywordflow}{break};
186 
187     \textcolor{keywordflow}{case} \hyperlink{fdt_8h_a3304a9313cbf7ecced77f89ff5f25dde}{FDT\_PROP}:
188         lenp = \hyperlink{fdt_8c_a8ff1531b134887d2b9f7845df85ffe4c}{fdt\_offset\_ptr}(fdt, offset, \textcolor{keyword}{sizeof}(*lenp));
189         \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(VALID\_DTB) && !lenp)
190             \textcolor{keywordflow}{return} \hyperlink{fdt_8h_a53275b16340fb458df4782462f283d8c}{FDT\_END}; \textcolor{comment}{/* premature end */}
191 
192         len = \hyperlink{libfdt__env_8h_a6485ea7225a1927cc5ab1a34dabe298f}{fdt32\_to\_cpu}(*lenp);
193         sum = len + offset;
194         \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(VALID\_DTB) &&
195             (\hyperlink{cstd_8h_a9ec306f36d50c7375e74f0d1c55a3a67}{INT\_MAX} <= sum || sum < (\hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t}) offset))
196             \textcolor{keywordflow}{return} \hyperlink{fdt_8h_a53275b16340fb458df4782462f283d8c}{FDT\_END}; \textcolor{comment}{/* premature end */}
197 
198         \textcolor{comment}{/* skip-name offset, length and value */}
199         offset += \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct }\hyperlink{structfdt__property}{fdt\_property}) - \hyperlink{fdt_8h_ada36dac7d767aceec040a00307dba77b}{FDT\_TAGSIZE} + len;
200 
201         \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(LATEST) &&
202             \hyperlink{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}{fdt\_version}(fdt) < 0x10 && len >= 8 &&
203             ((offset - len) % 8) != 0)
204             offset += 4;
205         \textcolor{keywordflow}{break};
206 
207     \textcolor{keywordflow}{case} \hyperlink{fdt_8h_a53275b16340fb458df4782462f283d8c}{FDT\_END}:
208     \textcolor{keywordflow}{case} \hyperlink{fdt_8h_a97c9b3b1971681a8183442ddd0a8009c}{FDT\_END\_NODE}:
209     \textcolor{keywordflow}{case} \hyperlink{fdt_8h_a95f6ec2ae047c13339f80ca6adeafc21}{FDT\_NOP}:
210         \textcolor{keywordflow}{break};
211 
212     \textcolor{keywordflow}{default}:
213         \textcolor{keywordflow}{return} \hyperlink{fdt_8h_a53275b16340fb458df4782462f283d8c}{FDT\_END};
214     \}
215 
216     \textcolor{keywordflow}{if} (!\hyperlink{fdt_8c_a8ff1531b134887d2b9f7845df85ffe4c}{fdt\_offset\_ptr}(fdt, startoffset, offset - startoffset))
217         \textcolor{keywordflow}{return} \hyperlink{fdt_8h_a53275b16340fb458df4782462f283d8c}{FDT\_END}; \textcolor{comment}{/* premature end */}
218 
219     *nextoffset = \hyperlink{libfdt__internal_8h_a8955518b67338925d939fe2389b41796}{FDT\_TAGALIGN}(offset);
220     \textcolor{keywordflow}{return} \hyperlink{structfdt__property_a6c0d0fd0e741c931f7b3ca1482193740}{tag};
221 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ade07583ac432de46013acb3a07eca7be}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-node\-\_\-check\-\_\-compatible@{fdt\-\_\-node\-\_\-check\-\_\-compatible}}
\index{fdt\-\_\-node\-\_\-check\-\_\-compatible@{fdt\-\_\-node\-\_\-check\-\_\-compatible}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-node\-\_\-check\-\_\-compatible}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-node\-\_\-check\-\_\-compatible (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{compatible}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ade07583ac432de46013acb3a07eca7be}
fdt\-\_\-node\-\_\-check\-\_\-compatible -\/ check a node's compatible property \-: pointer to the device tree blob \-: offset of a tree node \-: string to match against

\hyperlink{fdt__ro_8c_ade07583ac432de46013acb3a07eca7be}{fdt\-\_\-node\-\_\-check\-\_\-compatible()} returns 0 if the given node contains a  property with the given string as one of its elements, it returns non-\/zero otherwise, or on error.

returns\-: 0, if the node has a 'compatible' property listing the given string 1, if the node has a 'compatible' property, but it does not list the given string -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, if the given node has no 'compatible' property -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, if nodeoffset does not refer to a B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, standard meanings 

References fdt\-\_\-getprop(), fdt\-\_\-stringlist\-\_\-contains(), and fdt\-\_\-property\-::len.



Referenced by fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-compatible().


\begin{DoxyCode}
842 \{
843     \textcolor{keyword}{const} \textcolor{keywordtype}{void} *prop;
844     \textcolor{keywordtype}{int} \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len};
845 
846     prop = \hyperlink{fdt__ro_8c_a0a72997fe1eb5a57885bbb988256d08f}{fdt\_getprop}(fdt, nodeoffset, \textcolor{stringliteral}{"compatible"}, &len);
847     \textcolor{keywordflow}{if} (!prop)
848         \textcolor{keywordflow}{return} \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len};
849 
850     \textcolor{keywordflow}{return} !\hyperlink{fdt__ro_8c_a2492648af0491398295fac892cb8b758}{fdt\_stringlist\_contains}(prop, len, compatible);
851 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a2c0d12a5988128f0b674d4ec24b709d8}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-node\-\_\-depth@{fdt\-\_\-node\-\_\-depth}}
\index{fdt\-\_\-node\-\_\-depth@{fdt\-\_\-node\-\_\-depth}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-node\-\_\-depth}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-node\-\_\-depth (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a2c0d12a5988128f0b674d4ec24b709d8}
fdt\-\_\-node\-\_\-depth -\/ find the depth of a given node \-: pointer to the device tree blob \-: offset of the node whose parent to find

\hyperlink{fdt__ro_8c_a2c0d12a5988128f0b674d4ec24b709d8}{fdt\-\_\-node\-\_\-depth()} finds the depth of a given node. The root node has depth 0, its immediate subnodes depth 1 and so forth.

N\-O\-T\-E\-: This function is expensive, as it must scan the device tree structure from the start to nodeoffset.

returns\-: depth of the node at nodeoffset ($>$=0), on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset does not refer to a B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, standard meanings 

References can\-\_\-assume, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-I\-N\-T\-E\-R\-N\-A\-L, and fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset().



Referenced by fdt\-\_\-parent\-\_\-offset().


\begin{DoxyCode}
650 \{
651     \textcolor{keywordtype}{int} nodedepth;
652     \textcolor{keywordtype}{int} err;
653 
654     err = \hyperlink{fdt__ro_8c_a6c960d975c6644172ccc71fc2c48dbb4}{fdt\_supernode\_atdepth\_offset}(fdt, nodeoffset, 0, &nodedepth);
655     \textcolor{keywordflow}{if} (err)
656         \textcolor{keywordflow}{return} (\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(LIBFDT\_FLAWLESS) || err < 0) ? err :
657             -\hyperlink{libfdt_8h_a02625761a47e8012c53fb389dd25fadd}{FDT\_ERR\_INTERNAL};
658     \textcolor{keywordflow}{return} nodedepth;
659 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a7fee20e876e2af4dd32e987c6c8f104a}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-compatible@{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-compatible}}
\index{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-compatible@{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-compatible}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-compatible}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-compatible (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{startoffset, }
\item[{const char $\ast$}]{compatible}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a7fee20e876e2af4dd32e987c6c8f104a}
fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-compatible -\/ find nodes with a given 'compatible' value \-: pointer to the device tree blob \-: only find nodes after this offset \-: 'compatible' string to match against

\hyperlink{fdt__ro_8c_a7fee20e876e2af4dd32e987c6c8f104a}{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-compatible()} returns the offset of the first node after startoffset, which has a 'compatible' property which lists the given compatible string; or if startoffset is -\/1, the very first such node in the tree.

To iterate through all nodes matching the criterion, the following idiom can be used\-: offset = fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-compatible(fdt, -\/1, compatible); while (offset != -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D) \{ // other code here offset = fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-compatible(fdt, offset, compatible); \}

Note the -\/1 in the first call to the function, if 0 is used here instead, the function will never locate the root node, even if it matches the criterion.

returns\-: structure block offset of the located node ($>$= 0, $>$startoffset), on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, no node matching the criterion exists in the tree after startoffset -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset does not refer to a B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, standard meanings 

References F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, fdt\-\_\-next\-\_\-node(), fdt\-\_\-node\-\_\-check\-\_\-compatible(), F\-D\-T\-\_\-\-R\-O\-\_\-\-P\-R\-O\-B\-E, and N\-U\-L\-L.



Referenced by soc\-\_\-dma\-\_\-init(), soc\-\_\-icu\-\_\-init(), soc\-\_\-timer\-\_\-init(), and soc\-\_\-tty\-\_\-init().


\begin{DoxyCode}
855 \{
856     \textcolor{keywordtype}{int} offset, err;
857 
858     \hyperlink{libfdt__internal_8h_ad6927f926180469d5c044ec5d3b2f84b}{FDT\_RO\_PROBE}(fdt);
859 
860     \textcolor{comment}{/* FIXME: The algorithm here is pretty horrible: we scan each}
861 \textcolor{comment}{     * property of a node in fdt\_node\_check\_compatible(), then if}
862 \textcolor{comment}{     * that didn't find what we want, we scan over them again}
863 \textcolor{comment}{     * making our way to the next node.  Still it's the easiest to}
864 \textcolor{comment}{     * implement approach; performance can come later. */}
865     \textcolor{keywordflow}{for} (offset = \hyperlink{fdt_8c_a6603ac8041afcc7fde5c0b25de765103}{fdt\_next\_node}(fdt, startoffset, \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
866          offset >= 0;
867          offset = \hyperlink{fdt_8c_a6603ac8041afcc7fde5c0b25de765103}{fdt\_next\_node}(fdt, offset, \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})) \{
868         err = \hyperlink{fdt__ro_8c_ade07583ac432de46013acb3a07eca7be}{fdt\_node\_check\_compatible}(fdt, offset, compatible);
869         \textcolor{keywordflow}{if} ((err < 0) && (err != -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND}))
870             \textcolor{keywordflow}{return} err;
871         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (err == 0)
872             \textcolor{keywordflow}{return} offset;
873     \}
874 
875     \textcolor{keywordflow}{return} offset; \textcolor{comment}{/* error from fdt\_next\_node() */}
876 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a4ff6571f3fe2fa89cfd6dc15f52eaf1e}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-phandle@{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-phandle}}
\index{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-phandle@{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-phandle}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-phandle}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-phandle (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{{\bf uint32\-\_\-t}}]{phandle}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a4ff6571f3fe2fa89cfd6dc15f52eaf1e}
fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-phandle -\/ find the node with a given phandle \-: pointer to the device tree blob \-: phandle value

\hyperlink{fdt__ro_8c_a4ff6571f3fe2fa89cfd6dc15f52eaf1e}{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-phandle()} returns the offset of the node which has the given phandle value. If there is more than one node in the tree with the given phandle (an invalid tree), results are undefined.

returns\-: structure block offset of the located node ($>$= 0), on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, no node with that phandle exists -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-H\-A\-N\-D\-L\-E, given phandle value was invalid (0 or -\/1) -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, standard meanings 

References F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-H\-A\-N\-D\-L\-E, fdt\-\_\-get\-\_\-phandle(), fdt\-\_\-next\-\_\-node(), F\-D\-T\-\_\-\-R\-O\-\_\-\-P\-R\-O\-B\-E, and N\-U\-L\-L.



Referenced by fdt\-\_\-overlay\-\_\-target\-\_\-offset().


\begin{DoxyCode}
699 \{
700     \textcolor{keywordtype}{int} offset;
701 
702     \textcolor{keywordflow}{if} ((phandle == 0) || (phandle == ~0U))
703         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a0f264f8ba8cc4e98852c8246bc6312bc}{FDT\_ERR\_BADPHANDLE};
704 
705     \hyperlink{libfdt__internal_8h_ad6927f926180469d5c044ec5d3b2f84b}{FDT\_RO\_PROBE}(fdt);
706 
707     \textcolor{comment}{/* FIXME: The algorithm here is pretty horrible: we}
708 \textcolor{comment}{     * potentially scan each property of a node in}
709 \textcolor{comment}{     * fdt\_get\_phandle(), then if that didn't find what}
710 \textcolor{comment}{     * we want, we scan over them again making our way to the next}
711 \textcolor{comment}{     * node.  Still it's the easiest to implement approach;}
712 \textcolor{comment}{     * performance can come later. */}
713     \textcolor{keywordflow}{for} (offset = \hyperlink{fdt_8c_a6603ac8041afcc7fde5c0b25de765103}{fdt\_next\_node}(fdt, -1, \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
714          offset >= 0;
715          offset = \hyperlink{fdt_8c_a6603ac8041afcc7fde5c0b25de765103}{fdt\_next\_node}(fdt, offset, \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})) \{
716         \textcolor{keywordflow}{if} (\hyperlink{fdt__ro_8c_a0689bb9f27bdaaa355855425b4eb7149}{fdt\_get\_phandle}(fdt, offset) == phandle)
717             \textcolor{keywordflow}{return} offset;
718     \}
719 
720     \textcolor{keywordflow}{return} offset; \textcolor{comment}{/* error from fdt\_next\_node() */}
721 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a99d317b082102ce9a3eea47e86ab5757}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-prop\-\_\-value@{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-prop\-\_\-value}}
\index{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-prop\-\_\-value@{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-prop\-\_\-value}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-prop\-\_\-value}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-prop\-\_\-value (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{startoffset, }
\item[{const char $\ast$}]{propname, }
\item[{const void $\ast$}]{propval, }
\item[{int}]{proplen}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a99d317b082102ce9a3eea47e86ab5757}
fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-prop\-\_\-value -\/ find nodes with a given property value \-: pointer to the device tree blob \-: only find nodes after this offset \-: property name to check \-: property value to search for \-: length of the value in propval

\hyperlink{fdt__ro_8c_a99d317b082102ce9a3eea47e86ab5757}{fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-prop\-\_\-value()} returns the offset of the first node after startoffset, which has a property named propname whose value is of length proplen and has value equal to propval; or if startoffset is -\/1, the very first such node in the tree.

To iterate through all nodes matching the criterion, the following idiom can be used\-: offset = fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-prop\-\_\-value(fdt, -\/1, propname, propval, proplen); while (offset != -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D) \{ // other code here offset = fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-prop\-\_\-value(fdt, offset, propname, propval, proplen); \}

Note the -\/1 in the first call to the function, if 0 is used here instead, the function will never locate the root node, even if it matches the criterion.

returns\-: structure block offset of the located node ($>$= 0, $>$startoffset), on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, no node matching the criterion exists in the tree after startoffset -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset does not refer to a B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, standard meanings 

References fdt\-\_\-getprop(), fdt\-\_\-next\-\_\-node(), F\-D\-T\-\_\-\-R\-O\-\_\-\-P\-R\-O\-B\-E, fdt\-\_\-property\-::len, memcmp(), and N\-U\-L\-L.


\begin{DoxyCode}
674 \{
675     \textcolor{keywordtype}{int} offset;
676     \textcolor{keyword}{const} \textcolor{keywordtype}{void} *val;
677     \textcolor{keywordtype}{int} \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len};
678 
679     \hyperlink{libfdt__internal_8h_ad6927f926180469d5c044ec5d3b2f84b}{FDT\_RO\_PROBE}(fdt);
680 
681     \textcolor{comment}{/* FIXME: The algorithm here is pretty horrible: we scan each}
682 \textcolor{comment}{     * property of a node in fdt\_getprop(), then if that didn't}
683 \textcolor{comment}{     * find what we want, we scan over them again making our way}
684 \textcolor{comment}{     * to the next node.  Still it's the easiest to implement}
685 \textcolor{comment}{     * approach; performance can come later. */}
686     \textcolor{keywordflow}{for} (offset = \hyperlink{fdt_8c_a6603ac8041afcc7fde5c0b25de765103}{fdt\_next\_node}(fdt, startoffset, \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
687          offset >= 0;
688          offset = \hyperlink{fdt_8c_a6603ac8041afcc7fde5c0b25de765103}{fdt\_next\_node}(fdt, offset, \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL})) \{
689         val = \hyperlink{fdt__ro_8c_a0a72997fe1eb5a57885bbb988256d08f}{fdt\_getprop}(fdt, offset, propname, &len);
690         \textcolor{keywordflow}{if} (val && (len == proplen)
691             && (\hyperlink{cstd_8c_ace6c4869ab3af01c6f27eac47773917a}{memcmp}(val, propval, len) == 0))
692             \textcolor{keywordflow}{return} offset;
693     \}
694 
695     \textcolor{keywordflow}{return} offset; \textcolor{comment}{/* error from fdt\_next\_node() */}
696 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ac1b08e2054997c7e9814fc0b04acb305}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-nop\-\_\-node@{fdt\-\_\-nop\-\_\-node}}
\index{fdt\-\_\-nop\-\_\-node@{fdt\-\_\-nop\-\_\-node}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-nop\-\_\-node}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-nop\-\_\-node (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ac1b08e2054997c7e9814fc0b04acb305}
fdt\-\_\-nop\-\_\-node -\/ replace a node (subtree) with nop tags \-: pointer to the device tree blob \-: offset of the node to nop

\hyperlink{fdt__wip_8c_ac1b08e2054997c7e9814fc0b04acb305}{fdt\-\_\-nop\-\_\-node()} will replace a given node's representation in the blob, including all its subnodes, if any, with F\-D\-T\-\_\-\-N\-O\-P tags, effectively removing it from the tree.

This function will alter only the bytes in the blob which contain the node and its properties and subnodes, and will not alter or move any other part of the tree.

returns\-: 0, on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset did not point to F\-D\-T\-\_\-\-B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings 

References fdt\-\_\-node\-\_\-end\-\_\-offset\-\_\-(), fdt\-\_\-nop\-\_\-region\-\_\-(), and fdt\-\_\-offset\-\_\-ptr\-\_\-w().


\begin{DoxyCode}
84 \{
85     \textcolor{keywordtype}{int} endoffset;
86 
87     endoffset = \hyperlink{fdt__wip_8c_a45210c5c83d2fc1bed7cb7161e471fad}{fdt\_node\_end\_offset\_}(fdt, nodeoffset);
88     \textcolor{keywordflow}{if} (endoffset < 0)
89         \textcolor{keywordflow}{return} endoffset;
90 
91     \hyperlink{fdt__wip_8c_a2553eaad74cf73ff56d5f6bf5da1b04b}{fdt\_nop\_region\_}(\hyperlink{libfdt_8h_ab5fff326afde3a9b05b6327aa6e5a7bc}{fdt\_offset\_ptr\_w}(fdt, nodeoffset, 0),
92             endoffset - nodeoffset);
93     \textcolor{keywordflow}{return} 0;
94 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_acf3ba20475e7b94a8d31eac14ea7228d}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-nop\-\_\-property@{fdt\-\_\-nop\-\_\-property}}
\index{fdt\-\_\-nop\-\_\-property@{fdt\-\_\-nop\-\_\-property}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-nop\-\_\-property}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-nop\-\_\-property (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_acf3ba20475e7b94a8d31eac14ea7228d}


References fdt\-\_\-get\-\_\-property\-\_\-w(), fdt\-\_\-nop\-\_\-region\-\_\-(), and fdt\-\_\-property\-::len.


\begin{DoxyCode}
60 \{
61     \textcolor{keyword}{struct }\hyperlink{structfdt__property}{fdt\_property} *prop;
62     \textcolor{keywordtype}{int} \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len};
63 
64     prop = \hyperlink{libfdt_8h_a3ef3cd199863ded58e473a71ebdd478c}{fdt\_get\_property\_w}(fdt, nodeoffset, name, &len);
65     \textcolor{keywordflow}{if} (!prop)
66         \textcolor{keywordflow}{return} \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len};
67 
68     \hyperlink{fdt__wip_8c_a2553eaad74cf73ff56d5f6bf5da1b04b}{fdt\_nop\_region\_}(prop, len + \textcolor{keyword}{sizeof}(*prop));
69 
70     \textcolor{keywordflow}{return} 0;
71 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a79fa5b76564c75c9fb00fe8ca3ba3eee}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-num\-\_\-mem\-\_\-rsv@{fdt\-\_\-num\-\_\-mem\-\_\-rsv}}
\index{fdt\-\_\-num\-\_\-mem\-\_\-rsv@{fdt\-\_\-num\-\_\-mem\-\_\-rsv}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-num\-\_\-mem\-\_\-rsv}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-num\-\_\-mem\-\_\-rsv (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a79fa5b76564c75c9fb00fe8ca3ba3eee}
fdt\-\_\-num\-\_\-mem\-\_\-rsv -\/ retrieve the number of memory reserve map entries \-: pointer to the device tree blob

Returns the number of entries in the device tree blob's memory reservation map. This does not include the terminating 0,0 entry or any other (0,0) entries reserved for expansion.

returns\-: the number of entries 

References fdt64\-\_\-ld\-\_\-(), F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, fdt\-\_\-mem\-\_\-rsv(), N\-U\-L\-L, and fdt\-\_\-reserve\-\_\-entry\-::size.



Referenced by fdt\-\_\-add\-\_\-mem\-\_\-rsv(), fdt\-\_\-check\-\_\-full(), fdt\-\_\-del\-\_\-mem\-\_\-rsv(), fdt\-\_\-open\-\_\-into(), and fdt\-\_\-pack().


\begin{DoxyCode}
190 \{
191     \textcolor{keywordtype}{int} i;
192     \textcolor{keyword}{const} \textcolor{keyword}{struct }\hyperlink{structfdt__reserve__entry}{fdt\_reserve\_entry} *re;
193 
194     \textcolor{keywordflow}{for} (i = 0; (re = \hyperlink{fdt__ro_8c_aa26d083555e092c1fc4f07a452502eb4}{fdt\_mem\_rsv}(fdt, i)) != \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL}; i++) \{
195         \textcolor{keywordflow}{if} (\hyperlink{libfdt__internal_8h_af075236a40c956f7e24e7ba5235f35ce}{fdt64\_ld\_}(&re->\hyperlink{structfdt__reserve__entry_ace12399f157bc46877fbcddec98da67e}{size}) == 0)
196             \textcolor{keywordflow}{return} i;
197     \}
198     \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a2b814a0775d93b5da1442fc091e49958}{FDT\_ERR\_TRUNCATED};
199 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a0fb70da665ded79540f3855e021704a0}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-offset\-\_\-ptr@{fdt\-\_\-offset\-\_\-ptr}}
\index{fdt\-\_\-offset\-\_\-ptr@{fdt\-\_\-offset\-\_\-ptr}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-offset\-\_\-ptr}]{\setlength{\rightskip}{0pt plus 5cm}const void$\ast$ fdt\-\_\-offset\-\_\-ptr (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{offset, }
\item[{unsigned int}]{checklen}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a0fb70da665ded79540f3855e021704a0}


References can\-\_\-assume, fdt\-\_\-off\-\_\-dt\-\_\-struct, fdt\-\_\-offset\-\_\-ptr\-\_\-(), fdt\-\_\-size\-\_\-dt\-\_\-struct, fdt\-\_\-totalsize, fdt\-\_\-version, and N\-U\-L\-L.



Referenced by fdt\-\_\-next\-\_\-tag(), and fdt\-\_\-offset\-\_\-ptr\-\_\-w().


\begin{DoxyCode}
141 \{
142     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} uoffset = offset;
143     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} absoffset = offset + \hyperlink{libfdt_8h_ae2ef3611d83ac29bb6de09594ead9969}{fdt\_off\_dt\_struct}(fdt);
144 
145     \textcolor{keywordflow}{if} (offset < 0)
146         \textcolor{keywordflow}{return} \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
147 
148     \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(VALID\_INPUT))
149         \textcolor{keywordflow}{if} ((absoffset < uoffset)
150             || ((absoffset + len) < absoffset)
151             || (absoffset + len) > \hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\_totalsize}(fdt))
152             \textcolor{keywordflow}{return} \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
153 
154     \textcolor{keywordflow}{if} (\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(LATEST) || \hyperlink{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}{fdt\_version}(fdt) >= 0x11)
155         \textcolor{keywordflow}{if} (((uoffset + len) < uoffset)
156             || ((offset + len) > \hyperlink{libfdt_8h_a73b5fa0a791f02805b93ea70c6cb30ab}{fdt\_size\_dt\_struct}(fdt)))
157             \textcolor{keywordflow}{return} \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
158 
159     \textcolor{keywordflow}{return} \hyperlink{libfdt__internal_8h_a669df6806fbbdd717cef1c9c821dff06}{fdt\_offset\_ptr\_}(fdt, offset);
160 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ab5fff326afde3a9b05b6327aa6e5a7bc}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-offset\-\_\-ptr\-\_\-w@{fdt\-\_\-offset\-\_\-ptr\-\_\-w}}
\index{fdt\-\_\-offset\-\_\-ptr\-\_\-w@{fdt\-\_\-offset\-\_\-ptr\-\_\-w}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-offset\-\_\-ptr\-\_\-w}]{\setlength{\rightskip}{0pt plus 5cm}static void$\ast$ fdt\-\_\-offset\-\_\-ptr\-\_\-w (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{offset, }
\item[{int}]{checklen}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_ab5fff326afde3a9b05b6327aa6e5a7bc}


References fdt\-\_\-offset\-\_\-ptr().



Referenced by fdt\-\_\-nop\-\_\-node().


\begin{DoxyCode}
123 \{
124     \textcolor{keywordflow}{return} (\textcolor{keywordtype}{void} *)(\hyperlink{libfdt__env_8h_a83242de74310b4aec3fc506bc3644211}{uintptr\_t})\hyperlink{fdt_8c_a8ff1531b134887d2b9f7845df85ffe4c}{fdt\_offset\_ptr}(fdt, offset, checklen);
125 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_aa493ca8c4e02dbfdc415e74115c794bb}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-open\-\_\-into@{fdt\-\_\-open\-\_\-into}}
\index{fdt\-\_\-open\-\_\-into@{fdt\-\_\-open\-\_\-into}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-open\-\_\-into}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-open\-\_\-into (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{void $\ast$}]{buf, }
\item[{int}]{bufsize}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_aa493ca8c4e02dbfdc415e74115c794bb}


References can\-\_\-assume, F\-D\-T\-\_\-\-A\-L\-I\-G\-N, fdt\-\_\-blocks\-\_\-misordered\-\_\-(), fdt\-\_\-boot\-\_\-cpuid\-\_\-phys, F\-D\-T\-\_\-\-E\-N\-D, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, F\-D\-T\-\_\-\-M\-A\-G\-I\-C, fdt\-\_\-move(), fdt\-\_\-next\-\_\-tag(), fdt\-\_\-num\-\_\-mem\-\_\-rsv(), fdt\-\_\-packblocks\-\_\-(), F\-D\-T\-\_\-\-R\-O\-\_\-\-P\-R\-O\-B\-E, fdt\-\_\-size\-\_\-dt\-\_\-strings, fdt\-\_\-size\-\_\-dt\-\_\-struct, fdt\-\_\-totalsize, fdt\-\_\-version, and memmove().



Referenced by fdt\-\_\-create\-\_\-empty\-\_\-tree().


\begin{DoxyCode}
420 \{
421     \textcolor{keywordtype}{int} err;
422     \textcolor{keywordtype}{int} mem\_rsv\_size, struct\_size;
423     \textcolor{keywordtype}{int} newsize;
424     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *fdtstart = fdt;
425     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *fdtend = fdtstart + \hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\_totalsize}(fdt);
426     \textcolor{keywordtype}{char} *tmp;
427 
428     \hyperlink{libfdt__internal_8h_ad6927f926180469d5c044ec5d3b2f84b}{FDT\_RO\_PROBE}(fdt);
429 
430     mem\_rsv\_size = (\hyperlink{fdt__ro_8c_a79fa5b76564c75c9fb00fe8ca3ba3eee}{fdt\_num\_mem\_rsv}(fdt)+1)
431         * \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structfdt__reserve__entry}{fdt\_reserve\_entry});
432 
433     \textcolor{keywordflow}{if} (\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(LATEST) || \hyperlink{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}{fdt\_version}(fdt) >= 17) \{
434         struct\_size = \hyperlink{libfdt_8h_a73b5fa0a791f02805b93ea70c6cb30ab}{fdt\_size\_dt\_struct}(fdt);
435     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\hyperlink{libfdt_8h_a13dbe2495fe8e67717bc708c523c781e}{fdt\_version}(fdt) == 16) \{
436         struct\_size = 0;
437         \textcolor{keywordflow}{while} (\hyperlink{fdt_8c_ae1b4b34a1b1fa1230d3ccacf14446b61}{fdt\_next\_tag}(fdt, struct\_size, &struct\_size) != 
      \hyperlink{fdt_8h_a53275b16340fb458df4782462f283d8c}{FDT\_END})
438             ;
439         \textcolor{keywordflow}{if} (struct\_size < 0)
440             \textcolor{keywordflow}{return} struct\_size;
441     \} \textcolor{keywordflow}{else} \{
442         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_ad2a3b277a1e6987ead001fcd2415d88d}{FDT\_ERR\_BADVERSION};
443     \}
444 
445     \textcolor{keywordflow}{if} (\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(LIBFDT\_ORDER) ||
446         !\hyperlink{fdt__rw_8c_a85dfbfdc83212c333265fe389a585fb4}{fdt\_blocks\_misordered\_}(fdt, mem\_rsv\_size, struct\_size)) \{
447         \textcolor{comment}{/* no further work necessary */}
448         err = \hyperlink{fdt_8c_a1be79096bbc68a1986e54eb4c57a8007}{fdt\_move}(fdt, buf, bufsize);
449         \textcolor{keywordflow}{if} (err)
450             \textcolor{keywordflow}{return} err;
451         fdt\_set\_version(buf, 17);
452         fdt\_set\_size\_dt\_struct(buf, struct\_size);
453         fdt\_set\_totalsize(buf, bufsize);
454         \textcolor{keywordflow}{return} 0;
455     \}
456 
457     \textcolor{comment}{/* Need to reorder */}
458     newsize = \hyperlink{libfdt__internal_8h_a47d522a4cadae635e3549c08f4032c3b}{FDT\_ALIGN}(\textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structfdt__header}{fdt\_header}), 8) + mem\_rsv\_size
459         + struct\_size + \hyperlink{libfdt_8h_aa0748803d707f2be7d15ebfb815d31b4}{fdt\_size\_dt\_strings}(fdt);
460 
461     \textcolor{keywordflow}{if} (bufsize < newsize)
462         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
463 
464     \textcolor{comment}{/* First attempt to build converted tree at beginning of buffer */}
465     tmp = buf;
466     \textcolor{comment}{/* But if that overlaps with the old tree... */}
467     \textcolor{keywordflow}{if} (((tmp + newsize) > fdtstart) && (tmp < fdtend)) \{
468         \textcolor{comment}{/* Try right after the old tree instead */}
469         tmp = (\textcolor{keywordtype}{char} *)(\hyperlink{libfdt__env_8h_a83242de74310b4aec3fc506bc3644211}{uintptr\_t})fdtend;
470         \textcolor{keywordflow}{if} ((tmp + newsize) > ((\textcolor{keywordtype}{char} *)buf + bufsize))
471             \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
472     \}
473 
474     \hyperlink{fdt__rw_8c_a58527f85a06ab2aa9564e07396acfade}{fdt\_packblocks\_}(fdt, tmp, mem\_rsv\_size, struct\_size,
475             \hyperlink{libfdt_8h_aa0748803d707f2be7d15ebfb815d31b4}{fdt\_size\_dt\_strings}(fdt));
476     \hyperlink{cstd_8c_a802c986820d3866639922b6bc9484f90}{memmove}(buf, tmp, newsize);
477 
478     fdt\_set\_magic(buf, \hyperlink{fdt_8h_a5d5b14eccb44e809abddd8a946ddc8a3}{FDT\_MAGIC});
479     fdt\_set\_totalsize(buf, bufsize);
480     fdt\_set\_version(buf, 17);
481     fdt\_set\_last\_comp\_version(buf, 16);
482     fdt\_set\_boot\_cpuid\_phys(buf, \hyperlink{libfdt_8h_ad5f615bb04034e144f826b3a182ff985}{fdt\_boot\_cpuid\_phys}(fdt));
483 
484     \textcolor{keywordflow}{return} 0;
485 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ad0fcb152428382bde7f034cdadfe923e}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-overlay\-\_\-apply@{fdt\-\_\-overlay\-\_\-apply}}
\index{fdt\-\_\-overlay\-\_\-apply@{fdt\-\_\-overlay\-\_\-apply}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-overlay\-\_\-apply}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-overlay\-\_\-apply (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{void $\ast$}]{fdto}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ad0fcb152428382bde7f034cdadfe923e}
fdt\-\_\-overlay\-\_\-apply -\/ Applies a D\-T overlay on a base D\-T \-: pointer to the base device tree blob \-: pointer to the device tree overlay blob

\hyperlink{fdt__overlay_8c_ad0fcb152428382bde7f034cdadfe923e}{fdt\-\_\-overlay\-\_\-apply()} will apply the given device tree overlay on the given base device tree.

Expect the base device tree to be modified, even if the function returns an error.

returns\-: 0, on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, there's not enough space in the base device tree -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, the overlay points to some inexistant nodes or properties in the base D\-T -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-H\-A\-N\-D\-L\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-V\-E\-R\-L\-A\-Y, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-P\-H\-A\-N\-D\-L\-E\-S, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-I\-N\-T\-E\-R\-N\-A\-L, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-L\-A\-Y\-O\-U\-T, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-A\-T\-H, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings 

References fdt\-\_\-find\-\_\-max\-\_\-phandle(), F\-D\-T\-\_\-\-R\-O\-\_\-\-P\-R\-O\-B\-E, overlay\-\_\-adjust\-\_\-local\-\_\-phandles(), overlay\-\_\-fixup\-\_\-phandles(), overlay\-\_\-merge(), overlay\-\_\-symbol\-\_\-update(), and overlay\-\_\-update\-\_\-local\-\_\-references().


\begin{DoxyCode}
816 \{
817     \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t} delta;
818     \textcolor{keywordtype}{int} ret;
819 
820     \hyperlink{libfdt__internal_8h_ad6927f926180469d5c044ec5d3b2f84b}{FDT\_RO\_PROBE}(fdt);
821     \hyperlink{libfdt__internal_8h_ad6927f926180469d5c044ec5d3b2f84b}{FDT\_RO\_PROBE}(fdto);
822 
823     ret = \hyperlink{fdt__ro_8c_a57fbf6be8c4911e8448942b9fed97301}{fdt\_find\_max\_phandle}(fdt, &delta);
824     \textcolor{keywordflow}{if} (ret)
825         \textcolor{keywordflow}{goto} err;
826 
827     ret = \hyperlink{fdt__overlay_8c_a8cde92cc15e941275df561c47f912ba4}{overlay\_adjust\_local\_phandles}(fdto, delta);
828     \textcolor{keywordflow}{if} (ret)
829         \textcolor{keywordflow}{goto} err;
830 
831     ret = \hyperlink{fdt__overlay_8c_a1c4ea38de65ffacb7708dd7641914a34}{overlay\_update\_local\_references}(fdto, delta);
832     \textcolor{keywordflow}{if} (ret)
833         \textcolor{keywordflow}{goto} err;
834 
835     ret = \hyperlink{fdt__overlay_8c_a5cf73a63ad60707f4c93c7de7de81357}{overlay\_fixup\_phandles}(fdt, fdto);
836     \textcolor{keywordflow}{if} (ret)
837         \textcolor{keywordflow}{goto} err;
838 
839     ret = \hyperlink{fdt__overlay_8c_a36a905f6566751e42d0a0111b2d78a67}{overlay\_merge}(fdt, fdto);
840     \textcolor{keywordflow}{if} (ret)
841         \textcolor{keywordflow}{goto} err;
842 
843     ret = \hyperlink{fdt__overlay_8c_add76bc4fa1b36b1c11bfd9a2cf779ac1}{overlay\_symbol\_update}(fdt, fdto);
844     \textcolor{keywordflow}{if} (ret)
845         \textcolor{keywordflow}{goto} err;
846 
847     \textcolor{comment}{/*}
848 \textcolor{comment}{     * The overlay has been damaged, erase its magic.}
849 \textcolor{comment}{     */}
850     fdt\_set\_magic(fdto, ~0);
851 
852     \textcolor{keywordflow}{return} 0;
853 
854 err:
855     \textcolor{comment}{/*}
856 \textcolor{comment}{     * The overlay might have been damaged, erase its magic.}
857 \textcolor{comment}{     */}
858     fdt\_set\_magic(fdto, ~0);
859 
860     \textcolor{comment}{/*}
861 \textcolor{comment}{     * The base device tree might have been damaged, erase its}
862 \textcolor{comment}{     * magic.}
863 \textcolor{comment}{     */}
864     fdt\_set\_magic(fdt, ~0);
865 
866     \textcolor{keywordflow}{return} ret;
867 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_aa155e9207e65bc6c432c40e301485af5}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-overlay\-\_\-target\-\_\-offset@{fdt\-\_\-overlay\-\_\-target\-\_\-offset}}
\index{fdt\-\_\-overlay\-\_\-target\-\_\-offset@{fdt\-\_\-overlay\-\_\-target\-\_\-offset}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-overlay\-\_\-target\-\_\-offset}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-overlay\-\_\-target\-\_\-offset (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{const void $\ast$}]{fdto, }
\item[{int}]{fragment\-\_\-offset, }
\item[{char const $\ast$$\ast$}]{pathp}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_aa155e9207e65bc6c432c40e301485af5}
fdt\-\_\-overlay\-\_\-target\-\_\-offset -\/ retrieves the offset of a fragment's target \-: Base device tree blob \-: Device tree overlay blob \-: node offset of the fragment in the overlay \-: pointer which receives the path of the target (or N\-U\-L\-L)

\hyperlink{fdt__overlay_8c_aa155e9207e65bc6c432c40e301485af5}{fdt\-\_\-overlay\-\_\-target\-\_\-offset()} retrieves the target offset in the base device tree of a fragment, no matter how the actual targeting is done (through a phandle or a path)

returns\-: the targeted node offset in the base device tree Negative error code on error 

References F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-V\-E\-R\-L\-A\-Y, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-H\-A\-N\-D\-L\-E, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, fdt\-\_\-getprop(), fdt\-\_\-node\-\_\-offset\-\_\-by\-\_\-phandle(), fdt\-\_\-path\-\_\-offset(), N\-U\-L\-L, and overlay\-\_\-get\-\_\-target\-\_\-phandle().



Referenced by overlay\-\_\-merge(), and overlay\-\_\-symbol\-\_\-update().


\begin{DoxyCode}
45 \{
46     \hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t} phandle;
47     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *path = \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
48     \textcolor{keywordtype}{int} path\_len = 0, ret;
49 
50     \textcolor{comment}{/* Try first to do a phandle based lookup */}
51     phandle = \hyperlink{fdt__overlay_8c_a1b77c6faf056e97fb21ed6c3b7d3ac6a}{overlay\_get\_target\_phandle}(fdto, fragment\_offset);
52     \textcolor{keywordflow}{if} (phandle == (\hyperlink{libfdt__env_8h_a435d1572bf3f880d55459d9805097f62}{uint32\_t})-1)
53         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a0f264f8ba8cc4e98852c8246bc6312bc}{FDT\_ERR\_BADPHANDLE};
54 
55     \textcolor{comment}{/* no phandle, try path */}
56     \textcolor{keywordflow}{if} (!phandle) \{
57         \textcolor{comment}{/* And then a path based lookup */}
58         path = \hyperlink{fdt__ro_8c_a0a72997fe1eb5a57885bbb988256d08f}{fdt\_getprop}(fdto, fragment\_offset, \textcolor{stringliteral}{"target-path"}, &path\_len);
59         \textcolor{keywordflow}{if} (path)
60             ret = \hyperlink{fdt__ro_8c_a222c01ef0a514a4cf7586f6de8b17072}{fdt\_path\_offset}(fdt, path);
61         \textcolor{keywordflow}{else}
62             ret = path\_len;
63     \} \textcolor{keywordflow}{else}
64         ret = \hyperlink{fdt__ro_8c_a4ff6571f3fe2fa89cfd6dc15f52eaf1e}{fdt\_node\_offset\_by\_phandle}(fdt, phandle);
65 
66     \textcolor{comment}{/*}
67 \textcolor{comment}{    * If we haven't found either a target or a}
68 \textcolor{comment}{    * target-path property in a node that contains a}
69 \textcolor{comment}{    * \_\_overlay\_\_ subnode (we wouldn't be called}
70 \textcolor{comment}{    * otherwise), consider it a improperly written}
71 \textcolor{comment}{    * overlay}
72 \textcolor{comment}{    */}
73     \textcolor{keywordflow}{if} (ret < 0 && path\_len == -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND})
74         ret = -\hyperlink{libfdt_8h_aa276d7f3088179b283530d41750ff5e4}{FDT\_ERR\_BADOVERLAY};
75 
76     \textcolor{comment}{/* return on error */}
77     \textcolor{keywordflow}{if} (ret < 0)
78         \textcolor{keywordflow}{return} ret;
79 
80     \textcolor{comment}{/* return pointer to path (if available) */}
81     \textcolor{keywordflow}{if} (pathp)
82         *pathp = path ? path : \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
83 
84     \textcolor{keywordflow}{return} ret;
85 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a994a93e82b34bfdaeeb8288551e6fa98}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-pack@{fdt\-\_\-pack}}
\index{fdt\-\_\-pack@{fdt\-\_\-pack}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-pack}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-pack (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a994a93e82b34bfdaeeb8288551e6fa98}


References fdt\-\_\-data\-\_\-size\-\_\-(), fdt\-\_\-num\-\_\-mem\-\_\-rsv(), fdt\-\_\-packblocks\-\_\-(), F\-D\-T\-\_\-\-R\-W\-\_\-\-P\-R\-O\-B\-E, fdt\-\_\-size\-\_\-dt\-\_\-strings, and fdt\-\_\-size\-\_\-dt\-\_\-struct.


\begin{DoxyCode}
488 \{
489     \textcolor{keywordtype}{int} mem\_rsv\_size;
490 
491     \hyperlink{fdt__rw_8c_a8a087a089359a4a7a0ac78608ab6b2b9}{FDT\_RW\_PROBE}(fdt);
492 
493     mem\_rsv\_size = (\hyperlink{fdt__ro_8c_a79fa5b76564c75c9fb00fe8ca3ba3eee}{fdt\_num\_mem\_rsv}(fdt)+1)
494         * \textcolor{keyword}{sizeof}(\textcolor{keyword}{struct} \hyperlink{structfdt__reserve__entry}{fdt\_reserve\_entry});
495     \hyperlink{fdt__rw_8c_a58527f85a06ab2aa9564e07396acfade}{fdt\_packblocks\_}(fdt, fdt, mem\_rsv\_size, \hyperlink{libfdt_8h_a73b5fa0a791f02805b93ea70c6cb30ab}{fdt\_size\_dt\_struct}(fdt),
496             \hyperlink{libfdt_8h_aa0748803d707f2be7d15ebfb815d31b4}{fdt\_size\_dt\_strings}(fdt));
497     fdt\_set\_totalsize(fdt, \hyperlink{fdt__rw_8c_a5cd5558f8cac0e8f3c4239b8c2b4a991}{fdt\_data\_size\_}(fdt));
498 
499     \textcolor{keywordflow}{return} 0;
500 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a2b518dbd88cb783a9bffa1680ab297f9}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-parent\-\_\-offset@{fdt\-\_\-parent\-\_\-offset}}
\index{fdt\-\_\-parent\-\_\-offset@{fdt\-\_\-parent\-\_\-offset}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-parent\-\_\-offset}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-parent\-\_\-offset (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a2b518dbd88cb783a9bffa1680ab297f9}
fdt\-\_\-parent\-\_\-offset -\/ find the parent of a given node \-: pointer to the device tree blob \-: offset of the node whose parent to find

\hyperlink{fdt__ro_8c_a2b518dbd88cb783a9bffa1680ab297f9}{fdt\-\_\-parent\-\_\-offset()} locates the parent node of a given node (that is, it finds the offset of the node which contains the node at nodeoffset as a subnode).

N\-O\-T\-E\-: This function is expensive, as it must scan the device tree structure from the start to nodeoffset, {\itshape twice}.

returns\-: structure block offset of the parent of the node at nodeoffset ($>$=0), on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset does not refer to a B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, standard meanings 

References fdt\-\_\-node\-\_\-depth(), fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset(), and N\-U\-L\-L.



Referenced by get\-\_\-path\-\_\-len().


\begin{DoxyCode}
662 \{
663     \textcolor{keywordtype}{int} nodedepth = \hyperlink{fdt__ro_8c_a2c0d12a5988128f0b674d4ec24b709d8}{fdt\_node\_depth}(fdt, nodeoffset);
664 
665     \textcolor{keywordflow}{if} (nodedepth < 0)
666         \textcolor{keywordflow}{return} nodedepth;
667     \textcolor{keywordflow}{return} \hyperlink{fdt__ro_8c_a6c960d975c6644172ccc71fc2c48dbb4}{fdt\_supernode\_atdepth\_offset}(fdt, nodeoffset,
668                         nodedepth - 1, \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
669 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a222c01ef0a514a4cf7586f6de8b17072}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-path\-\_\-offset@{fdt\-\_\-path\-\_\-offset}}
\index{fdt\-\_\-path\-\_\-offset@{fdt\-\_\-path\-\_\-offset}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-path\-\_\-offset}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-path\-\_\-offset (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{const char $\ast$}]{path}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a222c01ef0a514a4cf7586f6de8b17072}
fdt\-\_\-path\-\_\-offset -\/ find a tree node by its full path \-: pointer to the device tree blob \-: full path of the node to locate

\hyperlink{fdt__ro_8c_a222c01ef0a514a4cf7586f6de8b17072}{fdt\-\_\-path\-\_\-offset()} finds a node of a given path in the device tree. Each path component may omit the unit address portion, but the results of this are undefined if any such path component is ambiguous (that is if there are multiple nodes at the relevant level matching the given component, differentiated only by unit address).

If the path is not absolute (i.\-e. does not begin with '/'), the first component is treated as an alias. That is, the property by that name is looked up in the /aliases node, and the value of that property used in place of that first component.

For example, for this small fragment

/ \{ aliases \{ i2c2 =  // R\-H\-S compiles to \char`\"{}/soc@0/i2c@30a40000/eeprom@52\char`\"{} \}; soc@0 \{ foo\-: i2c@30a40000 \{ bar\-: eeprom@52 \{ \}; \}; \}; \};

these would be equivalent\-:

/soc@0/i2c@30a40000/eeprom@52 i2c2/eeprom@52

returns\-: structure block offset of the node with the requested path ($>$=0), on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-A\-T\-H, given path does not begin with '/' and the first component is not a valid alias -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, if the requested node does not exist -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings. 

References fdt\-\_\-path\-\_\-offset\-\_\-namelen(), and strlen().



Referenced by fdt\-\_\-overlay\-\_\-target\-\_\-offset(), fdt\-\_\-path\-\_\-getprop\-\_\-namelen(), fdt\-\_\-path\-\_\-offset\-\_\-namelen(), overlay\-\_\-fixup\-\_\-one\-\_\-phandle(), overlay\-\_\-fixup\-\_\-phandles(), and overlay\-\_\-update\-\_\-local\-\_\-references().


\begin{DoxyCode}
296 \{
297     \textcolor{keywordflow}{return} \hyperlink{fdt__ro_8c_aa8b4d143366fc7d443f47c1c92a8f8cc}{fdt\_path\_offset\_namelen}(fdt, path, \hyperlink{cstd_8c_a54684bded3e61e2d78d490650f9b706a}{strlen}(path));
298 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_aa8b4d143366fc7d443f47c1c92a8f8cc}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-path\-\_\-offset\-\_\-namelen@{fdt\-\_\-path\-\_\-offset\-\_\-namelen}}
\index{fdt\-\_\-path\-\_\-offset\-\_\-namelen@{fdt\-\_\-path\-\_\-offset\-\_\-namelen}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-path\-\_\-offset\-\_\-namelen}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-path\-\_\-offset\-\_\-namelen (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{const char $\ast$}]{path, }
\item[{int}]{namelen}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_aa8b4d143366fc7d443f47c1c92a8f8cc}
fdt\-\_\-path\-\_\-offset\-\_\-namelen -\/ find a tree node by its full path \-: pointer to the device tree blob \-: full path of the node to locate \-: number of characters of path to consider

Identical to \hyperlink{fdt__ro_8c_a222c01ef0a514a4cf7586f6de8b17072}{fdt\-\_\-path\-\_\-offset()}, but only consider the first namelen characters of path as the path name.

Return\-: offset of the node or negative libfdt error value otherwise 

References F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-P\-A\-T\-H, fdt\-\_\-get\-\_\-alias\-\_\-namelen(), fdt\-\_\-path\-\_\-offset(), F\-D\-T\-\_\-\-R\-O\-\_\-\-P\-R\-O\-B\-E, fdt\-\_\-subnode\-\_\-offset\-\_\-namelen(), and memchr().



Referenced by fdt\-\_\-path\-\_\-offset(), and overlay\-\_\-fixup\-\_\-one\-\_\-phandle().


\begin{DoxyCode}
251 \{
252     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *end = path + namelen;
253     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *p = path;
254     \textcolor{keywordtype}{int} offset = 0;
255 
256     \hyperlink{libfdt__internal_8h_ad6927f926180469d5c044ec5d3b2f84b}{FDT\_RO\_PROBE}(fdt);
257 
258     \textcolor{comment}{/* see if we have an alias */}
259     \textcolor{keywordflow}{if} (*path != \textcolor{charliteral}{'/'}) \{
260         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *q = \hyperlink{cstd_8c_a7a1a96cef371f847b925fb1478e04080}{memchr}(path, \textcolor{charliteral}{'/'}, end - p);
261 
262         \textcolor{keywordflow}{if} (!q)
263             q = end;
264 
265         p = \hyperlink{fdt__ro_8c_a1446c9a325c1348d88007632675f2641}{fdt\_get\_alias\_namelen}(fdt, p, q - p);
266         \textcolor{keywordflow}{if} (!p)
267             \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a2b7c103b35891f65523585a43b92a748}{FDT\_ERR\_BADPATH};
268         offset = \hyperlink{fdt__ro_8c_a222c01ef0a514a4cf7586f6de8b17072}{fdt\_path\_offset}(fdt, p);
269 
270         p = q;
271     \}
272 
273     \textcolor{keywordflow}{while} (p < end) \{
274         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *q;
275 
276         \textcolor{keywordflow}{while} (*p == \textcolor{charliteral}{'/'}) \{
277             p++;
278             \textcolor{keywordflow}{if} (p == end)
279                 \textcolor{keywordflow}{return} offset;
280         \}
281         q = \hyperlink{cstd_8c_a7a1a96cef371f847b925fb1478e04080}{memchr}(p, \textcolor{charliteral}{'/'}, end - p);
282         \textcolor{keywordflow}{if} (! q)
283             q = end;
284 
285         offset = \hyperlink{fdt__ro_8c_a515ddadab660b50e9d31c05c74f7d351}{fdt\_subnode\_offset\_namelen}(fdt, offset, p, q-p);
286         \textcolor{keywordflow}{if} (offset < 0)
287             \textcolor{keywordflow}{return} offset;
288 
289         p = q;
290     \}
291 
292     \textcolor{keywordflow}{return} offset;
293 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a525f92c0978941a45a4c3a32793266e4}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-property@{fdt\-\_\-property}}
\index{fdt\-\_\-property@{fdt\-\_\-property}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-property}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf fdt\-\_\-property} (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{const char $\ast$}]{name, }
\item[{const void $\ast$}]{val, }
\item[{int}]{len}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a525f92c0978941a45a4c3a32793266e4}


References fdt\-\_\-property\-\_\-placeholder(), and memcpy().



Referenced by fdt\-\_\-property\-\_\-u32(), and fdt\-\_\-property\-\_\-u64().


\begin{DoxyCode}
326 \{
327     \textcolor{keywordtype}{void} *ptr;
328     \textcolor{keywordtype}{int} ret;
329 
330     ret = \hyperlink{fdt__sw_8c_a9015fb704ccb78395d5995db76978821}{fdt\_property\_placeholder}(fdt, name, len, &ptr);
331     \textcolor{keywordflow}{if} (ret)
332         \textcolor{keywordflow}{return} ret;
333     \hyperlink{cstd_8c_a40deeb5b928964e60d97b3b8fd8a9b33}{memcpy}(ptr, val, len);
334     \textcolor{keywordflow}{return} 0;
335 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_adebd22ded4e3a8e4414cfd720332a8c6}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-property\-\_\-cell@{fdt\-\_\-property\-\_\-cell}}
\index{fdt\-\_\-property\-\_\-cell@{fdt\-\_\-property\-\_\-cell}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-property\-\_\-cell}]{\setlength{\rightskip}{0pt plus 5cm}static int fdt\-\_\-property\-\_\-cell (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{const char $\ast$}]{name, }
\item[{{\bf uint32\-\_\-t}}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_adebd22ded4e3a8e4414cfd720332a8c6}


References fdt\-\_\-property\-\_\-u32().


\begin{DoxyCode}
1554 \{
1555     \textcolor{keywordflow}{return} \hyperlink{libfdt_8h_ae176cf7ebbe070938c5881a26355dd74}{fdt\_property\_u32}(fdt, name, val);
1556 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a9015fb704ccb78395d5995db76978821}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-property\-\_\-placeholder@{fdt\-\_\-property\-\_\-placeholder}}
\index{fdt\-\_\-property\-\_\-placeholder@{fdt\-\_\-property\-\_\-placeholder}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-property\-\_\-placeholder}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-property\-\_\-placeholder (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{const char $\ast$}]{name, }
\item[{int}]{len, }
\item[{void $\ast$$\ast$}]{valp}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a9015fb704ccb78395d5995db76978821}


References cpu\-\_\-to\-\_\-fdt32(), fdt\-\_\-property\-::data, fdt\-\_\-add\-\_\-string\-\_\-(), F\-D\-T\-\_\-\-C\-R\-E\-A\-T\-E\-\_\-\-F\-L\-A\-G\-\_\-\-N\-O\-\_\-\-N\-A\-M\-E\-\_\-\-D\-E\-D\-U\-P, fdt\-\_\-del\-\_\-last\-\_\-string\-\_\-(), F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, fdt\-\_\-find\-\_\-add\-\_\-string\-\_\-(), fdt\-\_\-grab\-\_\-space\-\_\-(), F\-D\-T\-\_\-\-P\-R\-O\-P, F\-D\-T\-\_\-\-S\-W\-\_\-\-P\-R\-O\-B\-E\-\_\-\-S\-T\-R\-U\-C\-T, F\-D\-T\-\_\-\-T\-A\-G\-A\-L\-I\-G\-N, fdt\-\_\-property\-::len, fdt\-\_\-property\-::nameoff, sw\-\_\-flags(), and fdt\-\_\-property\-::tag.



Referenced by fdt\-\_\-property().


\begin{DoxyCode}
294 \{
295     \textcolor{keyword}{struct }\hyperlink{structfdt__property}{fdt\_property} *prop;
296     \textcolor{keywordtype}{int} \hyperlink{structfdt__property_ad5753794266beffe67b79b6e5b3ab352}{nameoff};
297     \textcolor{keywordtype}{int} allocated;
298 
299     \hyperlink{fdt__sw_8c_a71f41b9df0134e4b8e4bc2cf023741d2}{FDT\_SW\_PROBE\_STRUCT}(fdt);
300 
301     \textcolor{comment}{/* String de-duplication can be slow, \_NO\_NAME\_DEDUP skips it */}
302     \textcolor{keywordflow}{if} (\hyperlink{fdt__sw_8c_a7ef7626d844124362e5ad3eff9848f66}{sw\_flags}(fdt) & \hyperlink{libfdt_8h_a439fad457c41818aa238dff416f284aa}{FDT\_CREATE\_FLAG\_NO\_NAME\_DEDUP}) \{
303         allocated = 1;
304         nameoff = \hyperlink{fdt__sw_8c_a5fb58af6d8c627999573486ebdb28bfe}{fdt\_add\_string\_}(fdt, name);
305     \} \textcolor{keywordflow}{else} \{
306         nameoff = \hyperlink{fdt__sw_8c_a39cb8b1f38cfd53050f7089314f23c7f}{fdt\_find\_add\_string\_}(fdt, name, &allocated);
307     \}
308     \textcolor{keywordflow}{if} (nameoff == 0)
309         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
310 
311     prop = \hyperlink{fdt__sw_8c_a2b84719929e321e90fce03acaf600413}{fdt\_grab\_space\_}(fdt, \textcolor{keyword}{sizeof}(*prop) + \hyperlink{libfdt__internal_8h_a8955518b67338925d939fe2389b41796}{FDT\_TAGALIGN}(
      \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len}));
312     \textcolor{keywordflow}{if} (! prop) \{
313         \textcolor{keywordflow}{if} (allocated)
314             \hyperlink{fdt__sw_8c_ae0c4748fe7902285d3151c1860bcc22e}{fdt\_del\_last\_string\_}(fdt, name);
315         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
316     \}
317 
318     prop->\hyperlink{structfdt__property_a6c0d0fd0e741c931f7b3ca1482193740}{tag} = \hyperlink{libfdt__env_8h_a06ce41f441b8a56710000af3c3e516e5}{cpu\_to\_fdt32}(\hyperlink{fdt_8h_a3304a9313cbf7ecced77f89ff5f25dde}{FDT\_PROP});
319     prop->\hyperlink{structfdt__property_ad5753794266beffe67b79b6e5b3ab352}{nameoff} = \hyperlink{libfdt__env_8h_a06ce41f441b8a56710000af3c3e516e5}{cpu\_to\_fdt32}(nameoff);
320     prop->\hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len} = \hyperlink{libfdt__env_8h_a06ce41f441b8a56710000af3c3e516e5}{cpu\_to\_fdt32}(\hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len});
321     *valp = prop->\hyperlink{structfdt__property_abb52f21622f86ed9b268f49b76f23aef}{data};
322     \textcolor{keywordflow}{return} 0;
323 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ae176cf7ebbe070938c5881a26355dd74}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-property\-\_\-u32@{fdt\-\_\-property\-\_\-u32}}
\index{fdt\-\_\-property\-\_\-u32@{fdt\-\_\-property\-\_\-u32}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-property\-\_\-u32}]{\setlength{\rightskip}{0pt plus 5cm}static int fdt\-\_\-property\-\_\-u32 (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{const char $\ast$}]{name, }
\item[{{\bf uint32\-\_\-t}}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_ae176cf7ebbe070938c5881a26355dd74}


References cpu\-\_\-to\-\_\-fdt32(), and fdt\-\_\-property().



Referenced by fdt\-\_\-property\-\_\-cell().


\begin{DoxyCode}
1542 \{
1543     \hyperlink{libfdt__env_8h_a76887ac8786252752fb3f9a39b21f3af}{fdt32\_t} tmp = \hyperlink{libfdt__env_8h_a06ce41f441b8a56710000af3c3e516e5}{cpu\_to\_fdt32}(val);
1544     \textcolor{keywordflow}{return} \hyperlink{fdt__sw_8c_a525f92c0978941a45a4c3a32793266e4}{fdt\_property}(fdt, name, &tmp, \textcolor{keyword}{sizeof}(tmp));
1545 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a4a3ec15864f83c6e84a03eec276ed8b7}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-property\-\_\-u64@{fdt\-\_\-property\-\_\-u64}}
\index{fdt\-\_\-property\-\_\-u64@{fdt\-\_\-property\-\_\-u64}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-property\-\_\-u64}]{\setlength{\rightskip}{0pt plus 5cm}static int fdt\-\_\-property\-\_\-u64 (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{const char $\ast$}]{name, }
\item[{{\bf uint64\-\_\-t}}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_a4a3ec15864f83c6e84a03eec276ed8b7}


References cpu\-\_\-to\-\_\-fdt64(), and fdt\-\_\-property().


\begin{DoxyCode}
1547 \{
1548     \hyperlink{libfdt__env_8h_ace50a73711239df43c98cc1d5fedd1f8}{fdt64\_t} tmp = \hyperlink{libfdt__env_8h_a516d5270419a4000d9617b3df5e6f665}{cpu\_to\_fdt64}(val);
1549     \textcolor{keywordflow}{return} \hyperlink{fdt__sw_8c_a525f92c0978941a45a4c3a32793266e4}{fdt\_property}(fdt, name, &tmp, \textcolor{keyword}{sizeof}(tmp));
1550 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ac0274b125d712e01d9022bad43756c3c}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-resize@{fdt\-\_\-resize}}
\index{fdt\-\_\-resize@{fdt\-\_\-resize}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-resize}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-resize (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{void $\ast$}]{buf, }
\item[{int}]{bufsize}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ac0274b125d712e01d9022bad43756c3c}


References can\-\_\-assume, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-I\-N\-T\-E\-R\-N\-A\-L, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, fdt\-\_\-off\-\_\-dt\-\_\-strings, fdt\-\_\-off\-\_\-dt\-\_\-struct, fdt\-\_\-size\-\_\-dt\-\_\-strings, fdt\-\_\-size\-\_\-dt\-\_\-struct, F\-D\-T\-\_\-\-S\-W\-\_\-\-P\-R\-O\-B\-E, fdt\-\_\-totalsize, and memmove().


\begin{DoxyCode}
149 \{
150     \textcolor{keywordtype}{size\_t} headsize, tailsize;
151     \textcolor{keywordtype}{char} *oldtail, *newtail;
152 
153     \hyperlink{fdt__sw_8c_a384db2e3b5cbf95ce0d8271806332424}{FDT\_SW\_PROBE}(fdt);
154 
155     \textcolor{keywordflow}{if} (bufsize < 0)
156         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
157 
158     headsize = \hyperlink{libfdt_8h_ae2ef3611d83ac29bb6de09594ead9969}{fdt\_off\_dt\_struct}(fdt) + \hyperlink{libfdt_8h_a73b5fa0a791f02805b93ea70c6cb30ab}{fdt\_size\_dt\_struct}(fdt);
159     tailsize = \hyperlink{libfdt_8h_aa0748803d707f2be7d15ebfb815d31b4}{fdt\_size\_dt\_strings}(fdt);
160 
161     \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(VALID\_DTB) &&
162         headsize + tailsize > \hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\_totalsize}(fdt))
163         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a02625761a47e8012c53fb389dd25fadd}{FDT\_ERR\_INTERNAL};
164 
165     \textcolor{keywordflow}{if} ((headsize + tailsize) > (\textcolor{keywordtype}{unsigned})bufsize)
166         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
167 
168     oldtail = (\textcolor{keywordtype}{char} *)fdt + \hyperlink{libfdt_8h_a2acbb1f436008e0830f7e329bbb13cd0}{fdt\_totalsize}(fdt) - tailsize;
169     newtail = (\textcolor{keywordtype}{char} *)buf + bufsize - tailsize;
170 
171     \textcolor{comment}{/* Two cases to avoid clobbering data if the old and new}
172 \textcolor{comment}{     * buffers partially overlap */}
173     \textcolor{keywordflow}{if} (buf <= fdt) \{
174         \hyperlink{cstd_8c_a802c986820d3866639922b6bc9484f90}{memmove}(buf, fdt, headsize);
175         \hyperlink{cstd_8c_a802c986820d3866639922b6bc9484f90}{memmove}(newtail, oldtail, tailsize);
176     \} \textcolor{keywordflow}{else} \{
177         \hyperlink{cstd_8c_a802c986820d3866639922b6bc9484f90}{memmove}(newtail, oldtail, tailsize);
178         \hyperlink{cstd_8c_a802c986820d3866639922b6bc9484f90}{memmove}(buf, fdt, headsize);
179     \}
180 
181     fdt\_set\_totalsize(buf, bufsize);
182     \textcolor{keywordflow}{if} (\hyperlink{libfdt_8h_a80994b6320a372f47942ac65f55c0d6c}{fdt\_off\_dt\_strings}(buf))
183         fdt\_set\_off\_dt\_strings(buf, bufsize);
184 
185     \textcolor{keywordflow}{return} 0;
186 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a100e37448b872c47834443a7e1f5941f}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}}
\index{fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-set\-\_\-hdr\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}fdt\-\_\-set\-\_\-hdr\-\_\- (
\begin{DoxyParamCaption}
\item[{magic}]{}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a100e37448b872c47834443a7e1f5941f}
\hypertarget{libfdt_8h_adc34ac3d1b65faadfad549cbf93a085f}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}}
\index{fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-set\-\_\-hdr\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}fdt\-\_\-set\-\_\-hdr\-\_\- (
\begin{DoxyParamCaption}
\item[{totalsize}]{}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_adc34ac3d1b65faadfad549cbf93a085f}
\hypertarget{libfdt_8h_a3b2c0231338658a9ace84f5e88dcf232}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}}
\index{fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-set\-\_\-hdr\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}fdt\-\_\-set\-\_\-hdr\-\_\- (
\begin{DoxyParamCaption}
\item[{off\-\_\-dt\-\_\-struct}]{}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a3b2c0231338658a9ace84f5e88dcf232}
\hypertarget{libfdt_8h_a48b6ad6512f8deb065ad352f29fd442d}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}}
\index{fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-set\-\_\-hdr\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}fdt\-\_\-set\-\_\-hdr\-\_\- (
\begin{DoxyParamCaption}
\item[{off\-\_\-dt\-\_\-strings}]{}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a48b6ad6512f8deb065ad352f29fd442d}
\hypertarget{libfdt_8h_a9b38daa3767247f296d0229ff7e912b3}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}}
\index{fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-set\-\_\-hdr\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}fdt\-\_\-set\-\_\-hdr\-\_\- (
\begin{DoxyParamCaption}
\item[{off\-\_\-mem\-\_\-rsvmap}]{}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a9b38daa3767247f296d0229ff7e912b3}
\hypertarget{libfdt_8h_a59e7b3fd8bfdcdc344d656b175fea7a4}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}}
\index{fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-set\-\_\-hdr\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}fdt\-\_\-set\-\_\-hdr\-\_\- (
\begin{DoxyParamCaption}
\item[{version}]{}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a59e7b3fd8bfdcdc344d656b175fea7a4}
\hypertarget{libfdt_8h_a78e10eee50246373982077fccfc29269}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}}
\index{fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-set\-\_\-hdr\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}fdt\-\_\-set\-\_\-hdr\-\_\- (
\begin{DoxyParamCaption}
\item[{last\-\_\-comp\-\_\-version}]{}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a78e10eee50246373982077fccfc29269}
\hypertarget{libfdt_8h_a5b914e7b3f7f80b7a97f9d0e333fd5d5}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}}
\index{fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-set\-\_\-hdr\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}fdt\-\_\-set\-\_\-hdr\-\_\- (
\begin{DoxyParamCaption}
\item[{boot\-\_\-cpuid\-\_\-phys}]{}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a5b914e7b3f7f80b7a97f9d0e333fd5d5}
\hypertarget{libfdt_8h_ac9909d9590e8708493af4df464c2898c}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}}
\index{fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-set\-\_\-hdr\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}fdt\-\_\-set\-\_\-hdr\-\_\- (
\begin{DoxyParamCaption}
\item[{size\-\_\-dt\-\_\-strings}]{}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ac9909d9590e8708493af4df464c2898c}
\hypertarget{libfdt_8h_a5236d6ad13cb5794511b68cf726cb0d4}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}}
\index{fdt\-\_\-set\-\_\-hdr\-\_\-@{fdt\-\_\-set\-\_\-hdr\-\_\-}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-set\-\_\-hdr\-\_\-}]{\setlength{\rightskip}{0pt plus 5cm}fdt\-\_\-set\-\_\-hdr\-\_\- (
\begin{DoxyParamCaption}
\item[{size\-\_\-dt\-\_\-struct}]{}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a5236d6ad13cb5794511b68cf726cb0d4}
\hypertarget{libfdt_8h_ada21790bc118086b5bfadd815379ecd9}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-set\-\_\-name@{fdt\-\_\-set\-\_\-name}}
\index{fdt\-\_\-set\-\_\-name@{fdt\-\_\-set\-\_\-name}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-set\-\_\-name}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-set\-\_\-name (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ada21790bc118086b5bfadd815379ecd9}


References fdt\-\_\-get\-\_\-name(), F\-D\-T\-\_\-\-R\-W\-\_\-\-P\-R\-O\-B\-E, fdt\-\_\-splice\-\_\-struct\-\_\-(), F\-D\-T\-\_\-\-T\-A\-G\-A\-L\-I\-G\-N, memcpy(), and strlen().


\begin{DoxyCode}
236 \{
237     \textcolor{keywordtype}{char} *namep;
238     \textcolor{keywordtype}{int} oldlen, newlen;
239     \textcolor{keywordtype}{int} err;
240 
241     \hyperlink{fdt__rw_8c_a8a087a089359a4a7a0ac78608ab6b2b9}{FDT\_RW\_PROBE}(fdt);
242 
243     namep = (\textcolor{keywordtype}{char} *)(\hyperlink{libfdt__env_8h_a83242de74310b4aec3fc506bc3644211}{uintptr\_t})\hyperlink{fdt__ro_8c_a22a72941a288c00c88c36164fdc793c0}{fdt\_get\_name}(fdt, nodeoffset, &oldlen);
244     \textcolor{keywordflow}{if} (!namep)
245         \textcolor{keywordflow}{return} oldlen;
246 
247     newlen = \hyperlink{cstd_8c_a54684bded3e61e2d78d490650f9b706a}{strlen}(name);
248 
249     err = \hyperlink{fdt__rw_8c_a81016864afd7abbca6d2f35389f6809f}{fdt\_splice\_struct\_}(fdt, namep, \hyperlink{libfdt__internal_8h_a8955518b67338925d939fe2389b41796}{FDT\_TAGALIGN}(oldlen+1),
250                  \hyperlink{libfdt__internal_8h_a8955518b67338925d939fe2389b41796}{FDT\_TAGALIGN}(newlen+1));
251     \textcolor{keywordflow}{if} (err)
252         \textcolor{keywordflow}{return} err;
253 
254     \hyperlink{cstd_8c_a40deeb5b928964e60d97b3b8fd8a9b33}{memcpy}(namep, name, newlen+1);
255     \textcolor{keywordflow}{return} 0;
256 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ae9e3e4d33edd50404838414b8f36d158}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-setprop@{fdt\-\_\-setprop}}
\index{fdt\-\_\-setprop@{fdt\-\_\-setprop}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-setprop}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-setprop (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{const void $\ast$}]{val, }
\item[{int}]{len}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ae9e3e4d33edd50404838414b8f36d158}


References fdt\-\_\-setprop\-\_\-placeholder(), and memcpy().



Referenced by fdt\-\_\-setprop\-\_\-u32(), fdt\-\_\-setprop\-\_\-u64(), and overlay\-\_\-apply\-\_\-node().


\begin{DoxyCode}
278 \{
279     \textcolor{keywordtype}{void} *prop\_data;
280     \textcolor{keywordtype}{int} err;
281 
282     err = \hyperlink{fdt__rw_8c_a77ab6d302e50d04e373b0371ac56cc9a}{fdt\_setprop\_placeholder}(fdt, nodeoffset, name, 
      \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len}, &prop\_data);
283     \textcolor{keywordflow}{if} (err)
284         \textcolor{keywordflow}{return} err;
285 
286     \textcolor{keywordflow}{if} (\hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len})
287         \hyperlink{cstd_8c_a40deeb5b928964e60d97b3b8fd8a9b33}{memcpy}(prop\_data, val, \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len});
288     \textcolor{keywordflow}{return} 0;
289 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a2e1f923bfc1fc1be9604d526fcdabfbe}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-setprop\-\_\-cell@{fdt\-\_\-setprop\-\_\-cell}}
\index{fdt\-\_\-setprop\-\_\-cell@{fdt\-\_\-setprop\-\_\-cell}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-setprop\-\_\-cell}]{\setlength{\rightskip}{0pt plus 5cm}static int fdt\-\_\-setprop\-\_\-cell (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{{\bf uint32\-\_\-t}}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_a2e1f923bfc1fc1be9604d526fcdabfbe}


References fdt\-\_\-setprop\-\_\-u32().


\begin{DoxyCode}
1807 \{
1808     \textcolor{keywordflow}{return} \hyperlink{libfdt_8h_a47a74244b419ad1a3f6586c3b86a013c}{fdt\_setprop\_u32}(fdt, nodeoffset, name, val);
1809 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a6943ff251ae8c4ffea474788215965a1}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-setprop\-\_\-inplace@{fdt\-\_\-setprop\-\_\-inplace}}
\index{fdt\-\_\-setprop\-\_\-inplace@{fdt\-\_\-setprop\-\_\-inplace}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-setprop\-\_\-inplace}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-setprop\-\_\-inplace (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{const void $\ast$}]{val, }
\item[{int}]{len}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a6943ff251ae8c4ffea474788215965a1}


References F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, fdt\-\_\-getprop(), fdt\-\_\-setprop\-\_\-inplace\-\_\-namelen\-\_\-partial(), and strlen().



Referenced by fdt\-\_\-setprop\-\_\-inplace\-\_\-u32(), and fdt\-\_\-setprop\-\_\-inplace\-\_\-u64().


\begin{DoxyCode}
35 \{
36     \textcolor{keyword}{const} \textcolor{keywordtype}{void} *propval;
37     \textcolor{keywordtype}{int} proplen;
38 
39     propval = \hyperlink{fdt__ro_8c_a0a72997fe1eb5a57885bbb988256d08f}{fdt\_getprop}(fdt, nodeoffset, name, &proplen);
40     \textcolor{keywordflow}{if} (!propval)
41         \textcolor{keywordflow}{return} proplen;
42 
43     \textcolor{keywordflow}{if} (proplen != \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len})
44         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
45 
46     \textcolor{keywordflow}{return} \hyperlink{fdt__wip_8c_ad2d3b0ed8c78b7ca920550656dca6cf9}{fdt\_setprop\_inplace\_namelen\_partial}(fdt, nodeoffset, name,
47                            \hyperlink{cstd_8c_a54684bded3e61e2d78d490650f9b706a}{strlen}(name), 0,
48                            val, \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len});
49 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a39b5ae524f587a5b8296d46f6595845e}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-setprop\-\_\-inplace\-\_\-cell@{fdt\-\_\-setprop\-\_\-inplace\-\_\-cell}}
\index{fdt\-\_\-setprop\-\_\-inplace\-\_\-cell@{fdt\-\_\-setprop\-\_\-inplace\-\_\-cell}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-setprop\-\_\-inplace\-\_\-cell}]{\setlength{\rightskip}{0pt plus 5cm}static int fdt\-\_\-setprop\-\_\-inplace\-\_\-cell (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{{\bf uint32\-\_\-t}}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_a39b5ae524f587a5b8296d46f6595845e}


References fdt\-\_\-setprop\-\_\-inplace\-\_\-u32().


\begin{DoxyCode}
1439 \{
1440     \textcolor{keywordflow}{return} \hyperlink{libfdt_8h_aa0ff5bdd0d38a77ffe25261c971d29a3}{fdt\_setprop\_inplace\_u32}(fdt, nodeoffset, name, val);
1441 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_ad2d3b0ed8c78b7ca920550656dca6cf9}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-setprop\-\_\-inplace\-\_\-namelen\-\_\-partial@{fdt\-\_\-setprop\-\_\-inplace\-\_\-namelen\-\_\-partial}}
\index{fdt\-\_\-setprop\-\_\-inplace\-\_\-namelen\-\_\-partial@{fdt\-\_\-setprop\-\_\-inplace\-\_\-namelen\-\_\-partial}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-setprop\-\_\-inplace\-\_\-namelen\-\_\-partial}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-setprop\-\_\-inplace\-\_\-namelen\-\_\-partial (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{int}]{namelen, }
\item[{{\bf uint32\-\_\-t}}]{idx, }
\item[{const void $\ast$}]{val, }
\item[{int}]{len}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_ad2d3b0ed8c78b7ca920550656dca6cf9}


References F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-S\-P\-A\-C\-E, fdt\-\_\-getprop\-\_\-namelen\-\_\-w(), and memcpy().



Referenced by fdt\-\_\-setprop\-\_\-inplace(), overlay\-\_\-fixup\-\_\-one\-\_\-phandle(), and overlay\-\_\-update\-\_\-local\-\_\-node\-\_\-references().


\begin{DoxyCode}
17 \{
18     \textcolor{keywordtype}{void} *propval;
19     \textcolor{keywordtype}{int} proplen;
20 
21     propval = \hyperlink{libfdt_8h_a2d633fbf4ecff743e2a869a80e330ed6}{fdt\_getprop\_namelen\_w}(fdt, nodeoffset, name, namelen,
22                     &proplen);
23     \textcolor{keywordflow}{if} (!propval)
24         \textcolor{keywordflow}{return} proplen;
25 
26     \textcolor{keywordflow}{if} ((\textcolor{keywordtype}{unsigned})proplen < (\hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len} + idx))
27         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a149fb54f14ba915a78319a9570e4eae3}{FDT\_ERR\_NOSPACE};
28 
29     \hyperlink{cstd_8c_a40deeb5b928964e60d97b3b8fd8a9b33}{memcpy}((\textcolor{keywordtype}{char} *)propval + idx, val, \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len});
30     \textcolor{keywordflow}{return} 0;
31 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_aa0ff5bdd0d38a77ffe25261c971d29a3}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-setprop\-\_\-inplace\-\_\-u32@{fdt\-\_\-setprop\-\_\-inplace\-\_\-u32}}
\index{fdt\-\_\-setprop\-\_\-inplace\-\_\-u32@{fdt\-\_\-setprop\-\_\-inplace\-\_\-u32}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-setprop\-\_\-inplace\-\_\-u32}]{\setlength{\rightskip}{0pt plus 5cm}static int fdt\-\_\-setprop\-\_\-inplace\-\_\-u32 (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{{\bf uint32\-\_\-t}}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_aa0ff5bdd0d38a77ffe25261c971d29a3}


References cpu\-\_\-to\-\_\-fdt32(), and fdt\-\_\-setprop\-\_\-inplace().



Referenced by fdt\-\_\-setprop\-\_\-inplace\-\_\-cell(), and overlay\-\_\-phandle\-\_\-add\-\_\-offset().


\begin{DoxyCode}
1387 \{
1388     \hyperlink{libfdt__env_8h_a76887ac8786252752fb3f9a39b21f3af}{fdt32\_t} tmp = \hyperlink{libfdt__env_8h_a06ce41f441b8a56710000af3c3e516e5}{cpu\_to\_fdt32}(val);
1389     \textcolor{keywordflow}{return} \hyperlink{fdt__wip_8c_a6943ff251ae8c4ffea474788215965a1}{fdt\_setprop\_inplace}(fdt, nodeoffset, name, &tmp, \textcolor{keyword}{sizeof}(tmp));
1390 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_abae04fd5a0fd061f0717ce1671e79698}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-setprop\-\_\-inplace\-\_\-u64@{fdt\-\_\-setprop\-\_\-inplace\-\_\-u64}}
\index{fdt\-\_\-setprop\-\_\-inplace\-\_\-u64@{fdt\-\_\-setprop\-\_\-inplace\-\_\-u64}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-setprop\-\_\-inplace\-\_\-u64}]{\setlength{\rightskip}{0pt plus 5cm}static int fdt\-\_\-setprop\-\_\-inplace\-\_\-u64 (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{{\bf uint64\-\_\-t}}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_abae04fd5a0fd061f0717ce1671e79698}


References cpu\-\_\-to\-\_\-fdt64(), and fdt\-\_\-setprop\-\_\-inplace().


\begin{DoxyCode}
1422 \{
1423     \hyperlink{libfdt__env_8h_ace50a73711239df43c98cc1d5fedd1f8}{fdt64\_t} tmp = \hyperlink{libfdt__env_8h_a516d5270419a4000d9617b3df5e6f665}{cpu\_to\_fdt64}(val);
1424     \textcolor{keywordflow}{return} \hyperlink{fdt__wip_8c_a6943ff251ae8c4ffea474788215965a1}{fdt\_setprop\_inplace}(fdt, nodeoffset, name, &tmp, \textcolor{keyword}{sizeof}(tmp));
1425 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a77ab6d302e50d04e373b0371ac56cc9a}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-setprop\-\_\-placeholder@{fdt\-\_\-setprop\-\_\-placeholder}}
\index{fdt\-\_\-setprop\-\_\-placeholder@{fdt\-\_\-setprop\-\_\-placeholder}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-setprop\-\_\-placeholder}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-setprop\-\_\-placeholder (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{int}]{len, }
\item[{void $\ast$$\ast$}]{prop\-\_\-data}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a77ab6d302e50d04e373b0371ac56cc9a}


References fdt\-\_\-property\-::data, fdt\-\_\-add\-\_\-property\-\_\-(), F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, fdt\-\_\-resize\-\_\-property\-\_\-(), and F\-D\-T\-\_\-\-R\-W\-\_\-\-P\-R\-O\-B\-E.



Referenced by fdt\-\_\-setprop(), and overlay\-\_\-symbol\-\_\-update().


\begin{DoxyCode}
260 \{
261     \textcolor{keyword}{struct }\hyperlink{structfdt__property}{fdt\_property} *prop;
262     \textcolor{keywordtype}{int} err;
263 
264     \hyperlink{fdt__rw_8c_a8a087a089359a4a7a0ac78608ab6b2b9}{FDT\_RW\_PROBE}(fdt);
265 
266     err = \hyperlink{fdt__rw_8c_ac1fc2d2442da3be56670b70354149abb}{fdt\_resize\_property\_}(fdt, nodeoffset, name, \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len}, &prop);
267     \textcolor{keywordflow}{if} (err == -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND})
268         err = \hyperlink{fdt__rw_8c_a56be49519a7a62e6da99ed9e7b8ee9f9}{fdt\_add\_property\_}(fdt, nodeoffset, name, \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len}, &prop);
269     \textcolor{keywordflow}{if} (err)
270         \textcolor{keywordflow}{return} err;
271 
272     *prop\_data = prop->\hyperlink{structfdt__property_abb52f21622f86ed9b268f49b76f23aef}{data};
273     \textcolor{keywordflow}{return} 0;
274 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a47a74244b419ad1a3f6586c3b86a013c}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-setprop\-\_\-u32@{fdt\-\_\-setprop\-\_\-u32}}
\index{fdt\-\_\-setprop\-\_\-u32@{fdt\-\_\-setprop\-\_\-u32}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-setprop\-\_\-u32}]{\setlength{\rightskip}{0pt plus 5cm}static int fdt\-\_\-setprop\-\_\-u32 (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{{\bf uint32\-\_\-t}}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_a47a74244b419ad1a3f6586c3b86a013c}


References cpu\-\_\-to\-\_\-fdt32(), and fdt\-\_\-setprop().



Referenced by fdt\-\_\-setprop\-\_\-cell().


\begin{DoxyCode}
1754 \{
1755     \hyperlink{libfdt__env_8h_a76887ac8786252752fb3f9a39b21f3af}{fdt32\_t} tmp = \hyperlink{libfdt__env_8h_a06ce41f441b8a56710000af3c3e516e5}{cpu\_to\_fdt32}(val);
1756     \textcolor{keywordflow}{return} \hyperlink{fdt__rw_8c_ae9e3e4d33edd50404838414b8f36d158}{fdt\_setprop}(fdt, nodeoffset, name, &tmp, \textcolor{keyword}{sizeof}(tmp));
1757 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a5cdff5ee217d23aee2cfade78050d82c}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-setprop\-\_\-u64@{fdt\-\_\-setprop\-\_\-u64}}
\index{fdt\-\_\-setprop\-\_\-u64@{fdt\-\_\-setprop\-\_\-u64}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-setprop\-\_\-u64}]{\setlength{\rightskip}{0pt plus 5cm}static int fdt\-\_\-setprop\-\_\-u64 (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{name, }
\item[{{\bf uint64\-\_\-t}}]{val}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [static]}}}\label{libfdt_8h_a5cdff5ee217d23aee2cfade78050d82c}


References cpu\-\_\-to\-\_\-fdt64(), and fdt\-\_\-setprop().


\begin{DoxyCode}
1789 \{
1790     \hyperlink{libfdt__env_8h_ace50a73711239df43c98cc1d5fedd1f8}{fdt64\_t} tmp = \hyperlink{libfdt__env_8h_a516d5270419a4000d9617b3df5e6f665}{cpu\_to\_fdt64}(val);
1791     \textcolor{keywordflow}{return} \hyperlink{fdt__rw_8c_ae9e3e4d33edd50404838414b8f36d158}{fdt\_setprop}(fdt, nodeoffset, name, &tmp, \textcolor{keyword}{sizeof}(tmp));
1792 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a314966b6182211c6d38cc90748c3234b}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-size\-\_\-cells@{fdt\-\_\-size\-\_\-cells}}
\index{fdt\-\_\-size\-\_\-cells@{fdt\-\_\-size\-\_\-cells}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-size\-\_\-cells}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-size\-\_\-cells (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a314966b6182211c6d38cc90748c3234b}
fdt\-\_\-size\-\_\-cells -\/ retrieve address range size for a bus represented in the tree \-: pointer to the device tree blob \-: offset of the node to find the address range size for

When the node has a valid \#size-\/cells property, returns its value.

returns\-: 0 $<$= n $<$ F\-D\-T\-\_\-\-M\-A\-X\-\_\-\-N\-C\-E\-L\-L\-S, on success 1, if the node has no \#size-\/cells property -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-N\-C\-E\-L\-L\-S, if the node has a badly formatted or invalid \#size-\/cells property -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-T\-R\-U\-N\-C\-A\-T\-E\-D, standard meanings 

References fdt\-\_\-cells(), and F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D.



Referenced by fdt\-\_\-appendprop\-\_\-addrrange().


\begin{DoxyCode}
47 \{
48     \textcolor{keywordtype}{int} val;
49 
50     val = \hyperlink{fdt__addresses_8c_ab53e36aeec213b1a0acee1363e4e8795}{fdt\_cells}(fdt, nodeoffset, \textcolor{stringliteral}{"#size-cells"});
51     \textcolor{keywordflow}{if} (val == -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND})
52         \textcolor{keywordflow}{return} 1;
53     \textcolor{keywordflow}{return} val;
54 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a50813a1a70923f23f61c5b617bc6ed68}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-strerror@{fdt\-\_\-strerror}}
\index{fdt\-\_\-strerror@{fdt\-\_\-strerror}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-strerror}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ fdt\-\_\-strerror (
\begin{DoxyParamCaption}
\item[{int}]{errval}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a50813a1a70923f23f61c5b617bc6ed68}


References F\-D\-T\-\_\-\-E\-R\-R\-T\-A\-B\-S\-I\-Z\-E, and fdt\-\_\-errtabent\-::str.


\begin{DoxyCode}
47 \{
48     \textcolor{keywordflow}{if} (errval > 0)
49         \textcolor{keywordflow}{return} \textcolor{stringliteral}{"<valid offset/length>"};
50     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (errval == 0)
51         \textcolor{keywordflow}{return} \textcolor{stringliteral}{"<no error>"};
52     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (-errval < \hyperlink{fdt__strerror_8c_a7e7f43c63239076791b75a67ac410f40}{FDT\_ERRTABSIZE}) \{
53         \textcolor{keyword}{const} \textcolor{keywordtype}{char} *s = \hyperlink{fdt__strerror_8c_a4b402a1119d89ae71122e25fa739de79}{fdt\_errtable}[-errval].\hyperlink{structfdt__errtabent_afb5741d1d343729e8d9025a7cc129315}{str};
54 
55         \textcolor{keywordflow}{if} (s)
56             \textcolor{keywordflow}{return} s;
57     \}
58 
59     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"<unknown error>"};
60 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a5ccdba67e9d56872ef16dcbd405da94a}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-string@{fdt\-\_\-string}}
\index{fdt\-\_\-string@{fdt\-\_\-string}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-string}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ fdt\-\_\-string (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{stroffset}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a5ccdba67e9d56872ef16dcbd405da94a}
fdt\-\_\-string -\/ retrieve a string from the strings block of a device tree \-: pointer to the device tree blob \-: offset of the string within the strings block (native endian)

\hyperlink{fdt__ro_8c_a5ccdba67e9d56872ef16dcbd405da94a}{fdt\-\_\-string()} retrieves a pointer to a single string from the strings block of the device tree blob at fdt.

returns\-: a pointer to the string, on success N\-U\-L\-L, if stroffset is out of bounds, or doesn't point to a valid string 

References fdt\-\_\-get\-\_\-string(), and N\-U\-L\-L.



Referenced by fdt\-\_\-getprop\-\_\-by\-\_\-offset().


\begin{DoxyCode}
101 \{
102     \textcolor{keywordflow}{return} \hyperlink{fdt__ro_8c_a394c6c241f569f12b5b1f350dfb745ea}{fdt\_get\_string}(fdt, stroffset, \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL});
103 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a2492648af0491398295fac892cb8b758}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-stringlist\-\_\-contains@{fdt\-\_\-stringlist\-\_\-contains}}
\index{fdt\-\_\-stringlist\-\_\-contains@{fdt\-\_\-stringlist\-\_\-contains}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-stringlist\-\_\-contains}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-stringlist\-\_\-contains (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{strlist, }
\item[{int}]{listlen, }
\item[{const char $\ast$}]{str}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a2492648af0491398295fac892cb8b758}
fdt\-\_\-stringlist\-\_\-contains -\/ check a string list property for a string \-: Property containing a list of strings to check \-: Length of property \-: String to search for

This is a utility function provided for convenience. The list contains one or more strings, each terminated by \textbackslash{}0, as is found in a device tree \char`\"{}compatible\char`\"{} property.

Return\-: 1 if the string is found in the list, 0 not found, or invalid list 

References fdt\-\_\-property\-::len, memchr(), memcmp(), and strlen().



Referenced by fdt\-\_\-node\-\_\-check\-\_\-compatible().


\begin{DoxyCode}
724 \{
725     \textcolor{keywordtype}{int} \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len} = \hyperlink{cstd_8c_a54684bded3e61e2d78d490650f9b706a}{strlen}(str);
726     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *p;
727 
728     \textcolor{keywordflow}{while} (listlen >= len) \{
729         \textcolor{keywordflow}{if} (\hyperlink{cstd_8c_ace6c4869ab3af01c6f27eac47773917a}{memcmp}(str, strlist, len+1) == 0)
730             \textcolor{keywordflow}{return} 1;
731         p = \hyperlink{cstd_8c_a7a1a96cef371f847b925fb1478e04080}{memchr}(strlist, \textcolor{charliteral}{'\(\backslash\)0'}, listlen);
732         \textcolor{keywordflow}{if} (!p)
733             \textcolor{keywordflow}{return} 0; \textcolor{comment}{/* malformed strlist.. */}
734         listlen -= (p-strlist) + 1;
735         strlist = p + 1;
736     \}
737     \textcolor{keywordflow}{return} 0;
738 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a9d33c2ffed049f4f1c60ffef7b66fba4}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-stringlist\-\_\-count@{fdt\-\_\-stringlist\-\_\-count}}
\index{fdt\-\_\-stringlist\-\_\-count@{fdt\-\_\-stringlist\-\_\-count}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-stringlist\-\_\-count}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-stringlist\-\_\-count (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{property}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a9d33c2ffed049f4f1c60ffef7b66fba4}


References F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-A\-L\-U\-E, fdt\-\_\-getprop(), and strnlen().


\begin{DoxyCode}
741 \{
742     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *list, *end;
743     \textcolor{keywordtype}{int} length, count = 0;
744 
745     list = \hyperlink{fdt__ro_8c_a0a72997fe1eb5a57885bbb988256d08f}{fdt\_getprop}(fdt, nodeoffset, property, &length);
746     \textcolor{keywordflow}{if} (!list)
747         \textcolor{keywordflow}{return} length;
748 
749     end = list + length;
750 
751     \textcolor{keywordflow}{while} (list < end) \{
752         length = \hyperlink{cstd_8c_a7bd978e4981a80586c5b3a0dac22f0f2}{strnlen}(list, end - list) + 1;
753 
754         \textcolor{comment}{/* Abort if the last string isn't properly NUL-terminated. */}
755         \textcolor{keywordflow}{if} (list + length > end)
756             \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a69e818556330b83a02de930b95216aa9}{FDT\_ERR\_BADVALUE};
757 
758         list += length;
759         count++;
760     \}
761 
762     \textcolor{keywordflow}{return} count;
763 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a8b3166c9a8a7248f7e6fe383a80f2488}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-stringlist\-\_\-get@{fdt\-\_\-stringlist\-\_\-get}}
\index{fdt\-\_\-stringlist\-\_\-get@{fdt\-\_\-stringlist\-\_\-get}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-stringlist\-\_\-get}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ fdt\-\_\-stringlist\-\_\-get (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{property, }
\item[{int}]{index, }
\item[{int $\ast$}]{lenp}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a8b3166c9a8a7248f7e6fe383a80f2488}


References F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-A\-L\-U\-E, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, fdt\-\_\-getprop(), N\-U\-L\-L, and strnlen().


\begin{DoxyCode}
798 \{
799     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *list, *end;
800     \textcolor{keywordtype}{int} length;
801 
802     list = \hyperlink{fdt__ro_8c_a0a72997fe1eb5a57885bbb988256d08f}{fdt\_getprop}(fdt, nodeoffset, property, &length);
803     \textcolor{keywordflow}{if} (!list) \{
804         \textcolor{keywordflow}{if} (lenp)
805             *lenp = length;
806 
807         \textcolor{keywordflow}{return} \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
808     \}
809 
810     end = list + length;
811 
812     \textcolor{keywordflow}{while} (list < end) \{
813         length = \hyperlink{cstd_8c_a7bd978e4981a80586c5b3a0dac22f0f2}{strnlen}(list, end - list) + 1;
814 
815         \textcolor{comment}{/* Abort if the last string isn't properly NUL-terminated. */}
816         \textcolor{keywordflow}{if} (list + length > end) \{
817             \textcolor{keywordflow}{if} (lenp)
818                 *lenp = -\hyperlink{libfdt_8h_a69e818556330b83a02de930b95216aa9}{FDT\_ERR\_BADVALUE};
819 
820             \textcolor{keywordflow}{return} \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
821         \}
822 
823         \textcolor{keywordflow}{if} (idx == 0) \{
824             \textcolor{keywordflow}{if} (lenp)
825                 *lenp = length - 1;
826 
827             \textcolor{keywordflow}{return} list;
828         \}
829 
830         list += length;
831         idx--;
832     \}
833 
834     \textcolor{keywordflow}{if} (lenp)
835         *lenp = -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND};
836 
837     \textcolor{keywordflow}{return} \hyperlink{kfs_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{NULL};
838 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a13feaf7df3d4cc7d7927d78af31dba3e}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-stringlist\-\_\-search@{fdt\-\_\-stringlist\-\_\-search}}
\index{fdt\-\_\-stringlist\-\_\-search@{fdt\-\_\-stringlist\-\_\-search}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-stringlist\-\_\-search}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-stringlist\-\_\-search (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{const char $\ast$}]{property, }
\item[{const char $\ast$}]{string}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a13feaf7df3d4cc7d7927d78af31dba3e}


References F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-A\-L\-U\-E, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, fdt\-\_\-getprop(), fdt\-\_\-property\-::len, memcmp(), strlen(), and strnlen().


\begin{DoxyCode}
767 \{
768     \textcolor{keywordtype}{int} length, \hyperlink{structfdt__property_a48e6236319453578c3ca7c106b382a2f}{len}, idx = 0;
769     \textcolor{keyword}{const} \textcolor{keywordtype}{char} *list, *end;
770 
771     list = \hyperlink{fdt__ro_8c_a0a72997fe1eb5a57885bbb988256d08f}{fdt\_getprop}(fdt, nodeoffset, property, &length);
772     \textcolor{keywordflow}{if} (!list)
773         \textcolor{keywordflow}{return} length;
774 
775     len = \hyperlink{cstd_8c_a54684bded3e61e2d78d490650f9b706a}{strlen}(\textcolor{keywordtype}{string}) + 1;
776     end = list + length;
777 
778     \textcolor{keywordflow}{while} (list < end) \{
779         length = \hyperlink{cstd_8c_a7bd978e4981a80586c5b3a0dac22f0f2}{strnlen}(list, end - list) + 1;
780 
781         \textcolor{comment}{/* Abort if the last string isn't properly NUL-terminated. */}
782         \textcolor{keywordflow}{if} (list + length > end)
783             \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a69e818556330b83a02de930b95216aa9}{FDT\_ERR\_BADVALUE};
784 
785         \textcolor{keywordflow}{if} (length == len && \hyperlink{cstd_8c_ace6c4869ab3af01c6f27eac47773917a}{memcmp}(list, \textcolor{keywordtype}{string}, length) == 0)
786             \textcolor{keywordflow}{return} idx;
787 
788         list += length;
789         idx++;
790     \}
791 
792     \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND};
793 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a22dd90f8bea25063fe0debae7683eb02}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-subnode\-\_\-offset@{fdt\-\_\-subnode\-\_\-offset}}
\index{fdt\-\_\-subnode\-\_\-offset@{fdt\-\_\-subnode\-\_\-offset}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-subnode\-\_\-offset}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-subnode\-\_\-offset (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{parentoffset, }
\item[{const char $\ast$}]{name}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a22dd90f8bea25063fe0debae7683eb02}


References fdt\-\_\-subnode\-\_\-offset\-\_\-namelen(), and strlen().



Referenced by overlay\-\_\-apply\-\_\-node(), overlay\-\_\-merge(), overlay\-\_\-symbol\-\_\-update(), and overlay\-\_\-update\-\_\-local\-\_\-node\-\_\-references().


\begin{DoxyCode}
246 \{
247     \textcolor{keywordflow}{return} \hyperlink{fdt__ro_8c_a515ddadab660b50e9d31c05c74f7d351}{fdt\_subnode\_offset\_namelen}(fdt, parentoffset, name, 
      \hyperlink{cstd_8c_a54684bded3e61e2d78d490650f9b706a}{strlen}(name));
248 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a92756de14074ac915bd5b1056453e04c}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-subnode\-\_\-offset\-\_\-namelen@{fdt\-\_\-subnode\-\_\-offset\-\_\-namelen}}
\index{fdt\-\_\-subnode\-\_\-offset\-\_\-namelen@{fdt\-\_\-subnode\-\_\-offset\-\_\-namelen}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-subnode\-\_\-offset\-\_\-namelen}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-subnode\-\_\-offset\-\_\-namelen (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{parentoffset, }
\item[{const char $\ast$}]{name, }
\item[{int}]{namelen}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a92756de14074ac915bd5b1056453e04c}


References F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, fdt\-\_\-next\-\_\-node(), fdt\-\_\-nodename\-\_\-eq\-\_\-(), and F\-D\-T\-\_\-\-R\-O\-\_\-\-P\-R\-O\-B\-E.



Referenced by fdt\-\_\-add\-\_\-subnode\-\_\-namelen(), fdt\-\_\-path\-\_\-offset\-\_\-namelen(), fdt\-\_\-subnode\-\_\-offset(), and overlay\-\_\-symbol\-\_\-update().


\begin{DoxyCode}
227 \{
228     \textcolor{keywordtype}{int} depth;
229 
230     \hyperlink{libfdt__internal_8h_ad6927f926180469d5c044ec5d3b2f84b}{FDT\_RO\_PROBE}(fdt);
231 
232     \textcolor{keywordflow}{for} (depth = 0;
233          (offset >= 0) && (depth >= 0);
234          offset = \hyperlink{fdt_8c_a6603ac8041afcc7fde5c0b25de765103}{fdt\_next\_node}(fdt, offset, &depth))
235         \textcolor{keywordflow}{if} ((depth == 1)
236             && \hyperlink{fdt__ro_8c_a2d417f67da75b1ebf2871428d952cf8f}{fdt\_nodename\_eq\_}(fdt, offset, name, namelen))
237             \textcolor{keywordflow}{return} offset;
238 
239     \textcolor{keywordflow}{if} (depth < 0)
240         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND};
241     \textcolor{keywordflow}{return} offset; \textcolor{comment}{/* error */}
242 \}
\end{DoxyCode}
\hypertarget{libfdt_8h_a6c960d975c6644172ccc71fc2c48dbb4}{\index{libfdt.\-h@{libfdt.\-h}!fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset@{fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset}}
\index{fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset@{fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset}!libfdt.h@{libfdt.\-h}}
\subsubsection[{fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset}]{\setlength{\rightskip}{0pt plus 5cm}int fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset (
\begin{DoxyParamCaption}
\item[{const void $\ast$}]{fdt, }
\item[{int}]{nodeoffset, }
\item[{int}]{supernodedepth, }
\item[{int $\ast$}]{nodedepth}
\end{DoxyParamCaption}
)}}\label{libfdt_8h_a6c960d975c6644172ccc71fc2c48dbb4}
fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset -\/ find a specific ancestor of a node \-: pointer to the device tree blob \-: offset of the node whose parent to find \-: depth of the ancestor to find \-: pointer to an integer variable (will be overwritten) or N\-U\-L\-L

\hyperlink{fdt__ro_8c_a6c960d975c6644172ccc71fc2c48dbb4}{fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset()} finds an ancestor of the given node at a specific depth from the root (where the root itself has depth 0, its immediate subnodes depth 1 and so forth). So fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset(fdt, nodeoffset, 0, N\-U\-L\-L); will always return 0, the offset of the root node. If the node at nodeoffset has depth D, then\-: fdt\-\_\-supernode\-\_\-atdepth\-\_\-offset(fdt, nodeoffset, D, N\-U\-L\-L); will return nodeoffset itself.

N\-O\-T\-E\-: This function is expensive, as it must scan the device tree structure from the start to nodeoffset.

returns\-: structure block offset of the node at node offset's ancestor of depth supernodedepth ($>$=0), on success -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, nodeoffset does not refer to a B\-E\-G\-I\-N\-\_\-\-N\-O\-D\-E tag -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, supernodedepth was greater than the depth of nodeoffset -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-M\-A\-G\-I\-C, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-V\-E\-R\-S\-I\-O\-N, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-A\-T\-E, -\/\-F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, standard meanings 

References can\-\_\-assume, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-O\-F\-F\-S\-E\-T, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-B\-A\-D\-S\-T\-R\-U\-C\-T\-U\-R\-E, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-I\-N\-T\-E\-R\-N\-A\-L, F\-D\-T\-\_\-\-E\-R\-R\-\_\-\-N\-O\-T\-F\-O\-U\-N\-D, fdt\-\_\-next\-\_\-node(), and F\-D\-T\-\_\-\-R\-O\-\_\-\-P\-R\-O\-B\-E.



Referenced by fdt\-\_\-node\-\_\-depth(), and fdt\-\_\-parent\-\_\-offset().


\begin{DoxyCode}
613 \{
614     \textcolor{keywordtype}{int} offset, depth;
615     \textcolor{keywordtype}{int} supernodeoffset = -\hyperlink{libfdt_8h_a02625761a47e8012c53fb389dd25fadd}{FDT\_ERR\_INTERNAL};
616 
617     \hyperlink{libfdt__internal_8h_ad6927f926180469d5c044ec5d3b2f84b}{FDT\_RO\_PROBE}(fdt);
618 
619     \textcolor{keywordflow}{if} (supernodedepth < 0)
620         \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND};
621 
622     \textcolor{keywordflow}{for} (offset = 0, depth = 0;
623          (offset >= 0) && (offset <= nodeoffset);
624          offset = \hyperlink{fdt_8c_a6603ac8041afcc7fde5c0b25de765103}{fdt\_next\_node}(fdt, offset, &depth)) \{
625         \textcolor{keywordflow}{if} (depth == supernodedepth)
626             supernodeoffset = offset;
627 
628         \textcolor{keywordflow}{if} (offset == nodeoffset) \{
629             \textcolor{keywordflow}{if} (nodedepth)
630                 *nodedepth = depth;
631 
632             \textcolor{keywordflow}{if} (supernodedepth > depth)
633                 \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND};
634             \textcolor{keywordflow}{else}
635                 \textcolor{keywordflow}{return} supernodeoffset;
636         \}
637     \}
638 
639     \textcolor{keywordflow}{if} (!\hyperlink{libfdt__internal_8h_ae26d08ffdd441f73ecf7de7ca35176b9}{can\_assume}(VALID\_INPUT)) \{
640         \textcolor{keywordflow}{if} ((offset == -\hyperlink{libfdt_8h_a93cfa052f4b28df4bfc7d336b692fa07}{FDT\_ERR\_NOTFOUND}) || (offset >= 0))
641             \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_a5025b6b09a009bd2b516e6a831d7ce72}{FDT\_ERR\_BADOFFSET};
642         \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (offset == -\hyperlink{libfdt_8h_a5025b6b09a009bd2b516e6a831d7ce72}{FDT\_ERR\_BADOFFSET})
643             \textcolor{keywordflow}{return} -\hyperlink{libfdt_8h_aef7e5f2183c72ef2b4698bb918d8f2f7}{FDT\_ERR\_BADSTRUCTURE};
644     \}
645 
646     \textcolor{keywordflow}{return} offset; \textcolor{comment}{/* error from fdt\_next\_node() */}
647 \}
\end{DoxyCode}
