\hypertarget{mips_2threadc_8c}{\section{/users/enseig/franck/ko6/src/soft/hal/cpu/mips/threadc.c File Reference}
\label{mips_2threadc_8c}\index{/users/enseig/franck/ko6/src/soft/hal/cpu/mips/threadc.\-c@{/users/enseig/franck/ko6/src/soft/hal/cpu/mips/threadc.\-c}}
}
{\ttfamily \#include $<$hal/cpu/mips/context.\-h$>$}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{mips_2threadc_8c_af63f55ab4a65c97f8effe4ff21de0b1e}{thread\-\_\-context\-\_\-init} (int context\mbox{[}$\,$\mbox{]}, void $\ast$bootstrap, void $\ast$stack\-\_\-pointer)
\begin{DoxyCompactList}\small\item\em Initialize the thread context at the very beginning. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Function Documentation}
\hypertarget{mips_2threadc_8c_af63f55ab4a65c97f8effe4ff21de0b1e}{\index{mips/threadc.\-c@{mips/threadc.\-c}!thread\-\_\-context\-\_\-init@{thread\-\_\-context\-\_\-init}}
\index{thread\-\_\-context\-\_\-init@{thread\-\_\-context\-\_\-init}!mips/threadc.c@{mips/threadc.\-c}}
\subsubsection[{thread\-\_\-context\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}void thread\-\_\-context\-\_\-init (
\begin{DoxyParamCaption}
\item[{int}]{context\mbox{[}$\,$\mbox{]}, }
\item[{void $\ast$}]{bootstrap, }
\item[{void $\ast$}]{stack\-\_\-pointer}
\end{DoxyParamCaption}
)}}\label{mips_2threadc_8c_af63f55ab4a65c97f8effe4ff21de0b1e}


Initialize the thread context at the very beginning. 


\begin{DoxyParams}{Parameters}
{\em context} & thread\-\_\-context table \\
\hline
{\em bootstrap} & function without any argument, used just after the 1st thread\-\_\-context\-\_\-load \\
\hline
{\em stack\-\_\-pointer} & top stack pointer at the very beginning \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
side effect on the given thread context table 
\end{DoxyReturn}


Referenced by thread\-\_\-create().


\begin{DoxyCode}
20 \{
21     context[\hyperlink{mips_2context_8h_a82628b11b4b2d2529fb40f9b239ffffb}{TH\_CONTEXT\_SR}] = 0x413;                 \textcolor{comment}{// UM=1 EXL=1 IE=1}
22     context[\hyperlink{mips_2context_8h_a68ca4f685574d5124a207ed155304e72}{TH\_CONTEXT\_RA}] = (int)bootstrap;        \textcolor{comment}{// goto thread\_bootstrap}
23     context[\hyperlink{mips_2context_8h_a144a505c445f1e70afbf4ff0196bf330}{TH\_CONTEXT\_SP}] = (int)stack\_pointer;    \textcolor{comment}{// stack beginning }
24 \}
\end{DoxyCode}
