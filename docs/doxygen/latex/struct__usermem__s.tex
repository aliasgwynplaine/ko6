\hypertarget{struct__usermem__s}{\section{\-\_\-usermem\-\_\-s Struct Reference}
\label{struct__usermem__s}\index{\-\_\-usermem\-\_\-s@{\-\_\-usermem\-\_\-s}}
}


few data about user memory usage, stucture placed at the bottom of the .data region  




{\ttfamily \#include $<$usermem.\-h$>$}

\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
int $\ast$ \hyperlink{struct__usermem__s_a2fd1c0d0e8502f93210c3a30d3746d06}{ustack\-\_\-beg}
\begin{DoxyCompactList}\small\item\em highest address of the user stack segment \end{DoxyCompactList}\item 
int $\ast$ \hyperlink{struct__usermem__s_a2ff86fc41cdbe6063962b5be6aef49fc}{ustack\-\_\-end}
\begin{DoxyCompactList}\small\item\em lowest address of the user stack segment \end{DoxyCompactList}\item 
int $\ast$ \hyperlink{struct__usermem__s_afc2d87db58cb56804172f98d124d3c05}{uheap\-\_\-end}
\begin{DoxyCompactList}\small\item\em highest address of the user heap segment (also named brk) \end{DoxyCompactList}\item 
int $\ast$ \hyperlink{struct__usermem__s_a0ada31d8a3c5cd0a5d82fe3b0ea7bbe7}{uheap\-\_\-beg}
\begin{DoxyCompactList}\small\item\em lowest highest address of the user heap segment \end{DoxyCompactList}\item 
void($\ast$ \hyperlink{struct__usermem__s_aeb4637b2b234d4b2b4c3963bc580b993}{main\-\_\-start} )(void)
\begin{DoxyCompactList}\small\item\em pointer to the start of main thread (see \hyperlink{crt0_8c}{ulib/crt0.\-c}) \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{struct__usermem__s_a72dc8dd0f2611deaef667aa2f9dbeb9f}{main\-\_\-thread}
\begin{DoxyCompactList}\small\item\em address of the main thread (defined in \hyperlink{kinit_8c}{kernel/kinit.\-c}) \end{DoxyCompactList}\item 
struct \hyperlink{struct__tls__s}{\-\_\-tls\-\_\-s} $\ast$ \hyperlink{struct__usermem__s_a092a5f4499ea31a3da83e6716d959626}{ptls}
\begin{DoxyCompactList}\small\item\em pointer to the thread local storage of the current thread \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
few data about user memory usage, stucture placed at the bottom of the .data region 

+-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ $|$ tls of main $|$ $|$ -\/ -\/ -\/ -\/ -\/ -\/ $|$ $<$-\/ ustack\-\_\-begin points to the first address A\-B\-O\-V\-E the first user stack $|$ user stack $|$ The last word of each stack contains also a M\-A\-G\-I\-C number $|$ thread main $|$ in order to be able to know if the stack has overflowed +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ This check must be done sometimes because $|$ tls of th 1 $|$ there is not M\-M\-U to check it at each access $|$ -\/ -\/ -\/ -\/ -\/ -\/ $|$ $|$ user stack $|$ $|$ thread 1 $|$ +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ $<$-\/ ustack\-\_\-end points to the last cell of the last user stack $|$/////////////$|$ then ustack\-\_\-end points inside of the last stack $|$/////////////$|$ +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ $<$-\/ uheap\-\_\-end points to the very first address A\-B\-O\-V\-E the user heap $|$ $|$ uheap\-\_\-end is always inferior or equal to stack\-\_\-end $|$ user heap $|$ uheap\-\_\-end is moved with S\-Y\-S\-C\-A\-L\-L\-\_\-\-B\-R\-K $|$ $|$ +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ $<$-\/ uheap\-\_\-begin points to the very first address of the user heap $|$ global vars $|$ all global variables of user application $|$ -\/ -\/ -\/ -\/ -\/ -\/ $|$ $|$ \-\_\-usermem $|$ usermem structure defined below +-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---+ 

\subsection{Member Data Documentation}
\hypertarget{struct__usermem__s_aeb4637b2b234d4b2b4c3963bc580b993}{\index{\-\_\-usermem\-\_\-s@{\-\_\-usermem\-\_\-s}!main\-\_\-start@{main\-\_\-start}}
\index{main\-\_\-start@{main\-\_\-start}!_usermem_s@{\-\_\-usermem\-\_\-s}}
\subsubsection[{main\-\_\-start}]{\setlength{\rightskip}{0pt plus 5cm}void($\ast$  \-\_\-usermem\-\_\-s\-::main\-\_\-start)(void)}}\label{struct__usermem__s_aeb4637b2b234d4b2b4c3963bc580b993}


pointer to the start of main thread (see \hyperlink{crt0_8c}{ulib/crt0.\-c}) 



Referenced by kinit().

\hypertarget{struct__usermem__s_a72dc8dd0f2611deaef667aa2f9dbeb9f}{\index{\-\_\-usermem\-\_\-s@{\-\_\-usermem\-\_\-s}!main\-\_\-thread@{main\-\_\-thread}}
\index{main\-\_\-thread@{main\-\_\-thread}!_usermem_s@{\-\_\-usermem\-\_\-s}}
\subsubsection[{main\-\_\-thread}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ \-\_\-usermem\-\_\-s\-::main\-\_\-thread}}\label{struct__usermem__s_a72dc8dd0f2611deaef667aa2f9dbeb9f}


address of the main thread (defined in \hyperlink{kinit_8c}{kernel/kinit.\-c}) 



Referenced by kinit().

\hypertarget{struct__usermem__s_a092a5f4499ea31a3da83e6716d959626}{\index{\-\_\-usermem\-\_\-s@{\-\_\-usermem\-\_\-s}!ptls@{ptls}}
\index{ptls@{ptls}!_usermem_s@{\-\_\-usermem\-\_\-s}}
\subsubsection[{ptls}]{\setlength{\rightskip}{0pt plus 5cm}struct {\bf \-\_\-tls\-\_\-s}$\ast$ \-\_\-usermem\-\_\-s\-::ptls}}\label{struct__usermem__s_a092a5f4499ea31a3da83e6716d959626}


pointer to the thread local storage of the current thread 



Referenced by sched\-\_\-switch(), and thread\-\_\-main\-\_\-load().

\hypertarget{struct__usermem__s_a0ada31d8a3c5cd0a5d82fe3b0ea7bbe7}{\index{\-\_\-usermem\-\_\-s@{\-\_\-usermem\-\_\-s}!uheap\-\_\-beg@{uheap\-\_\-beg}}
\index{uheap\-\_\-beg@{uheap\-\_\-beg}!_usermem_s@{\-\_\-usermem\-\_\-s}}
\subsubsection[{uheap\-\_\-beg}]{\setlength{\rightskip}{0pt plus 5cm}int$\ast$ \-\_\-usermem\-\_\-s\-::uheap\-\_\-beg}}\label{struct__usermem__s_a0ada31d8a3c5cd0a5d82fe3b0ea7bbe7}


lowest highest address of the user heap segment 



Referenced by \-\_\-start(), print\-\_\-ustack(), and sbrk().

\hypertarget{struct__usermem__s_afc2d87db58cb56804172f98d124d3c05}{\index{\-\_\-usermem\-\_\-s@{\-\_\-usermem\-\_\-s}!uheap\-\_\-end@{uheap\-\_\-end}}
\index{uheap\-\_\-end@{uheap\-\_\-end}!_usermem_s@{\-\_\-usermem\-\_\-s}}
\subsubsection[{uheap\-\_\-end}]{\setlength{\rightskip}{0pt plus 5cm}int$\ast$ \-\_\-usermem\-\_\-s\-::uheap\-\_\-end}}\label{struct__usermem__s_afc2d87db58cb56804172f98d124d3c05}


highest address of the user heap segment (also named brk) 



Referenced by malloc\-\_\-ustack(), print\-\_\-ustack(), and sbrk().

\hypertarget{struct__usermem__s_a2fd1c0d0e8502f93210c3a30d3746d06}{\index{\-\_\-usermem\-\_\-s@{\-\_\-usermem\-\_\-s}!ustack\-\_\-beg@{ustack\-\_\-beg}}
\index{ustack\-\_\-beg@{ustack\-\_\-beg}!_usermem_s@{\-\_\-usermem\-\_\-s}}
\subsubsection[{ustack\-\_\-beg}]{\setlength{\rightskip}{0pt plus 5cm}int$\ast$ \-\_\-usermem\-\_\-s\-::ustack\-\_\-beg}}\label{struct__usermem__s_a2fd1c0d0e8502f93210c3a30d3746d06}


highest address of the user stack segment 



Referenced by print\-\_\-ustack().

\hypertarget{struct__usermem__s_a2ff86fc41cdbe6063962b5be6aef49fc}{\index{\-\_\-usermem\-\_\-s@{\-\_\-usermem\-\_\-s}!ustack\-\_\-end@{ustack\-\_\-end}}
\index{ustack\-\_\-end@{ustack\-\_\-end}!_usermem_s@{\-\_\-usermem\-\_\-s}}
\subsubsection[{ustack\-\_\-end}]{\setlength{\rightskip}{0pt plus 5cm}int$\ast$ \-\_\-usermem\-\_\-s\-::ustack\-\_\-end}}\label{struct__usermem__s_a2ff86fc41cdbe6063962b5be6aef49fc}


lowest address of the user stack segment 



Referenced by \-\_\-\-\_\-attribute\-\_\-\-\_\-(), free\-\_\-ustack(), malloc\-\_\-ustack(), print\-\_\-ustack(), and sbrk().



The documentation for this struct was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
/users/enseig/franck/ko6/src/soft/common/\hyperlink{usermem_8h}{usermem.\-h}\end{DoxyCompactItemize}
