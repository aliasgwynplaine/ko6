\hypertarget{pthread_8h}{\section{/users/enseig/franck/ko6/src/soft/ulib/pthread.h File Reference}
\label{pthread_8h}\index{/users/enseig/franck/ko6/src/soft/ulib/pthread.\-h@{/users/enseig/franck/ko6/src/soft/ulib/pthread.\-h}}
}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
typedef struct pthread\-\_\-s $\ast$ \hyperlink{pthread_8h_af76921f9c4d382336c266fc967017636}{pthread\-\_\-t}
\begin{DoxyCompactList}\small\item\em hidden pthread type, the user do not know what is in the thread structure \end{DoxyCompactList}\item 
typedef struct pthread\-\_\-attr\-\_\-s $\ast$ \hyperlink{pthread_8h_aa1f53c172f469781ac957e8d01322c43}{pthread\-\_\-attr\-\_\-t}
\begin{DoxyCompactList}\small\item\em hidden pthread attribute type \end{DoxyCompactList}\item 
typedef struct pthread\-\_\-mutex\-\_\-s $\ast$ \hyperlink{pthread_8h_aa13253d3ede7200917f21c685a49d256}{pthread\-\_\-mutex\-\_\-t}
\begin{DoxyCompactList}\small\item\em hidden mutex type \end{DoxyCompactList}\item 
typedef struct \\*
pthread\-\_\-mutexattr\-\_\-s $\ast$ \hyperlink{pthread_8h_ab7433c31c2d1fdefd1465dc2204de989}{pthread\-\_\-mutexattr\-\_\-t}
\begin{DoxyCompactList}\small\item\em hidden mutex attribute type \end{DoxyCompactList}\item 
typedef struct pthread\-\_\-barrier\-\_\-s $\ast$ \hyperlink{pthread_8h_ac97967a2700653f458a949449411c7cb}{pthread\-\_\-barrier\-\_\-t}
\begin{DoxyCompactList}\small\item\em hidden barrier type, the user do not know what is in the barrier structure \end{DoxyCompactList}\item 
typedef struct \\*
pthread\-\_\-barrierattr\-\_\-s $\ast$ \hyperlink{pthread_8h_a7e975afcd4298de90c6ba1a236de12a9}{pthread\-\_\-barrierattr\-\_\-t}
\begin{DoxyCompactList}\small\item\em hidden pthread barrier attribute type \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{pthread_8h_a57aa485fb15bd7f307777cef1a074d28}{pthread\-\_\-create} (\hyperlink{pthread_8h_af76921f9c4d382336c266fc967017636}{pthread\-\_\-t} $\ast$thread, \hyperlink{pthread_8h_aa1f53c172f469781ac957e8d01322c43}{pthread\-\_\-attr\-\_\-t} $\ast$attr, void $\ast$($\ast$fun)(void $\ast$), void $\ast$arg)
\begin{DoxyCompactList}\small\item\em asks the kernel via a syscall to start a new thread by invoking fun(arg) fun() can stop the thread by calling thread\-\_\-exit(value) or if it returns a value, it is equivalent to call thread\-\_\-exit with this value The state of the new thread is T\-H\-\_\-\-S\-T\-A\-T\-E\-\_\-\-R\-E\-A\-D\-Y. \end{DoxyCompactList}\item 
int \hyperlink{pthread_8h_aeff2e6e14c407e3d02076ecae842bcca}{pthread\-\_\-yield} (void)
\begin{DoxyCompactList}\small\item\em Causes the current thread to give up the C\-P\-U in order to give it to another. \end{DoxyCompactList}\item 
void \hyperlink{pthread_8h_a23b28e0f8ac5af2b46a33cdab3a80e44}{pthread\-\_\-exit} (void $\ast$retval)
\begin{DoxyCompactList}\small\item\em terminates the current thread and returns retval \end{DoxyCompactList}\item 
void \hyperlink{pthread_8h_a471c1323d7564c8a6244f105c0e3e8f1}{pthread\-\_\-join} (\hyperlink{pthread_8h_af76921f9c4d382336c266fc967017636}{pthread\-\_\-t} thread, void $\ast$$\ast$retval)
\begin{DoxyCompactList}\small\item\em wait for a thread termination \end{DoxyCompactList}\item 
void \hyperlink{pthread_8h_a02cfe68dc8f379c88d448172f997b09e}{sched\-\_\-dump} (void)
\begin{DoxyCompactList}\small\item\em Displays on the console (tty0) all active threads, it is for debugging. \end{DoxyCompactList}\item 
int \hyperlink{pthread_8h_ae2d27287a87adaab0c6bbb23ec3e529e}{pthread\-\_\-mutex\-\_\-init} (\hyperlink{pthread_8h_aa13253d3ede7200917f21c685a49d256}{pthread\-\_\-mutex\-\_\-t} $\ast$mutex, \hyperlink{pthread_8h_ab7433c31c2d1fdefd1465dc2204de989}{pthread\-\_\-mutexattr\-\_\-t} $\ast$attr)
\begin{DoxyCompactList}\small\item\em creates a new mutex and initializes mutex variable with the new mutex (side effect) it is a mutex with error checking \end{DoxyCompactList}\item 
int \hyperlink{pthread_8h_a12809c44718c21544ceb280dc1a53573}{pthread\-\_\-mutex\-\_\-lock} (\hyperlink{pthread_8h_aa13253d3ede7200917f21c685a49d256}{pthread\-\_\-mutex\-\_\-t} $\ast$mutex)
\begin{DoxyCompactList}\small\item\em lock the referenced mutex, it is a blocking operation. If the mutex is already locked, the calling thread blocks until the mutex becomes available. If the mutex does not exist or is already locked, this is an error \end{DoxyCompactList}\item 
int \hyperlink{pthread_8h_a96184290ffb60e04c53a52869cf960a2}{pthread\-\_\-mutex\-\_\-unlock} (\hyperlink{pthread_8h_aa13253d3ede7200917f21c685a49d256}{pthread\-\_\-mutex\-\_\-t} $\ast$mutex)
\begin{DoxyCompactList}\small\item\em unlock the referenced mutex If the mutex does not exist or is not locked or has been locked by another, this is an error that causes exit with error \end{DoxyCompactList}\item 
int \hyperlink{pthread_8h_a3cf620ff3a40af11d79cf28901dc55e2}{pthread\-\_\-mutex\-\_\-destroy} (\hyperlink{pthread_8h_aa13253d3ede7200917f21c685a49d256}{pthread\-\_\-mutex\-\_\-t} $\ast$mutex)
\begin{DoxyCompactList}\small\item\em destroy the referenced mutex If the mutex is locked the destruction is not done, this is an error \end{DoxyCompactList}\item 
int \hyperlink{pthread_8h_ad99d3bb02ea2b98fbf98fdb24d32adb3}{pthread\-\_\-barrier\-\_\-init} (\hyperlink{pthread_8h_ac97967a2700653f458a949449411c7cb}{pthread\-\_\-barrier\-\_\-t} $\ast$\hyperlink{barrier_2main_8c_a779bfbbb688cf46720cfb65109ea4858}{barrier}, \hyperlink{pthread_8h_a7e975afcd4298de90c6ba1a236de12a9}{pthread\-\_\-barrierattr\-\_\-t} $\ast$attr, size\-\_\-t count)
\begin{DoxyCompactList}\small\item\em creates or initialize a barrier depending the value of barrier parameter \end{DoxyCompactList}\item 
int \hyperlink{pthread_8h_a85f92053b4d12aa94927b364b5b757d9}{pthread\-\_\-barrier\-\_\-wait} (\hyperlink{pthread_8h_ac97967a2700653f458a949449411c7cb}{pthread\-\_\-barrier\-\_\-t} $\ast$\hyperlink{barrier_2main_8c_a779bfbbb688cf46720cfb65109ea4858}{barrier})
\begin{DoxyCompactList}\small\item\em wait to the referenced barrier, it is a blocking operation for all thread but the last the last arrived thread doesn't wait and notifies the other threads which becomes R\-E\-A\-D\-Y \end{DoxyCompactList}\item 
int \hyperlink{pthread_8h_ae8ef9b4e2d7feaa1a28159991e7433ac}{pthread\-\_\-barrier\-\_\-destroy} (\hyperlink{pthread_8h_ac97967a2700653f458a949449411c7cb}{pthread\-\_\-barrier\-\_\-t} $\ast$\hyperlink{barrier_2main_8c_a779bfbbb688cf46720cfb65109ea4858}{barrier})
\begin{DoxyCompactList}\small\item\em destroy the referenced barrier If a thread is waiting at the barrier, then the destruction is not done, it is an error \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Typedef Documentation}
\hypertarget{pthread_8h_aa1f53c172f469781ac957e8d01322c43}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-attr\-\_\-t@{pthread\-\_\-attr\-\_\-t}}
\index{pthread\-\_\-attr\-\_\-t@{pthread\-\_\-attr\-\_\-t}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-attr\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct pthread\-\_\-attr\-\_\-s$\ast$ {\bf pthread\-\_\-attr\-\_\-t}}}\label{pthread_8h_aa1f53c172f469781ac957e8d01322c43}


hidden pthread attribute type 

\hypertarget{pthread_8h_ac97967a2700653f458a949449411c7cb}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-barrier\-\_\-t@{pthread\-\_\-barrier\-\_\-t}}
\index{pthread\-\_\-barrier\-\_\-t@{pthread\-\_\-barrier\-\_\-t}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-barrier\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct pthread\-\_\-barrier\-\_\-s$\ast$ {\bf pthread\-\_\-barrier\-\_\-t}}}\label{pthread_8h_ac97967a2700653f458a949449411c7cb}


hidden barrier type, the user do not know what is in the barrier structure 

\hypertarget{pthread_8h_a7e975afcd4298de90c6ba1a236de12a9}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-barrierattr\-\_\-t@{pthread\-\_\-barrierattr\-\_\-t}}
\index{pthread\-\_\-barrierattr\-\_\-t@{pthread\-\_\-barrierattr\-\_\-t}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-barrierattr\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct pthread\-\_\-barrierattr\-\_\-s$\ast$ {\bf pthread\-\_\-barrierattr\-\_\-t}}}\label{pthread_8h_a7e975afcd4298de90c6ba1a236de12a9}


hidden pthread barrier attribute type 

\hypertarget{pthread_8h_aa13253d3ede7200917f21c685a49d256}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-mutex\-\_\-t@{pthread\-\_\-mutex\-\_\-t}}
\index{pthread\-\_\-mutex\-\_\-t@{pthread\-\_\-mutex\-\_\-t}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-mutex\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct pthread\-\_\-mutex\-\_\-s$\ast$ {\bf pthread\-\_\-mutex\-\_\-t}}}\label{pthread_8h_aa13253d3ede7200917f21c685a49d256}


hidden mutex type 

\hypertarget{pthread_8h_ab7433c31c2d1fdefd1465dc2204de989}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-mutexattr\-\_\-t@{pthread\-\_\-mutexattr\-\_\-t}}
\index{pthread\-\_\-mutexattr\-\_\-t@{pthread\-\_\-mutexattr\-\_\-t}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-mutexattr\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct pthread\-\_\-mutexattr\-\_\-s$\ast$ {\bf pthread\-\_\-mutexattr\-\_\-t}}}\label{pthread_8h_ab7433c31c2d1fdefd1465dc2204de989}


hidden mutex attribute type 

\hypertarget{pthread_8h_af76921f9c4d382336c266fc967017636}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-t@{pthread\-\_\-t}}
\index{pthread\-\_\-t@{pthread\-\_\-t}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct pthread\-\_\-s$\ast$ {\bf pthread\-\_\-t}}}\label{pthread_8h_af76921f9c4d382336c266fc967017636}


hidden pthread type, the user do not know what is in the thread structure 



\subsection{Function Documentation}
\hypertarget{pthread_8h_ae8ef9b4e2d7feaa1a28159991e7433ac}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-barrier\-\_\-destroy@{pthread\-\_\-barrier\-\_\-destroy}}
\index{pthread\-\_\-barrier\-\_\-destroy@{pthread\-\_\-barrier\-\_\-destroy}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-barrier\-\_\-destroy}]{\setlength{\rightskip}{0pt plus 5cm}int pthread\-\_\-barrier\-\_\-destroy (
\begin{DoxyParamCaption}
\item[{{\bf pthread\-\_\-barrier\-\_\-t} $\ast$}]{barrier}
\end{DoxyParamCaption}
)}}\label{pthread_8h_ae8ef9b4e2d7feaa1a28159991e7433ac}


destroy the referenced barrier If a thread is waiting at the barrier, then the destruction is not done, it is an error 


\begin{DoxyParams}{Parameters}
{\em barrier} & a pointer referencing a barrier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\-U\-C\-C\-E\-S\-S if it all goes fine or E\-I\-N\-V\-A\-L wrong argument E\-B\-U\-S\-Y The implementation has detected an attempt to destroy a barrier while it is in use (for example, while being used in a \hyperlink{ksynchro_8c_aea6f07b8093fabd5e248aae8b7e64abb}{thread\-\_\-barrier\-\_\-wait()} call) by another thread. 
\end{DoxyReturn}


References S\-Y\-S\-C\-A\-L\-L\-\_\-\-B\-A\-R\-R\-I\-E\-R\-\_\-\-D\-E\-S\-T\-R\-O\-Y, and syscall\-\_\-fct.


\begin{DoxyCode}
98 \{
99     \textcolor{keywordflow}{return} \hyperlink{mips_2cpu__user_8S_a2824a7b580dd3afd46068b42af360fa6}{syscall\_fct} ((\textcolor{keywordtype}{int})\hyperlink{barrier_2main_8c_a779bfbbb688cf46720cfb65109ea4858}{barrier}, 0, 0, 0, 
      \hyperlink{syscalls_8h_a1381b417b795b6cd16ae37c078862a38}{SYSCALL\_BARRIER\_DESTROY});
100 \}
\end{DoxyCode}
\hypertarget{pthread_8h_ad99d3bb02ea2b98fbf98fdb24d32adb3}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-barrier\-\_\-init@{pthread\-\_\-barrier\-\_\-init}}
\index{pthread\-\_\-barrier\-\_\-init@{pthread\-\_\-barrier\-\_\-init}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-barrier\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}int pthread\-\_\-barrier\-\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf pthread\-\_\-barrier\-\_\-t} $\ast$}]{barrier, }
\item[{{\bf pthread\-\_\-barrierattr\-\_\-t} $\ast$}]{attr, }
\item[{size\-\_\-t}]{count}
\end{DoxyParamCaption}
)}}\label{pthread_8h_ad99d3bb02ea2b98fbf98fdb24d32adb3}


creates or initialize a barrier depending the value of barrier parameter 


\begin{DoxyParams}{Parameters}
{\em barrier} & a pointer referencing the barrier, there are two cases 1) if $\ast$barrier == N\-U\-L\-L then allocate a new barrier, then initialize count 2) if $\ast$barrier != N\-U\-L\-L it the barrier already exists, just initialize count \\
\hline
{\em attr} & a pointer to the attribute of the new barrier (N\-U\-L\-L for default) \\
\hline
{\em count} & number of expected threads for this barrier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\-U\-C\-C\-E\-S\-S if it all goes fine or E\-I\-N\-V\-A\-L The value specified by count is equal to zero. E\-N\-O\-M\-E\-M Insufficient memory exists to initialize the barrier E\-B\-U\-S\-Y The implementation has detected an attempt to reinitialize a barrier while it is in use (for example, while being used in a \hyperlink{ksynchro_8c_aea6f07b8093fabd5e248aae8b7e64abb}{thread\-\_\-barrier\-\_\-wait()} call) by another thread. 
\end{DoxyReturn}


References S\-Y\-S\-C\-A\-L\-L\-\_\-\-B\-A\-R\-R\-I\-E\-R\-\_\-\-I\-N\-I\-T, and syscall\-\_\-fct.



Referenced by main().


\begin{DoxyCode}
93 \{
94     \textcolor{keywordflow}{return} \hyperlink{mips_2cpu__user_8S_a2824a7b580dd3afd46068b42af360fa6}{syscall\_fct} ((\textcolor{keywordtype}{int})\hyperlink{barrier_2main_8c_a779bfbbb688cf46720cfb65109ea4858}{barrier}, (\textcolor{keywordtype}{int}) count, (\textcolor{keywordtype}{int}) attr, 0, 
      \hyperlink{syscalls_8h_a026c84ef7c3e101d665208d89b369b6c}{SYSCALL\_BARRIER\_INIT});
95 \}
\end{DoxyCode}
\hypertarget{pthread_8h_a85f92053b4d12aa94927b364b5b757d9}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-barrier\-\_\-wait@{pthread\-\_\-barrier\-\_\-wait}}
\index{pthread\-\_\-barrier\-\_\-wait@{pthread\-\_\-barrier\-\_\-wait}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-barrier\-\_\-wait}]{\setlength{\rightskip}{0pt plus 5cm}int pthread\-\_\-barrier\-\_\-wait (
\begin{DoxyParamCaption}
\item[{{\bf pthread\-\_\-barrier\-\_\-t} $\ast$}]{barrier}
\end{DoxyParamCaption}
)}}\label{pthread_8h_a85f92053b4d12aa94927b364b5b757d9}


wait to the referenced barrier, it is a blocking operation for all thread but the last the last arrived thread doesn't wait and notifies the other threads which becomes R\-E\-A\-D\-Y 


\begin{DoxyParams}{Parameters}
{\em barrier} & a pointer referencing a barrier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
S\-U\-C\-C\-E\-S\-S or F\-E\-A\-L\-U\-R\-E 
\end{DoxyReturn}


References S\-Y\-S\-C\-A\-L\-L\-\_\-\-B\-A\-R\-R\-I\-E\-R\-\_\-\-W\-A\-I\-T, and syscall\-\_\-fct.


\begin{DoxyCode}
103 \{
104     \textcolor{keywordflow}{return} \hyperlink{mips_2cpu__user_8S_a2824a7b580dd3afd46068b42af360fa6}{syscall\_fct} ((\textcolor{keywordtype}{int})\hyperlink{barrier_2main_8c_a779bfbbb688cf46720cfb65109ea4858}{barrier}, 0, 0, 0, 
      \hyperlink{syscalls_8h_aa2c79dbb3d9d284094852336eead340a}{SYSCALL\_BARRIER\_WAIT});
105 \}
\end{DoxyCode}
\hypertarget{pthread_8h_a57aa485fb15bd7f307777cef1a074d28}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-create@{pthread\-\_\-create}}
\index{pthread\-\_\-create@{pthread\-\_\-create}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-create}]{\setlength{\rightskip}{0pt plus 5cm}int pthread\-\_\-create (
\begin{DoxyParamCaption}
\item[{{\bf pthread\-\_\-t} $\ast$}]{thread, }
\item[{{\bf pthread\-\_\-attr\-\_\-t} $\ast$}]{attr, }
\item[{void $\ast$($\ast$)(void $\ast$)}]{fun, }
\item[{void $\ast$}]{arg}
\end{DoxyParamCaption}
)}}\label{pthread_8h_a57aa485fb15bd7f307777cef1a074d28}


asks the kernel via a syscall to start a new thread by invoking fun(arg) fun() can stop the thread by calling thread\-\_\-exit(value) or if it returns a value, it is equivalent to call thread\-\_\-exit with this value The state of the new thread is T\-H\-\_\-\-S\-T\-A\-T\-E\-\_\-\-R\-E\-A\-D\-Y. 


\begin{DoxyParams}{Parameters}
{\em thread} & pointer to the thread structure \\
\hline
{\em attr} & pointer to the thread atribute structure (default if N\-U\-L\-L) \\
\hline
{\em fun} & pointer to the function of the thread \\
\hline
{\em arg} & the argument given to fun() \\
\hline
\end{DoxyParams}


References syscall\-\_\-fct, S\-Y\-S\-C\-A\-L\-L\-\_\-\-T\-H\-R\-E\-A\-D\-\_\-\-C\-R\-E\-A\-T\-E, and thread\-\_\-start().



Referenced by main().


\begin{DoxyCode}
36 \{
37     \textcolor{keywordflow}{return} \hyperlink{mips_2cpu__user_8S_a2824a7b580dd3afd46068b42af360fa6}{syscall\_fct} ((\textcolor{keywordtype}{int})thread, (\textcolor{keywordtype}{int})fun, (\textcolor{keywordtype}{int})arg, (\textcolor{keywordtype}{int})
      \hyperlink{pthread_8c_a334f18a58e25ecc72e490c91cea67547}{thread\_start}, \hyperlink{syscalls_8h_a63de1298da2951a6a80a60ba2e81f3cc}{SYSCALL\_THREAD\_CREATE});
38 \}
\end{DoxyCode}
\hypertarget{pthread_8h_a23b28e0f8ac5af2b46a33cdab3a80e44}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-exit@{pthread\-\_\-exit}}
\index{pthread\-\_\-exit@{pthread\-\_\-exit}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-exit}]{\setlength{\rightskip}{0pt plus 5cm}void pthread\-\_\-exit (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{retval}
\end{DoxyParamCaption}
)}}\label{pthread_8h_a23b28e0f8ac5af2b46a33cdab3a80e44}


terminates the current thread and returns retval 


\begin{DoxyParams}{Parameters}
{\em retval} & the value can be retrieved by calling the thread\-\_\-join function of another thread \\
\hline
\end{DoxyParams}


References syscall\-\_\-fct, and S\-Y\-S\-C\-A\-L\-L\-\_\-\-T\-H\-R\-E\-A\-D\-\_\-\-E\-X\-I\-T.



Referenced by thread\-\_\-start().


\begin{DoxyCode}
46 \{
47     \hyperlink{mips_2cpu__user_8S_a2824a7b580dd3afd46068b42af360fa6}{syscall\_fct} ((\textcolor{keywordtype}{int})retval, 0, 0, 0, \hyperlink{syscalls_8h_ab38bbbfadd5c56dcd1a4bf2f2f108f8b}{SYSCALL\_THREAD\_EXIT});
48 \}
\end{DoxyCode}
\hypertarget{pthread_8h_a471c1323d7564c8a6244f105c0e3e8f1}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-join@{pthread\-\_\-join}}
\index{pthread\-\_\-join@{pthread\-\_\-join}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-join}]{\setlength{\rightskip}{0pt plus 5cm}void pthread\-\_\-join (
\begin{DoxyParamCaption}
\item[{{\bf pthread\-\_\-t}}]{thread, }
\item[{void $\ast$$\ast$}]{retval}
\end{DoxyParamCaption}
)}}\label{pthread_8h_a471c1323d7564c8a6244f105c0e3e8f1}


wait for a thread termination 


\begin{DoxyParams}{Parameters}
{\em thread} & expected thread \\
\hline
{\em retval} & pointer to the return value of the expected thread \\
\hline
\end{DoxyParams}


References syscall\-\_\-fct, and S\-Y\-S\-C\-A\-L\-L\-\_\-\-T\-H\-R\-E\-A\-D\-\_\-\-J\-O\-I\-N.



Referenced by main().


\begin{DoxyCode}
56 \{
57     \hyperlink{mips_2cpu__user_8S_a2824a7b580dd3afd46068b42af360fa6}{syscall\_fct} ((\textcolor{keywordtype}{int})thread, (\textcolor{keywordtype}{int})retval, 0, 0, \hyperlink{syscalls_8h_ad4d7571cbeb659d57fd4d92ae1924082}{SYSCALL\_THREAD\_JOIN});
58 \}
\end{DoxyCode}
\hypertarget{pthread_8h_a3cf620ff3a40af11d79cf28901dc55e2}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-mutex\-\_\-destroy@{pthread\-\_\-mutex\-\_\-destroy}}
\index{pthread\-\_\-mutex\-\_\-destroy@{pthread\-\_\-mutex\-\_\-destroy}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-mutex\-\_\-destroy}]{\setlength{\rightskip}{0pt plus 5cm}int pthread\-\_\-mutex\-\_\-destroy (
\begin{DoxyParamCaption}
\item[{{\bf pthread\-\_\-mutex\-\_\-t} $\ast$}]{mutex}
\end{DoxyParamCaption}
)}}\label{pthread_8h_a3cf620ff3a40af11d79cf28901dc55e2}


destroy the referenced mutex If the mutex is locked the destruction is not done, this is an error 


\begin{DoxyParams}{Parameters}
{\em mutex} & a pointer referencing a mutex \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, 1 on fealure 
\end{DoxyReturn}


References syscall\-\_\-fct, and S\-Y\-S\-C\-A\-L\-L\-\_\-\-M\-U\-T\-E\-X\-\_\-\-D\-E\-S\-T\-R\-O\-Y.


\begin{DoxyCode}
72 \{
73     \textcolor{keywordflow}{return} \hyperlink{mips_2cpu__user_8S_a2824a7b580dd3afd46068b42af360fa6}{syscall\_fct} ((\textcolor{keywordtype}{int})mutex, 0, 0, 0, \hyperlink{syscalls_8h_ad87d7bb44b389a78ec06709fa5fbc23a}{SYSCALL\_MUTEX\_DESTROY});
74 \}
\end{DoxyCode}
\hypertarget{pthread_8h_ae2d27287a87adaab0c6bbb23ec3e529e}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-mutex\-\_\-init@{pthread\-\_\-mutex\-\_\-init}}
\index{pthread\-\_\-mutex\-\_\-init@{pthread\-\_\-mutex\-\_\-init}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-mutex\-\_\-init}]{\setlength{\rightskip}{0pt plus 5cm}int pthread\-\_\-mutex\-\_\-init (
\begin{DoxyParamCaption}
\item[{{\bf pthread\-\_\-mutex\-\_\-t} $\ast$}]{mutex, }
\item[{{\bf pthread\-\_\-mutexattr\-\_\-t} $\ast$}]{attr}
\end{DoxyParamCaption}
)}}\label{pthread_8h_ae2d27287a87adaab0c6bbb23ec3e529e}


creates a new mutex and initializes mutex variable with the new mutex (side effect) it is a mutex with error checking 


\begin{DoxyParams}{Parameters}
{\em mutex} & a pointer referencing the new mutex \\
\hline
{\em attr} & a pointer to the attribute of the new mutex (N\-U\-L\-L for default) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, 1 on fealure 
\end{DoxyReturn}


References syscall\-\_\-fct, and S\-Y\-S\-C\-A\-L\-L\-\_\-\-M\-U\-T\-E\-X\-\_\-\-I\-N\-I\-T.


\begin{DoxyCode}
67 \{
68     \textcolor{keywordflow}{return} \hyperlink{mips_2cpu__user_8S_a2824a7b580dd3afd46068b42af360fa6}{syscall\_fct} ((\textcolor{keywordtype}{int})mutex, 0, 0, 0, \hyperlink{syscalls_8h_aa7c4dd1815b9890594a76a9c23db75e3}{SYSCALL\_MUTEX\_INIT});
69 \}
\end{DoxyCode}
\hypertarget{pthread_8h_a12809c44718c21544ceb280dc1a53573}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-mutex\-\_\-lock@{pthread\-\_\-mutex\-\_\-lock}}
\index{pthread\-\_\-mutex\-\_\-lock@{pthread\-\_\-mutex\-\_\-lock}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-mutex\-\_\-lock}]{\setlength{\rightskip}{0pt plus 5cm}int pthread\-\_\-mutex\-\_\-lock (
\begin{DoxyParamCaption}
\item[{{\bf pthread\-\_\-mutex\-\_\-t} $\ast$}]{mutex}
\end{DoxyParamCaption}
)}}\label{pthread_8h_a12809c44718c21544ceb280dc1a53573}


lock the referenced mutex, it is a blocking operation. If the mutex is already locked, the calling thread blocks until the mutex becomes available. If the mutex does not exist or is already locked, this is an error 


\begin{DoxyParams}{Parameters}
{\em mutex} & a pointer referencing a mutex \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, 1 on fealure 
\end{DoxyReturn}


References syscall\-\_\-fct, and S\-Y\-S\-C\-A\-L\-L\-\_\-\-M\-U\-T\-E\-X\-\_\-\-L\-O\-C\-K.


\begin{DoxyCode}
77 \{
78     \textcolor{keywordflow}{return} \hyperlink{mips_2cpu__user_8S_a2824a7b580dd3afd46068b42af360fa6}{syscall\_fct} ((\textcolor{keywordtype}{int})mutex, 0, 0, 0, \hyperlink{syscalls_8h_ad83026e97bed8a463c5a955867011e8d}{SYSCALL\_MUTEX\_LOCK});
79 \}
\end{DoxyCode}
\hypertarget{pthread_8h_a96184290ffb60e04c53a52869cf960a2}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-mutex\-\_\-unlock@{pthread\-\_\-mutex\-\_\-unlock}}
\index{pthread\-\_\-mutex\-\_\-unlock@{pthread\-\_\-mutex\-\_\-unlock}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-mutex\-\_\-unlock}]{\setlength{\rightskip}{0pt plus 5cm}int pthread\-\_\-mutex\-\_\-unlock (
\begin{DoxyParamCaption}
\item[{{\bf pthread\-\_\-mutex\-\_\-t} $\ast$}]{mutex}
\end{DoxyParamCaption}
)}}\label{pthread_8h_a96184290ffb60e04c53a52869cf960a2}


unlock the referenced mutex If the mutex does not exist or is not locked or has been locked by another, this is an error that causes exit with error 


\begin{DoxyParams}{Parameters}
{\em mutex} & a pointer referencing a mutex \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 on success, 1 on fealure 
\end{DoxyReturn}


References syscall\-\_\-fct, and S\-Y\-S\-C\-A\-L\-L\-\_\-\-M\-U\-T\-E\-X\-\_\-\-U\-N\-L\-O\-C\-K.


\begin{DoxyCode}
82 \{
83     \textcolor{keywordflow}{return} \hyperlink{mips_2cpu__user_8S_a2824a7b580dd3afd46068b42af360fa6}{syscall\_fct} ((\textcolor{keywordtype}{int})mutex, 0, 0, 0, \hyperlink{syscalls_8h_a71247681fc657059e83f9bcf64068fe7}{SYSCALL\_MUTEX\_UNLOCK});
84 \}
\end{DoxyCode}
\hypertarget{pthread_8h_aeff2e6e14c407e3d02076ecae842bcca}{\index{pthread.\-h@{pthread.\-h}!pthread\-\_\-yield@{pthread\-\_\-yield}}
\index{pthread\-\_\-yield@{pthread\-\_\-yield}!pthread.h@{pthread.\-h}}
\subsubsection[{pthread\-\_\-yield}]{\setlength{\rightskip}{0pt plus 5cm}int pthread\-\_\-yield (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{pthread_8h_aeff2e6e14c407e3d02076ecae842bcca}


Causes the current thread to give up the C\-P\-U in order to give it to another. 



References syscall\-\_\-fct, and S\-Y\-S\-C\-A\-L\-L\-\_\-\-T\-H\-R\-E\-A\-D\-\_\-\-Y\-I\-E\-L\-D.


\begin{DoxyCode}
41 \{
42     \textcolor{keywordflow}{return} \hyperlink{mips_2cpu__user_8S_a2824a7b580dd3afd46068b42af360fa6}{syscall\_fct} (0, 0, 0, 0, \hyperlink{syscalls_8h_a26a363c5f0ee06e0eec9cc16ed64a2fd}{SYSCALL\_THREAD\_YIELD});
43 \}
\end{DoxyCode}
\hypertarget{pthread_8h_a02cfe68dc8f379c88d448172f997b09e}{\index{pthread.\-h@{pthread.\-h}!sched\-\_\-dump@{sched\-\_\-dump}}
\index{sched\-\_\-dump@{sched\-\_\-dump}!pthread.h@{pthread.\-h}}
\subsubsection[{sched\-\_\-dump}]{\setlength{\rightskip}{0pt plus 5cm}void sched\-\_\-dump (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{pthread_8h_a02cfe68dc8f379c88d448172f997b09e}


Displays on the console (tty0) all active threads, it is for debugging. 



References thread\-\_\-s\-::arg, clock, D, errno\-\_\-mess, thread\-\_\-s\-::fun, thread\-\_\-s\-::join, kprintf(), thread\-\_\-s\-::kstack, thread\-\_\-s\-::kstack\-\_\-b, list\-\_\-s\-::next, P, list\-\_\-s\-::prev, thread\-\_\-s\-::ptls, thread\-\_\-s\-::retval, S, thread\-\_\-s\-::start, thread\-\_\-s\-::state, syscall\-\_\-fct, S\-Y\-S\-C\-A\-L\-L\-\_\-\-S\-C\-H\-E\-D\-\_\-\-D\-U\-M\-P, T\-H\-\_\-\-S\-T\-A\-T\-E\-\_\-\-D\-E\-A\-D, T\-H\-\_\-\-S\-T\-A\-T\-E\-\_\-\-R\-E\-A\-D\-Y, T\-H\-\_\-\-S\-T\-A\-T\-E\-\_\-\-R\-U\-N\-N\-I\-N\-G, T\-H\-\_\-\-S\-T\-A\-T\-E\-\_\-\-W\-A\-I\-T, T\-H\-\_\-\-S\-T\-A\-T\-E\-\_\-\-Z\-O\-M\-B\-I\-E, T\-H\-\_\-\-T\-Y\-P\-E\-\_\-\-K\-E\-R\-N\-E\-L, T\-H\-\_\-\-T\-Y\-P\-E\-\_\-\-U\-S\-E\-R, T\-H\-R\-E\-A\-D\-\_\-\-M\-A\-X, Thread\-Current\-Idx, thread\-\_\-s\-::tid, \-\_\-tls\-\_\-s\-::tls\-\_\-errno, thread\-\_\-s\-::type, thread\-\_\-s\-::ustack\-\_\-b, thread\-\_\-s\-::ustack\-\_\-e, W, thread\-\_\-s\-::wait, and Y.



Referenced by kdump().


\begin{DoxyCode}
176 \{
177     \textcolor{keywordtype}{char} *state\_name[16] = \{
178         [\hyperlink{kthread_8h_a83c4c9d919043cd3b5bac98b7250d506}{TH\_STATE\_RUNNING}] = \textcolor{stringliteral}{"RUNNING"},
179         [\hyperlink{kthread_8h_a1887e40b17ecfda05b4a398375d527fb}{TH\_STATE\_READY}] = \textcolor{stringliteral}{"READY"},
180         [\hyperlink{kthread_8h_aeae3234bde1a15d5c671a41286949bc5}{TH\_STATE\_DEAD}] = \textcolor{stringliteral}{"DEAD"},
181         [\hyperlink{kthread_8h_a75c1c2f7da0a338d818a2950b582b74a}{TH\_STATE\_WAIT}] = \textcolor{stringliteral}{"WAIT"},
182         [\hyperlink{kthread_8h_a55287315008b2fea47936dc065bbabb7}{TH\_STATE\_ZOMBIE}] = \textcolor{stringliteral}{"ZOMBIE"},
183     \};
184     \textcolor{keywordtype}{char} *type\_name[16] = \{
185         [\hyperlink{kthread_8h_ab47e8c012560fa0368dfd3f6e45e07b5}{TH\_TYPE\_USER}] = \textcolor{stringliteral}{"USER"},
186         [\hyperlink{kthread_8h_ad90e71a21f2353f675f63fee7aff63a7}{TH\_TYPE\_KERNEL}] = \textcolor{stringliteral}{"KERNEL"},
187     \};
188 
189     \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\hyperlink{kthread_8c_a798e4073d613ca5ba9618e1b3253df14}{Y}\textcolor{stringliteral}{"-------------------------- DUMP ALL THREADS ---------------------------\(\backslash\)n"});
190     \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\hyperlink{kthread_8c_a649b8f01fd6c0f47ff3cbddaeba63bfb}{W}\textcolor{stringliteral}{"thread current ("}\hyperlink{kthread_8c_a2748566f4c443ee77aa831e63dbb5ebe}{P}\textcolor{stringliteral}{") : "}\hyperlink{kthread_8c_af316c33cc298530f245e8b55330e86b5}{D}\textcolor{stringliteral}{"\(\backslash\)n"}, \hyperlink{kthread_8c_a1da5431310f6068f6d1113c402eff5f8}{ThreadCurrent}, 
      \hyperlink{kthread_8c_ae48ff9d5d8665f90c44ae6ad4acb5b6d}{ThreadCurrentIdx});
191     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} th = 0; th < \hyperlink{kthread_8h_a425c1da89e5866d87fc20a624da7cbec}{THREAD\_MAX}; th++) \{
192         \hyperlink{structthread__s}{thread\_t} thread = \hyperlink{kthread_8c_aea4c4ea36a124f36c5a513e838d95419}{ThreadTab}[th];
193         \textcolor{keywordflow}{if} (thread) \{
194            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\hyperlink{kthread_8c_a798e4073d613ca5ba9618e1b3253df14}{Y}\textcolor{stringliteral}{"----------------------------------------------------------------------- "});
195            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\hyperlink{kthread_8c_af316c33cc298530f245e8b55330e86b5}{D}\textcolor{stringliteral}{"\(\backslash\)n"}, thread->\hyperlink{structthread__s_ad1ed1d821f595f5a7c1d68f09ba36bf5}{tid});
196            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\textcolor{stringliteral}{"["}\hyperlink{kthread_8c_af316c33cc298530f245e8b55330e86b5}{D}\textcolor{stringliteral}{"] thread: "}\hyperlink{kthread_8c_a2748566f4c443ee77aa831e63dbb5ebe}{P},  \hyperlink{mips_2cpuregs_8S_af7e0f9f0eada9d28b46b4d1f7ae5b702}{clock} (), thread);
197            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\textcolor{stringliteral}{"  type:      "}\hyperlink{kthread_8c_af933676109efed7ab34cea71d748a517}{S}\textcolor{stringliteral}{"\(\backslash\)t"}, type\_name[thread->\hyperlink{structthread__s_a2eda0c064f0ed88103b27bf2b5a640e2}{type}]);
198            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\textcolor{stringliteral}{"   errmsg: "}\hyperlink{kthread_8c_af933676109efed7ab34cea71d748a517}{S}\textcolor{stringliteral}{"\(\backslash\)n"}, \hyperlink{errno_8c_a752b191220a1b00e3d70f9359a660f0f}{errno\_mess}[\textcolor{comment}{/*errno+*/}1]);
199            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\textcolor{stringliteral}{" - state:     "}\hyperlink{kthread_8c_af933676109efed7ab34cea71d748a517}{S}\textcolor{stringliteral}{"\(\backslash\)t"}, state\_name[thread->\hyperlink{structthread__s_ab3fce89938b5156047553299f71a1370}{state}]);
200            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\textcolor{stringliteral}{"   wait.next: "}P\textcolor{stringliteral}{"\(\backslash\)t"}, thread->\hyperlink{structthread__s_a291769866cccb5d37937ef14cedc38bf}{wait}.\hyperlink{structlist__s_a3fe402fa883820f9823c1e47246f9880}{next});
201            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\textcolor{stringliteral}{"   wait.prev: "}P\textcolor{stringliteral}{"\(\backslash\)n"}, thread->\hyperlink{structthread__s_a291769866cccb5d37937ef14cedc38bf}{wait}.\hyperlink{structlist__s_af220645f4ec4f64798bc6d8ea9765185}{prev});
202            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\textcolor{stringliteral}{" - retval:    "}P\textcolor{stringliteral}{"\(\backslash\)t"}, thread->\hyperlink{structthread__s_aeefa131a48c8c3c45e6c3c0819f21cd0}{retval});
203            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\textcolor{stringliteral}{"   join:      "}P\textcolor{stringliteral}{"\(\backslash\)t"}, thread->\hyperlink{structthread__s_a84fafe08d8ef25fc4b5a8fb1e833619c}{join});
204            \textcolor{comment}{//kprintf ("   errno:     "P"\(\backslash\)n", errno);}
205            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\textcolor{stringliteral}{"   errno:     "}P\textcolor{stringliteral}{"\(\backslash\)n"}, thread->\hyperlink{structthread__s_a7ad218d5b7c4b6bc9c4602e6b1a89815}{ptls}->\hyperlink{struct__tls__s_a2b0505d872f110754ab80cdfe94bf58e}{tls\_errno});
206            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\textcolor{stringliteral}{" - start:     "}P\textcolor{stringliteral}{"\(\backslash\)t"}, thread->\hyperlink{structthread__s_a63551d8e6d21a7370c5b3652cea282fc}{start});
207            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\textcolor{stringliteral}{"   function:  "}P\textcolor{stringliteral}{"\(\backslash\)t"}, thread->\hyperlink{structthread__s_a9a97385576dda275389e95ef13168cfc}{fun});
208            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\textcolor{stringliteral}{"   arg:       "}P\textcolor{stringliteral}{"\(\backslash\)n"}, thread->\hyperlink{structthread__s_a5cdab21069c6c184a86d024a0aa238aa}{arg});
209            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\textcolor{stringliteral}{" - ustack\_b:  "}P\textcolor{stringliteral}{" ("}P\textcolor{stringliteral}{")\(\backslash\)t"}, thread->\hyperlink{structthread__s_a8d51270c2f7572479276f7629940c3ea}{ustack\_b}, *(\textcolor{keywordtype}{int}*)thread->
      \hyperlink{structthread__s_a8d51270c2f7572479276f7629940c3ea}{ustack\_b});
210            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (  \textcolor{stringliteral}{" ustack\_e:  "}P\textcolor{stringliteral}{" ("}P\textcolor{stringliteral}{")\(\backslash\)n"}, thread->\hyperlink{structthread__s_a021e8a50ddb4a5978f18d6babfc4ea6e}{ustack\_e}, *(\textcolor{keywordtype}{int}*)thread->
      \hyperlink{structthread__s_a021e8a50ddb4a5978f18d6babfc4ea6e}{ustack\_e});
211            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\textcolor{stringliteral}{" - kstack\_b:  "}P\textcolor{stringliteral}{" ("}P\textcolor{stringliteral}{")\(\backslash\)t"}, thread->\hyperlink{structthread__s_a6885e765fcfe5d2ad0e5a07c2df3ee69}{kstack\_b}, *(\textcolor{keywordtype}{int}*)thread->
      \hyperlink{structthread__s_a6885e765fcfe5d2ad0e5a07c2df3ee69}{kstack\_b});
212            \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (  \textcolor{stringliteral}{" kstack\_e:  "}P\textcolor{stringliteral}{" ("}P\textcolor{stringliteral}{")\(\backslash\)n"}, &thread->\hyperlink{structthread__s_a1159b3f03199aed705bf099f2eb33a92}{kstack}, thread->
      \hyperlink{structthread__s_a1159b3f03199aed705bf099f2eb33a92}{kstack}[0]);
213 \textcolor{comment}{/*}
214 \textcolor{comment}{           kprintf (" - context:");}
215 \textcolor{comment}{           kprintf ("   S0: "P,          thread->context[TH\_CONTEXT\_S0]);}
216 \textcolor{comment}{           kprintf ("   S1: "P,          thread->context[TH\_CONTEXT\_S1]);}
217 \textcolor{comment}{           kprintf ("   S2: "P,          thread->context[TH\_CONTEXT\_S2]);}
218 \textcolor{comment}{           kprintf ("   S3: "P"\(\backslash\)n\(\backslash\)t   ", thread->context[TH\_CONTEXT\_S3]);}
219 \textcolor{comment}{           kprintf ("   S4: "P,          thread->context[TH\_CONTEXT\_S4]);}
220 \textcolor{comment}{           kprintf ("   S5: "P,          thread->context[TH\_CONTEXT\_S5]);}
221 \textcolor{comment}{           kprintf ("   S6: "P,          thread->context[TH\_CONTEXT\_S6]);}
222 \textcolor{comment}{           kprintf ("   S7: "P"\(\backslash\)n\(\backslash\)t   ", thread->context[TH\_CONTEXT\_S7]);}
223 \textcolor{comment}{           kprintf ("   S8: "P,          thread->context[TH\_CONTEXT\_S8]);}
224 \textcolor{comment}{           kprintf ("   SR: "P,          thread->context[TH\_CONTEXT\_SR]);}
225 \textcolor{comment}{           kprintf ("   RA: "P,          thread->context[TH\_CONTEXT\_RA]);}
226 \textcolor{comment}{           kprintf ("   SP: "P"\(\backslash\)n",      thread->context[TH\_CONTEXT\_SP]);}
227 \textcolor{comment}{*/}
228         \}
229     \}
230     \hyperlink{klibc_8c_ac4ae3bb8e59735d2b772e77186b52228}{kprintf} (\hyperlink{kthread_8c_a798e4073d613ca5ba9618e1b3253df14}{Y}\textcolor{stringliteral}{"------------------------ END DUMP ALL THREADS -------------------------\(\backslash\)n"});
231 \}
\end{DoxyCode}
